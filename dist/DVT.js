(function(){
'use strict';var na,oa=this;
function Va(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function gb(a){var b=Va(a);return"array"==b||"object"==b&&"number"==typeof a.length}function hb(a){return"string"==typeof a}function mb(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var tb="closure_uid_"+(1E9*Math.random()>>>0),ub=0;function Ab(a,b){var c=a.split("."),e=oa;c[0]in e||!e.execScript||e.execScript("var "+c[0]);for(var g;c.length&&(g=c.shift());)c.length||void 0===b?e[g]?e=e[g]:e=e[g]={}:e[g]=b}
function Ib(a,b){function c(){}c.prototype=b.prototype;a.Up=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.AB=function(a,c,d){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};var Nb={};
!function(a,b){"object"==typeof module&&"object"==typeof module.Kc?module.Kc=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)}function e(a,b){return a=b||a,"none"===d.ea(a,"display")||!d.contains(a.ownerDocument,a)}function g(a,b){return b.toUpperCase()}function d(a,
b){return new d.D.vc(a,b)}function h(a){var b="length"in a&&a.length,c=d.type(a);return"function"===c||d.Yg(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&0<b&&b-1 in a}function k(a,b,c){if(d.wa(b))return d.Pj(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return d.Pj(a,function(a){return a===b!==c});if("string"==typeof b){if(Bb.test(b))return d.filter(b,a,c);b=d.filter(b,a)}return d.Pj(a,function(a){return 0<=ib.call(b,a)!==c})}function l(a,b){for(;(a=a[b])&&1!==a.nodeType;);
return a}function m(a){var b=vb[a]={};return d.I(a.match(ta)||[],function(a,d){b[d]=!0}),b}function q(){ca.removeEventListener("DOMContentLoaded",q,!1);a.removeEventListener("load",q,!1);d.ready()}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=d.expando+r.Qa++}function p(a,b,c){var e;if(void 0===c&&1===a.nodeType)if(e="data-"+b.replace(Fb,"-$1").toLowerCase(),c=a.getAttribute(e),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+
""===c?+c:Gb.test(c)?d.wg(c):c}catch(g){}pa.set(a,b,c)}else c=void 0;return c}function u(){return!0}function v(){return!1}function t(){try{return ca.activeElement}catch(a){}}function w(a,b){return d.nodeName(a,"table")&&d.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function z(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function x(a){var b=kc.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),
a}function D(a,b){for(var d=0,c=a.length;c>d;d++)aa.set(a[d],"globalEval",!b||aa.get(b[d],"globalEval"))}function B(a,b){var c,e,g,h,k,l;if(1===b.nodeType){if(aa.fi(a)&&(c=aa.Hc(a),e=aa.set(b,c),l=c.Zh))for(g in delete e.handle,e.Zh={},l)for(c=0,e=l[g].length;e>c;c++)d.event.add(b,g,l[g][c]);pa.fi(a)&&(h=pa.Hc(a),k=d.extend({},h),pa.set(b,k))}}function E(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&d.nodeName(a,
b)?d.Hb([a],c):c}function A(b,c){var e,g=d(c.createElement(b)).jj(c.body),h=a.Cx&&(e=a.Cx(g[0]))?e.display:d.ea(g[0],"display");return g.detach(),h}function F(a){var b=ca,c=Jb[a];return c||(c=A(a,b),"none"!==c&&c||(ob=(ob||d("<iframe frameborder='0' width='0' height='0'/>")).jj(b.documentElement),b=ob[0].contentDocument,b.write(),b.close(),c=A(a,b),ob.detach()),Jb[a]=c),c}function G(a,b,e){var g,h,k,l,m=a.style;return e=e||c(a),e&&(l=e.getPropertyValue(b)||e[b]),e&&(""!==l||d.contains(a.ownerDocument,
a)||(l=d.style(a,b)),Z.test(l)&&Yb.test(b)&&(g=m.width,h=m.minWidth,k=m.maxWidth,m.minWidth=m.maxWidth=m.width=l,l=e.width,m.width=g,m.minWidth=h,m.maxWidth=k)),void 0!==l?l+"":l}function y(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a,b){if(b in a)return b;for(var d=b[0].toUpperCase()+b.slice(1),c=b,e=Wa.length;e--;)if(b=Wa[e]+d,b in a)return b;return c}function I(a,b,d){return(a=pb.exec(b))?Math.max(0,a[1]-(d||0))+(a[2]||"px"):b}function V(a,
b,c,e,g){b=c===(e?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===c&&(h+=d.ea(a,c+qa[b],!0,g)),e?("content"===c&&(h-=d.ea(a,"padding"+qa[b],!0,g)),"margin"!==c&&(h-=d.ea(a,"border"+qa[b]+"Width",!0,g))):(h+=d.ea(a,"padding"+qa[b],!0,g),"padding"!==c&&(h+=d.ea(a,"border"+qa[b]+"Width",!0,g)));return h}function Q(a,b,e){var g=!0,h="width"===b?a.offsetWidth:a.offsetHeight,k=c(a),l="border-box"===d.ea(a,"boxSizing",!1,k);if(0>=h||null==h){if(h=G(a,b,k),(0>h||null==h)&&(h=a.style[b]),
Z.test(h))return h;g=l&&(ga.Iw()||h===a.style[b]);h=parseFloat(h)||0}return h+V(a,b,e||(l?"border":"content"),g,k)+"px"}function L(a,b){for(var c,g,h,k=[],l=0,m=a.length;m>l;l++)g=a[l],g.style&&(k[l]=aa.get(g,"olddisplay"),c=g.style.display,b?(k[l]||"none"!==c||(g.style.display=""),""===g.style.display&&e(g)&&(k[l]=aa.Hc(g,"olddisplay",F(g.nodeName)))):(h=e(g),"none"===c&&h||aa.set(g,"olddisplay",h?c:d.ea(g,"display"))));for(l=0;m>l;l++)g=a[l],g.style&&(b&&"none"!==g.style.display&&""!==g.style.display||
(g.style.display=b?k[l]||"":"none"));return a}function T(a,b,d,c,e){return new T.prototype.vc(a,b,d,c,e)}function S(){return setTimeout(function(){wa=void 0}),wa=d.now()}function N(a,b){var d,c=0,e={height:a};for(b=b?1:0;4>c;c+=2-b)d=qa[c],e["margin"+d]=e["padding"+d]=a;return b&&(e.opacity=e.width=a),e}function M(a,b,d){for(var c,e=(vc[b]||[]).concat(vc["*"]),g=0,h=e.length;h>g;g++)if(c=e[g].call(d,b,a))return c}function da(a,b){var c,e,g,h,k;for(c in a)if(e=d.mf(c),g=b[e],h=a[c],d.isArray(h)&&(g=
h[1],h=a[c]=h[0]),c!==e&&(a[e]=h,delete a[c]),k=d.Rd[e],k&&"expand"in k)for(c in h=k.expand(h),delete a[e],h)c in a||(a[c]=h[c],b[c]=g);else b[e]=g}function R(a,b,c){function e(){if(g)return!1;for(var b=wa||S(),b=Math.max(0,m.startTime+m.duration-b),d=1-(b/m.duration||0),c=0,h=m.xk.length;h>c;c++)m.xk[c].Jt(d);return l.Sy(a,[m,d,b]),1>d&&h?b:(l.Ai(a,[m]),!1)}var g,h=0,k=Zb.length,l=d.vh().Qf(function(){delete e.hb}),m=l.pc({hb:a,Zf:d.extend({},b),rd:d.extend(!0,{$t:{}},c),cG:b,bG:c,startTime:wa||
S(),duration:c.duration,xk:[],ax:function(b,c){var e=d.Uu(a,m.rd,b,c,m.rd.$t[b]||m.rd.Ee);return m.xk.push(e),e},stop:function(b){var d=0,c=b?m.xk.length:0;if(g)return this;for(g=!0;c>d;d++)m.xk[d].Jt(1);return b?l.Ai(a,[m,b]):l.qz(a,[m,b]),this}});c=m.Zf;for(da(c,m.rd.$t);k>h;h++)if(b=Zb[h].call(m,a,c,m.rd))return b;return d.map(c,M,m),d.wa(m.rd.start)&&m.rd.start.call(a,m),d.m.ab(d.extend(e,{hb:a,Or:m,Cb:m.rd.Cb})),m.Dp(m.rd.Dp).done(m.rd.done,m.rd.complete).Ij(m.rd.Ij).Qf(m.rd.Qf)}function la(a){return function(b,
c){"string"!=typeof b&&(c=b,b="*");var e,g=0,h=b.toLowerCase().match(ta)||[];if(d.wa(c))for(;e=h[g++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function fa(a,b,c,e){function g(l){var m;return h[l]=!0,d.I(a[l]||[],function(a,d){var P=d(b,c,e);return"string"!=typeof P||k||h[P]?k?!(m=P):void 0:(b.Ce.unshift(P),g(P),!1)}),m}var h={},k=a===sd;return g(b.Ce[0])||!h["*"]&&g("*")}function ua(a,b){var c,e,g=d.Jg.tx||{};for(c in b)void 0!==b[c]&&((g[c]?a:e||(e={}))[c]=
b[c]);return e&&d.extend(!0,a,e),a}function J(a,b,c,e){var g;if(d.isArray(b))d.I(b,function(b,d){c||Gc.test(a)?e(a,d):J(a+"["+("object"==typeof d?b:"")+"]",d,c,e)});else if(c||"object"!==d.type(b))e(a,b);else for(g in b)J(a+"["+g+"]",b[g],c,e)}function Ja(a){return d.Yg(a)?a:9===a.nodeType&&a.defaultView}var ia=[],ra=ia.slice,Fa=ia.concat,Kb=ia.push,ib=ia.indexOf,Na={},Ga=Na.toString,Ra=Na.hasOwnProperty,ga={},ca=a.document,Za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,qb=/^-ms-/,$b=/-([\da-z])/gi;d.D=
d.prototype={Sj:"2.1.4",constructor:d,Sa:"",length:0,Se:function(){return ra.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ra.call(this)},Xd:function(a){a=d.Hb(this.constructor(),a);return a.Cp=this,a.context=this.context,a},I:function(a,b){return d.I(this,a,b)},map:function(a){return this.Xd(d.map(this,function(b,d){return a.call(b,d,b)}))},slice:function(){return this.Xd(ra.apply(this,arguments))},first:function(){return this.Sf(0)},Sf:function(a){var b=this.length;
a=+a+(0>a?b:0);return this.Xd(0<=a&&b>a?[this[a]]:[])},end:function(){return this.Cp||this.constructor(null)},push:Kb,sort:ia.sort,splice:ia.splice};d.extend=d.D.extend=function(){var a,b,c,e,g,h,k=arguments[0]||{},l=1,m=arguments.length,p=!1;"boolean"==typeof k&&(p=k,k=arguments[l]||{},l++);"object"==typeof k||d.wa(k)||(k={});for(l===m&&(k=this,l--);m>l;l++)if(null!=(a=arguments[l]))for(b in a)c=k[b],e=a[b],k!==e&&(p&&e&&(d.Jl(e)||(g=d.isArray(e)))?(g?(g=!1,h=c&&d.isArray(c)?c:[]):h=c&&d.Jl(c)?c:
{},k[b]=d.extend(p,h,e)):void 0!==e&&(k[b]=e));return k};d.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),Yo:!0,error:function(a){throw Error(a);},RF:function(){},wa:function(a){return"function"===d.type(a)},isArray:Array.isArray,Yg:function(a){return null!=a&&a===a.window},cy:function(a){return!d.isArray(a)&&0<=a-parseFloat(a)+1},Jl:function(a){return"object"!==d.type(a)||a.nodeType||d.Yg(a)?!1:a.constructor&&!Ra.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},Rj:function(a){for(var b in a)return!1;
return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Na[Ga.call(a)]||"object":typeof a},Ds:function(a){var b,c=eval;(a=d.trim(a))&&(1===a.indexOf("use strict")?(b=ca.createElement("script"),b.text=a,ca.head.appendChild(b).parentNode.removeChild(b)):c(a))},mf:function(a){return a.replace(qb,"ms-").replace($b,g)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},I:function(a,b,d){var c,e=0,g=a.length,k=h(a);if(d)if(k)for(;g>e&&(c=
b.apply(a[e],d),!1!==c);e++);else for(e in a){if(c=b.apply(a[e],d),!1===c)break}else if(k)for(;g>e&&(c=b.call(a[e],e,a[e]),!1!==c);e++);else for(e in a)if(c=b.call(a[e],e,a[e]),!1===c)break;return a},trim:function(a){return null==a?"":(a+"").replace(Za,"")},Wj:function(a,b){var c=b||[];return null!=a&&(h(Object(a))?d.Hb(c,"string"==typeof a?[a]:a):Kb.call(c,a)),c},Qj:function(a,b,d){return null==b?-1:ib.call(b,a,d)},Hb:function(a,b){for(var d=+b.length,c=0,e=a.length;d>c;c++)a[e++]=b[c];return a.length=
e,a},Pj:function(a,b,d){for(var c=[],e=0,g=a.length,h=!d;g>e;e++)d=!b(a[e],e),d!==h&&c.push(a[e]);return c},map:function(a,b,d){var c,e=0,g=a.length,k=[];if(h(a))for(;g>e;e++)c=b(a[e],e,d),null!=c&&k.push(c);else for(e in a)c=b(a[e],e,d),null!=c&&k.push(c);return Fa.apply([],k)},Zb:1,$a:function(a,b){var c,e,g;return"string"==typeof b&&(c=a[b],b=a,a=c),d.wa(a)?(e=ra.call(arguments,2),g=function(){return a.apply(b||this,e.concat(ra.call(arguments)))},g.Zb=a.Zb=a.Zb||d.Zb++,g):void 0},now:Date.now,
Xb:ga});d.I("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){Na["[object "+b+"]"]=b.toLowerCase()});var K=function(a){function b(){Q()}function d(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)}function c(a,b){for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return-1}function e(a,b){return a===b&&(F=!0),0}function g(a,b,d,c){var e,h,k,P,l;if((b?b.ownerDocument||b:K)!==Ua&&Q(b),b=b||Ua,
d=d||[],P=b.nodeType,"string"!=typeof a||!a||1!==P&&9!==P&&11!==P)return d;if(!c&&H){if(11!==P&&(e=ib.exec(a)))if(k=e[1])if(9===P){if(h=b.getElementById(k),!h||!h.parentNode)return d;if(h.id===k)return d.push(h),d}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(k))&&S(b,h)&&h.id===k)return d.push(h),d}else{if(e[2])return Fa.apply(d,b.getElementsByTagName(a)),d;if((k=e[3])&&A.getElementsByClassName)return Fa.apply(d,b.getElementsByClassName(k)),d}if(A.Ct&&(!Wa||!Wa.test(a))){if(h=e=wa,k=
b,l=1!==P&&a,1===P&&"object"!==b.nodeName.toLowerCase()){P=D(a);(e=b.getAttribute("id"))?h=e.replace(Na,"\\$&"):b.setAttribute("id",h);h="[id='"+h+"'] ";for(k=P.length;k--;)P[k]=h+za(P[k]);k=Sc.test(a)&&r(b.parentNode)||b;l=P.join(",")}if(l)try{return Fa.apply(d,k.querySelectorAll(l)),d}catch(m){}finally{e||b.removeAttribute("id")}}}return E(a.replace(Zb,"$1"),b,d,c)}function h(){function a(d,c){return b.push(d+" ")>y.Lw&&delete a[b.shift()],a[d+" "]=c}var b=[];return a}function k(a){return a[wa]=
!0,a}function l(a){var b=Ua.createElement("div");try{return!!a(b)}catch(d){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function m(a,b){for(var d=a.split("|"),c=a.length;c--;)y.hl[d[c]]=b}function p(a,b){var d=b&&a,c=d&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;if(d)for(;d=d.nextSibling;)if(d===b)return-1;return a?1:-1}function q(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function n(a){return function(b){var d=
b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function Z(a){return k(function(b){return b=+b,k(function(d,c){for(var e,g=a([],d.length,b),h=g.length;h--;)d[e=g[h]]&&(d[e]=!(c[e]=d[e]))})})}function r(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function t(){}function za(a){for(var b=0,d=a.length,c="";d>b;b++)c+=a[b].value;return c}function u(a,b,d){var c=b.dir,e=d&&"parentNode"===c,g=R++;return b.first?function(b,d,g){for(;b=b[c];)if(1===b.nodeType||e)return a(b,
d,g)}:function(b,d,h){var k,P,l=[Eb,g];if(h)for(;b=b[c];){if((1===b.nodeType||e)&&a(b,d,h))return!0}else for(;b=b[c];)if(1===b.nodeType||e){if(P=b[wa]||(b[wa]={}),(k=P[c])&&k[0]===Eb&&k[1]===g)return l[2]=k[2];if(P[c]=l,l[2]=a(b,d,h))return!0}}}function v(a){return 1<a.length?function(b,d,c){for(var e=a.length;e--;)if(!a[e](b,d,c))return!1;return!0}:a[0]}function Aa(a,b,d,c,e){for(var g,h=[],k=0,P=a.length,l=null!=b;P>k;k++)(g=a[k])&&(!d||d(g,c,e))&&(h.push(g),l&&b.push(k));return h}function B(a,
b,d,e,h,P){return e&&!e[wa]&&(e=B(e)),h&&!h[wa]&&(h=B(h,P)),k(function(k,P,l,m){var p,ja,q=[],n=[],Y=P.length,Z;if(!(Z=k)){Z=b||"*";for(var r=l.nodeType?[l]:l,za=[],u=0,t=r.length;t>u;u++)g(Z,r[u],za);Z=za}Z=!a||!k&&b?Z:Aa(Z,q,a,l,m);r=d?h||(k?a:Y||e)?[]:P:Z;if(d&&d(Z,r,l,m),e)for(p=Aa(r,n),e(p,[],l,m),l=p.length;l--;)(ja=p[l])&&(r[n[l]]=!(Z[n[l]]=ja));if(k){if(h||a){if(h){p=[];for(l=r.length;l--;)(ja=r[l])&&p.push(Z[l]=ja);h(null,r=[],p,m)}for(l=r.length;l--;)(ja=r[l])&&-1<(p=h?c(k,ja):q[l])&&(k[p]=
!(P[p]=ja))}}else r=Aa(r===P?r.splice(Y,r.length):r),h?h(null,P,r,m):Fa.apply(P,r)})}function w(a){var b,d,e,g=a.length,h=y.xi[a[0].type];d=h||y.xi[" "];for(var k=h?1:0,P=u(function(a){return a===b},d,!0),l=u(function(a){return-1<c(b,a)},d,!0),m=[function(a,d,c){a=!h&&(c||d!==G)||((b=d).nodeType?P(a,d,c):l(a,d,c));return b=null,a}];g>k;k++)if(d=y.xi[a[k].type])m=[u(v(m),d)];else{if(d=y.filter[a[k].type].apply(null,a[k].matches),d[wa]){for(e=++k;g>e&&!y.xi[a[e].type];e++);return B(1<k&&v(m),1<k&&za(a.slice(0,
k-1).concat({value:" "===a[k-2].type?"*":""})).replace(Zb,"$1"),d,e>k&&w(a.slice(k,e)),g>e&&w(a=a.slice(e)),g>e&&za(a))}m.push(d)}return v(m)}function z(a,b){function d(h,k,P,l,m){var p,ja,n,q=0,Y="0",Z=h&&[],r=[],Xd=G,za=h||e&&y.find.un("*",m),u=Eb+=null==Xd?1:Math.random()||.1,t=za.length;for(m&&(G=k!==Ua&&k);Y!==t&&null!=(p=za[Y]);Y++){if(e&&p){for(ja=0;n=a[ja++];)if(n(p,k,P)){l.push(p);break}m&&(Eb=u)}c&&((p=!n&&p)&&q--,h&&Z.push(p))}if(q+=Y,c&&Y!==q){for(ja=0;n=b[ja++];)n(Z,r,k,P);if(h){if(0<
q)for(;Y--;)Z[Y]||r[Y]||(r[Y]=vc.call(l));r=Aa(r)}Fa.apply(l,r);m&&!h&&0<r.length&&1<q+b.length&&g.Bu(l)}return m&&(Eb=u,G=Xd),Z}var c=0<b.length,e=0<a.length;return c?k(d):d}var C,A,y,x,I,D,pb,E,G,fb,F,Q,Ua,L,H,Wa,V,T,S,wa="sizzle"+1*new Date,K=a.document,Eb=0,R=0,N=h(),M=h(),Kc=h(),U={}.hasOwnProperty,Hb=[],vc=Hb.pop,J=Hb.push,Fa=Hb.push,Tc=Hb.slice,da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),W="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+
da+"))|)[\\x20\\t\\r\\n\\f]*\\]",ca=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",X=/[\x20\t\r\n\f]+/g,Zb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,pc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ga=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ea=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,aa=new RegExp(ca),ba=new RegExp("^"+da+"$"),Gc={Ti:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,lq:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
un:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),hq:new RegExp("^"+W),Hq:new RegExp("^"+ca),Xm:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,ko:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,ak:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
yd=/^(?:input|select|textarea|button)$/i,Ad=/^h\d$/i,Bc=/^[^{]+\{\s*\[native \w/,ib=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sc=/[+~]/,Na=/'|\\/g,fa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig;try{Fa.apply(Hb=Tc.call(K.childNodes),K.childNodes),Hb[K.childNodes.length].nodeType}catch(ud){Fa={apply:Hb.length?function(a,b){J.apply(a,Tc.call(b))}:function(a,b){for(var d=a.length,c=0;a[d++]=b[c++];);a.length=d-1}}}A=g.Xb={};I=g.fy=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==
a.nodeName:!1};Q=g.J=function(a){var g,h,k=a?a.ownerDocument||a:K;return k!==Ua&&9===k.nodeType&&k.documentElement?(Ua=k,L=k.documentElement,h=k.defaultView,h&&h!==h.top&&(h.addEventListener?h.addEventListener("unload",b,!1):h.attachEvent&&h.attachEvent("onunload",b)),H=!I(k),A.attributes=l(function(a){return a.className="i",!a.getAttribute("className")}),A.getElementsByTagName=l(function(a){return a.appendChild(k.createComment("")),!a.getElementsByTagName("*").length}),A.getElementsByClassName=Bc.test(k.getElementsByClassName),
A.ys=l(function(a){return L.appendChild(a).id=wa,!k.getElementsByName||!k.getElementsByName(wa).length}),A.ys?(y.find.Ti=function(a,b){if("undefined"!=typeof b.getElementById&&H){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}},y.filter.Ti=function(a){var b=a.replace(fa,d);return function(a){return a.getAttribute("id")===b}}):(delete y.find.Ti,y.filter.Ti=function(a){var b=a.replace(fa,d);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===
b}}),y.find.un=A.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):A.Ct?b.querySelectorAll(a):void 0}:function(a,b){var d,c=[],e=0,g=b.getElementsByTagName(a);if("*"===a){for(;d=g[e++];)1===d.nodeType&&c.push(d);return c}return g},y.find.lq=A.getElementsByClassName&&function(a,b){return H?b.getElementsByClassName(a):void 0},V=[],Wa=[],(A.Ct=Bc.test(k.querySelectorAll))&&(l(function(a){L.appendChild(a).innerHTML="<a id='"+wa+"'></a><select id='"+
wa+"-\f]' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&Wa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||Wa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+wa+"-]").length||Wa.push("~=");a.querySelectorAll(":checked").length||Wa.push(":checked");a.querySelectorAll("a#"+
wa+"+*").length||Wa.push(".#.+[+~]")}),l(function(a){var b=k.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&Wa.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||Wa.push(":enabled",":disabled");Wa.push(",.*:")})),(A.matchesSelector=Bc.test(T=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&l(function(a){A.ix=T.call(a,"div");T.call(a,
"[s!='']:x");V.push("!=",ca)}),Wa=Wa.length&&new RegExp(Wa.join("|")),V=V.length&&new RegExp(V.join("|")),g=Bc.test(L.compareDocumentPosition),S=g||Bc.test(L.contains)?function(a,b){var d=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||!(d.contains?d.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},e=g?function(a,b){if(a===b)return F=!0,0;var d=!a.compareDocumentPosition-
!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!A.Pz&&b.compareDocumentPosition(a)===d?a===k||a.ownerDocument===K&&S(K,a)?-1:b===k||b.ownerDocument===K&&S(K,b)?1:fb?c(fb,a)-c(fb,b):0:4&d?-1:1)}:function(a,b){if(a===b)return F=!0,0;var d,e=0;d=a.parentNode;var g=b.parentNode,h=[a],P=[b];if(!d||!g)return a===k?-1:b===k?1:d?-1:g?1:fb?c(fb,a)-c(fb,b):0;if(d===g)return p(a,b);for(d=a;d=d.parentNode;)h.unshift(d);for(d=b;d=d.parentNode;)P.unshift(d);
for(;h[e]===P[e];)e++;return e?p(h[e],P[e]):h[e]===K?-1:P[e]===K?1:0},k):Ua};g.matches=function(a,b){return g(a,null,null,b)};g.matchesSelector=function(a,b){if((a.ownerDocument||a)!==Ua&&Q(a),b=b.replace(ea,"='$1']"),!(!A.matchesSelector||!H||V&&V.test(b)||Wa&&Wa.test(b)))try{var d=T.call(a,b);if(d||A.ix||a.document&&11!==a.document.nodeType)return d}catch(c){}return 0<g(b,Ua,null,[a]).length};g.contains=function(a,b){return(a.ownerDocument||a)!==Ua&&Q(a),S(a,b)};g.da=function(a,b){(a.ownerDocument||
a)!==Ua&&Q(a);var d=y.hl[b.toLowerCase()],d=d&&U.call(y.hl,b.toLowerCase())?d(a,b,!H):void 0;return void 0!==d?d:A.attributes||!H?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null};g.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};g.Bu=function(a){var b,d=[],c=0,g=0;if(F=!A.hx,fb=!A.Qz&&a.slice(0),a.sort(e),F){for(;b=a[g++];)b===a[g]&&(c=d.push(g));for(;c--;)a.splice(d[c],1)}return fb=null,a};x=g.Jx=function(a){var b,d="",c=0;if(b=a.nodeType)if(1===
b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=x(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c++];)d+=x(b);return d};y=g.Cz={Lw:50,fC:k,match:Gc,hl:{},find:{},xi:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},gz:{hq:function(a){return a[1]=a[1].replace(fa,d),a[3]=(a[3]||a[4]||a[5]||"").replace(fa,d),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},
Xm:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||g.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&g.error(a[0]),a},Hq:function(a){var b,d=!a[6]&&a[2];return Gc.Xm.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":d&&aa.test(d)&&(b=D(d,!0))&&(b=d.indexOf(")",d.length-b)-d.length)&&(a[0]=a[0].slice(0,b),a[2]=d.slice(0,b)),a.slice(0,3))}},filter:{un:function(a){var b=a.replace(fa,d).toLowerCase();return"*"===a?function(){return!0}:
function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},lq:function(a){var b=N[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),N(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")}))},hq:function(a,b,d){return function(c){c=g.da(c,a);return null==c?"!="===b:b?(c+="","="===b?c===d:"!="===b?c!==d:"^="===b?d&&0===c.indexOf(d):"*="===b?d&&-1<c.indexOf(d):"$="===b?d&&c.slice(-d.length)===
d:"~="===b?-1<(" "+c.replace(X," ")+" ").indexOf(d):"|="===b?c===d||c.slice(0,d.length+1)===d+"-":!1):!0}},Xm:function(a,b,d,c,e){var g="nth"!==a.slice(0,3),h="last"!==a.slice(-4),k="of-type"===b;return 1===c&&0===e?function(a){return!!a.parentNode}:function(b,d,P){var l,m,p,ja,q;d=g!==h?"nextSibling":"previousSibling";var n=b.parentNode,Y=k&&b.nodeName.toLowerCase();P=!P&&!k;if(n){if(g){for(;d;){for(m=b;m=m[d];)if(k?m.nodeName.toLowerCase()===Y:1===m.nodeType)return!1;q=d="only"===a&&!q&&"nextSibling"}return!0}if(q=
[h?n.firstChild:n.lastChild],h&&P)for(P=n[wa]||(n[wa]={}),l=P[a]||[],ja=l[0]===Eb&&l[1],p=l[0]===Eb&&l[2],m=ja&&n.childNodes[ja];m=++ja&&m&&m[d]||(p=ja=0)||q.pop();){if(1===m.nodeType&&++p&&m===b){P[a]=[Eb,ja,p];break}}else if(P&&(l=(b[wa]||(b[wa]={}))[a])&&l[0]===Eb)p=l[1];else for(;(m=++ja&&m&&m[d]||(p=ja=0)||q.pop())&&((k?m.nodeName.toLowerCase()!==Y:1!==m.nodeType)||!++p||(P&&((m[wa]||(m[wa]={}))[a]=[Eb,p]),m!==b)););return p-=e,p===c||0===p%c&&0<=p/c}}},Hq:function(a,b){var d,e=y.$f[a]||y.Ot[a.toLowerCase()]||
g.error("unsupported pseudo: "+a);return e[wa]?e(b):1<e.length?(d=[a,a,"",b],y.Ot.hasOwnProperty(a.toLowerCase())?k(function(a,d){for(var g,h=e(a,b),k=h.length;k--;)g=c(a,h[k]),a[g]=!(d[g]=h[k])}):function(a){return e(a,0,d)}):e}},$f:{Ry:k(function(a){var b=[],d=[],c=pb(a.replace(Zb,"$1"));return c[wa]?k(function(a,b,d,e){var g;d=c(a,null,e,[]);for(e=a.length;e--;)(g=d[e])&&(a[e]=!(b[e]=g))}):function(a,e,g){return b[0]=a,c(b,null,g,d),b[0]=null,!d.pop()}}),has:k(function(a){return function(b){return 0<
g(a,b).length}}),contains:k(function(a){return a=a.replace(fa,d),function(b){return-1<(b.textContent||b.innerText||x(b)).indexOf(a)}}),lang:k(function(a){return ba.test(a||"")||g.error("unsupported lang: "+a),a=a.replace(fa,d).toLowerCase(),function(b){var d;do if(d=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===
b.id},root:function(a){return a===L},focus:function(a){return a===Ua.activeElement&&(!Ua.hasFocus||Ua.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;
return!0},parent:function(a){return!y.$f.empty(a)},ZD:function(a){return Ad.test(a.nodeName)},AG:function(a){return yd.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:Z(function(){return[0]}),BG:Z(function(a,b){return[b-1]}),Sf:Z(function(a,b,d){return[0>d?d+b:d]}),sD:Z(function(a,
b){for(var d=0;b>d;d+=2)a.push(d);return a}),TF:Z(function(a,b){for(var d=1;b>d;d+=2)a.push(d);return a}),RE:Z(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);return a}),XD:Z(function(a,b,d){for(d=0>d?d+b:d;++d<b;)a.push(d);return a})}};y.$f.m=y.$f.Sf;for(C in{CG:!0,TB:!0,file:!0,password:!0,ha:!0})y.$f[C]=q(C);for(C in{submit:!0,reset:!0})y.$f[C]=n(C);t.prototype=y.filters=y.$f;y.Ot=new t;D=g.Qa=function(a,b){var d,c,e,h,k,P,l;if(k=M[a+" "])return b?0:k.slice(0);k=a;P=[];for(l=y.gz;k;){d&&!(c=
pc.exec(k))||(c&&(k=k.slice(c[0].length)||k),P.push(e=[]));d=!1;(c=ga.exec(k))&&(d=c.shift(),e.push({value:d,type:c[0].replace(Zb," ")}),k=k.slice(d.length));for(h in y.filter)!(c=Gc[h].exec(k))||l[h]&&!(c=l[h](c))||(d=c.shift(),e.push({value:d,type:h,matches:c}),k=k.slice(d.length));if(!d)break}return b?k.length:k?g.error(a):M(a,P).slice(0)};return pb=g.m=function(a,b){var d,c=[],e=[],g=Kc[a+" "];if(!g){b||(b=D(a));for(d=b.length;d--;)g=w(b[d]),g[wa]?c.push(g):e.push(g);g=Kc(a,z(e,c));g.Sa=a}return g},
E=g.select=function(a,b,c,e){var g,h,k,P,l,m="function"==typeof a&&a,p=!e&&D(a=m.Sa||a);if(c=c||[],1===p.length){if(h=p[0]=p[0].slice(0),2<h.length&&"ID"===(k=h[0]).type&&A.ys&&9===b.nodeType&&H&&y.xi[h[1].type]){if(b=(y.find.Ti(k.matches[0].replace(fa,d),b)||[])[0],!b)return c;m&&(b=b.parentNode);a=a.slice(h.shift().value.length)}for(g=Gc.ak.test(a)?0:h.length;g--&&(k=h[g],!y.xi[P=k.type]);)if((l=y.find[P])&&(e=l(k.matches[0].replace(fa,d),Sc.test(h[0].type)&&r(b.parentNode)||b))){if(h.splice(g,
1),a=e.length&&za(h),!a)return Fa.apply(c,e),c;break}}return(m||pb(a,p))(e,b,!H,c,Sc.test(a)&&r(b.parentNode)||b),c},A.Qz=wa.split("").sort(e).join("")===wa,A.hx=!!F,Q(),A.Pz=l(function(a){return 1&a.compareDocumentPosition(Ua.createElement("div"))}),l(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||m("type|href|height|width",function(a,b,d){return d?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),A.attributes&&l(function(a){return a.innerHTML=
"<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||m("value",function(a,b,d){return d||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),l(function(a){return null==a.getAttribute("disabled")})||m("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,d){var c;return d?void 0:!0===a[b]?b.toLowerCase():(c=a.getAttributeNode(b))&&c.specified?c.value:null}),g}(a);d.find=
K;d.J=K.Cz;d.J[":"]=d.J.$f;d.unique=K.Bu;d.text=K.Jx;d.Zc=K.fy;d.contains=K.contains;var Pa=d.J.match.ak,nc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Bb=/^.[^:#\[\.,]*$/;d.filter=function(a,b,c){var e=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===e.nodeType?d.find.matchesSelector(e,a)?[e]:[]:d.find.matches(a,d.Pj(b,function(a){return 1===a.nodeType}))};d.D.extend({find:function(a){var b,c=this.length,e=[],g=this;if("string"!=typeof a)return this.Xd(d(a).filter(function(){for(b=0;c>b;b++)if(d.contains(g[b],
this))return!0}));for(b=0;c>b;b++)d.find(a,g[b],e);return e=this.Xd(1<c?d.unique(e):e),e.Sa=this.Sa?this.Sa+" "+a:a,e},filter:function(a){return this.Xd(k(this,a||[],!1))},Ry:function(a){return this.Xd(k(this,a||[],!0))},is:function(a){return!!k(this,"string"==typeof a&&Pa.test(a)?d(a):a||[],!1).length}});var zb,lb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(d.D.vc=function(a,b){var c,e;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:lb.exec(a),
!c||!c[1]&&b)return!b||b.Sj?(b||zb).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof d?b[0]:b,d.Hb(this,d.Pi(c[1],b&&b.nodeType?b.ownerDocument||b:ca,!0)),nc.test(c[1])&&d.Jl(b))for(c in b)d.wa(this[c])?this[c](b[c]):this.da(c,b[c]);return this}return e=ca.getElementById(c[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=ca,this.Sa=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):d.wa(a)?"undefined"!=typeof zb.ready?zb.ready(a):a(d):(void 0!==a.Sa&&(this.Sa=
a.Sa,this.context=a.context),d.Wj(a,this))}).prototype=d.D;zb=d(ca);var cc=/^(?:parents|prev(?:Until|All))/,dc={children:!0,xj:!0,next:!0,Bp:!0};d.extend({dir:function(a,b,c){for(var e=[],g=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&d(a).is(c))break;e.push(a)}return e},Vt:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});d.D.extend({has:function(a){var b=d(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(d.contains(this,
b[a]))return!0})},closest:function(a,b){for(var c,e=0,g=this.length,h=[],k=Pa.test(a)||"string"!=typeof a?d(a,b||this.context):0;g>e;e++)for(c=this[e];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(k?-1<k.index(c):1===c.nodeType&&d.find.matchesSelector(c,a))){h.push(c);break}return this.Xd(1<h.length?d.unique(h):h)},index:function(a){return a?"string"==typeof a?ib.call(d(a),this[0]):ib.call(this,a.Sj?a[0]:a):this[0]&&this[0].parentNode?this.first().hz().length:-1},add:function(a,b){return this.Xd(d.unique(d.Hb(this.get(),
d(a,b))))},nw:function(a){return this.add(null==a?this.Cp:this.Cp.filter(a))}});d.I({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},$y:function(a){return d.dir(a,"parentNode")},az:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},Bp:function(a){return l(a,"previousSibling")},OF:function(a){return d.dir(a,"nextSibling")},hz:function(a){return d.dir(a,"previousSibling")},QF:function(a,b,c){return d.dir(a,"nextSibling",c)},yG:function(a,b,
c){return d.dir(a,"previousSibling",c)},WG:function(a){return d.Vt((a.parentNode||{}).firstChild,a)},children:function(a){return d.Vt(a.firstChild)},xj:function(a){return a.contentDocument||d.Hb([],a.childNodes)}},function(a,b){d.D[a]=function(c,e){var g=d.map(this,b,c);return"Until"!==a.slice(-5)&&(e=c),e&&"string"==typeof e&&(g=d.filter(e,g)),1<this.length&&(dc[a]||d.unique(g),cc.test(a)&&g.reverse()),this.Xd(g)}});var ta=/\S+/g,vb={};d.ab=function(a){function b(d){c=a.memory&&d;e=!0;l=h||0;h=0;
k=p.length;for(g=!0;p&&k>l;l++)if(!1===p[l].apply(d[0],d[1])&&a.oH){c=!1;break}g=!1;p&&(n?n.length&&b(n.shift()):c?p=[]:q.disable())}a="string"==typeof a?vb[a]||m(a):d.extend({},a);var c,e,g,h,k,l,p=[],n=!a.XF&&[],q={add:function(){if(p){var e=p.length;!function ef(b){d.I(b,function(b,c){var e=d.type(c);"function"===e?a.unique&&q.has(c)||p.push(c):c&&c.length&&"string"!==e&&ef(c)})}(arguments);g?k=p.length:c&&(h=e,b(c))}return this},remove:function(){return p&&d.I(arguments,function(a,b){for(var c;-1<
(c=d.Qj(b,p,c));)p.splice(c,1),g&&(k>=c&&k--,l>=c&&l--)}),this},has:function(a){return a?-1<d.Qj(a,p):!(!p||!p.length)},empty:function(){return p=[],k=0,this},disable:function(){return p=n=c=void 0,this},disabled:function(){return!p},py:function(){return n=void 0,c||q.disable(),this},locked:function(){return!n},Io:function(a,d){return!p||e&&!n||(d=d||[],d=[a,d.slice?d.slice():d],g?n.push(d):b(d)),this},Al:function(){return q.Io(this,arguments),this},DD:function(){return!!e}};return q};d.extend({vh:function(a){var b=
[["resolve","done",d.ab("once memory"),"resolved"],["reject","fail",d.ab("once memory"),"rejected"],["notify","progress",d.ab("memory")]],c="pending",e={state:function(){return c},Qf:function(){return g.done(arguments).Ij(arguments),this},then:function(){var a=arguments;return d.vh(function(c){d.I(b,function(b,h){var k=d.wa(a[b])&&a[b];g[h[1]](function(){var a=k&&k.apply(this,arguments);a&&d.wa(a.pc)?a.pc().done(c.resolve).Ij(c.reject).Dp(c.SF):c[h[0]+"With"](this===e?c.pc():this,k?[a]:arguments)})});
a=null}).pc()},pc:function(a){return null!=a?d.extend(a,e):e}},g={};return e.pG=e.then,d.I(b,function(a,d){var h=d[2],k=d[3];e[d[1]]=h.add;k&&h.add(function(){c=k},b[1^a][2].disable,b[2][2].py);g[d[0]]=function(){return g[d[0]+"With"](this===g?e:this,arguments),this};g[d[0]+"With"]=h.Io}),e.pc(g),a&&a.call(g,g),g},VH:function(a){function b(a,d,c){return function(b){d[a]=this;c[a]=1<arguments.length?ra.call(arguments):b;c===l?k.Sy(d,c):--h||k.Ai(d,c)}}var c=0,e=ra.call(arguments),g=e.length,h=1!==
g||a&&d.wa(a.pc)?g:0,k=1===h?a:d.vh(),l,m,p;if(1<g)for(l=Array(g),m=Array(g),p=Array(g);g>c;c++)e[c]&&d.wa(e[c].pc)?e[c].pc().done(b(c,p,e)).Ij(k.reject).Dp(b(c,m,l)):--h;return h||k.Ai(p,e),k.pc()}});var Ya;d.D.ready=function(a){return d.ready.pc().done(a),this};d.extend({Yo:!1,Ep:1,$D:function(a){a?d.Ep++:d.ready(!0)},ready:function(a){(!0===a?--d.Ep:d.Yo)||(d.Yo=!0,!0!==a&&0<--d.Ep||(Ya.Ai(ca,[d]),d.D.zu&&(d(ca).zu("ready"),d(ca).Lc("ready"))))}});d.ready.pc=function(b){return Ya||(Ya=d.vh(),"complete"===
ca.readyState?setTimeout(d.ready):(ca.addEventListener("DOMContentLoaded",q,!1),a.addEventListener("load",q,!1))),Ya.pc(b)};d.ready.pc();var Ma=d.Hc=function(a,b,c,e,g,h,k){var l=0,m=a.length,p=null==c;if("object"===d.type(c))for(l in g=!0,c)d.Hc(a,b,l,c[l],!0,h,k);else if(void 0!==e&&(g=!0,d.wa(e)||(k=!0),p&&(k?(b.call(a,e),b=null):(p=b,b=function(a,b,c){return p.call(d(a),c)})),b))for(;m>l;l++)b(a[l],c,k?e:e.call(a[l],l,b(a[l],c)));return g?a:p?b.call(a):m?b(a[0],c):h};d.rc=function(a){return 1===
a.nodeType||9===a.nodeType||!+a.nodeType};r.Qa=1;r.Mh=d.rc;r.prototype={key:function(a){if(!r.Mh(a))return 0;var b={},c=a[this.expando];if(!c){c=r.Qa++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(e){b[this.expando]=c,d.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var e;a=this.key(a);var g=this.cache[a];if("string"==typeof b)g[b]=c;else if(d.Rj(g))d.extend(this.cache[a],b);else for(e in b)g[e]=b[e];return g},get:function(a,b){var d=this.cache[this.key(a)];
return void 0===b?d:d[b]},Hc:function(a,b,c){var e;return void 0===b||b&&"string"==typeof b&&void 0===c?(e=this.get(a,b),void 0!==e?e:this.get(a,d.mf(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,e,g=this.key(a),h=this.cache[g];if(void 0===b)this.cache[g]={};else for(d.isArray(b)?e=b.concat(b.map(d.mf)):(c=d.mf(b),b in h?e=[b,c]:(e=c,e=e in h?[e]:e.match(ta)||[])),c=e.length;c--;)delete h[e[c]]},fi:function(a){return!d.Rj(this.cache[a[this.expando]]||{})}};var aa=new r,pa=new r,
Gb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fb=/([A-Z])/g;d.extend({fi:function(a){return pa.fi(a)||aa.fi(a)},data:function(a,b,d){return pa.Hc(a,b,d)},uz:function(a,b){pa.remove(a,b)},gf:function(a,b,d){return aa.Hc(a,b,d)},pB:function(a,b){aa.remove(a,b)}});d.D.extend({data:function(a,b){var c,e,g,h=this[0],k=h&&h.attributes;if(void 0===a){if(this.length&&(g=pa.get(h),1===h.nodeType&&!aa.get(h,"hasDataAttrs"))){for(c=k.length;c--;)k[c]&&(e=k[c].name,0===e.indexOf("data-")&&(e=d.mf(e.slice(5)),p(h,e,g[e])));
aa.set(h,"hasDataAttrs",!0)}return g}return"object"==typeof a?this.I(function(){pa.set(this,a)}):Ma(this,function(b){var c,e=d.mf(a);if(h&&void 0===b){if((c=pa.get(h,a),void 0!==c)||(c=pa.get(h,e),void 0!==c)||(c=p(h,e,void 0),void 0!==c))return c}else this.I(function(){var d=pa.get(this,e);pa.set(this,e,b);-1!==a.indexOf("-")&&void 0!==d&&pa.set(this,a,b)})},null,b,1<arguments.length,null,!0)},uz:function(a){return this.I(function(){pa.remove(this,a)})}});d.extend({Cb:function(a,b,c){var e;return a?
(b=(b||"fx")+"queue",e=aa.get(a,b),c&&(!e||d.isArray(c)?e=aa.Hc(a,b,d.Wj(c)):e.push(c)),e||[]):void 0},Vh:function(a,b){function c(){d.Vh(a,b)}b=b||"fx";var e=d.Cb(a,b),g=e.length,h=e.shift(),k=d.Ln(a,b);"inprogress"===h&&(h=e.shift(),g--);h&&("fx"===b&&e.unshift("inprogress"),delete k.stop,h.call(a,c,k));!g&&k&&k.empty.Al()},Ln:function(a,b){var c=b+"queueHooks";return aa.get(a,c)||aa.Hc(a,c,{empty:d.ab("once memory").add(function(){aa.remove(a,[b+"queue",c])})})}});d.D.extend({Cb:function(a,b){var c=
2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?d.Cb(this[0],a):void 0===b?this:this.I(function(){var c=d.Cb(this,a,b);d.Ln(this,a);"fx"===a&&"inprogress"!==c[0]&&d.Vh(this,a)})},Vh:function(a){return this.I(function(){d.Vh(this,a)})},XB:function(a){return this.Cb(a||"fx",[])},pc:function(a,b){function c(){--g||h.Ai(k,[k])}var e,g=1,h=d.vh(),k=this,l=this.length;"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";l--;)(e=aa.get(k[l],a+"queueHooks"))&&e.empty&&(g++,e.empty.add(c));return c(),
h.pc(b)}});var Ha=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qa=["Top","Right","Bottom","Left"],ec=/^(?:checkbox|radio)$/i;!function(){var a=ca.createDocumentFragment().appendChild(ca.createElement("div")),b=ca.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);ga.Ow=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";ga.Ny=!!a.cloneNode(!0).lastChild.defaultValue}();ga.vx="onfocusin"in
a;var Ac=/^key/,n=/^(?:mouse|pointer|contextmenu)|click/,ba=/^(?:focusinfocus|focusoutblur)$/,Ea=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(a,b,c,e,g){var h,k,l,m,p,n,q,Z,r,za;if(p=aa.get(a))for(c.kd&&(h=c,c=h.kd,g=h.Sa),c.Zb||(c.Zb=d.Zb++),(m=p.Zh)||(m=p.Zh={}),(k=p.handle)||(k=p.handle=function(b){return"undefined"!==typeof d&&d.event.Yp!==b.type?d.event.gs.apply(a,arguments):void 0}),b=(b||"").match(ta)||[""],p=b.length;p--;)l=Ea.exec(b[p])||[],r=za=l[1],l=(l[2]||"").split(".").sort(),
r&&(q=d.event.Qe[r]||{},r=(g?q.Uh:q.ml)||r,q=d.event.Qe[r]||{},n=d.extend({type:r,gk:za,data:e,kd:c,Zb:c.Zb,Sa:g,ak:g&&d.J.match.ak.test(g),dh:l.join(".")},h),(Z=m[r])||(Z=m[r]=[],Z.vo=0,q.St&&!1!==q.St.call(a,e,l,k)||a.addEventListener&&a.addEventListener(r,k,!1)),q.add&&(q.add.call(a,n),n.kd.Zb||(n.kd.Zb=c.Zb)),g?Z.splice(Z.vo++,0,n):Z.push(n),d.event.global[r]=!0)},remove:function(a,b,c,e,g){var h,k,l,m,p,n,q,Z,r,za,u,t=aa.fi(a)&&aa.get(a);if(t&&(m=t.Zh)){b=(b||"").match(ta)||[""];for(p=b.length;p--;)if(l=
Ea.exec(b[p])||[],r=u=l[1],za=(l[2]||"").split(".").sort(),r){q=d.event.Qe[r]||{};r=(e?q.Uh:q.ml)||r;Z=m[r]||[];l=l[2]&&new RegExp("(^|\\.)"+za.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=h=Z.length;h--;)n=Z[h],!g&&u!==n.gk||c&&c.Zb!==n.Zb||l&&!l.test(n.dh)||e&&e!==n.Sa&&("**"!==e||!n.Sa)||(Z.splice(h,1),n.Sa&&Z.vo--,q.remove&&q.remove.call(a,n));k&&!Z.length&&(q.uu&&!1!==q.uu.call(a,za,t.handle)||d.Ik(a,r,t.handle),delete m[r])}else for(r in m)d.event.remove(a,r+b[p],c,e,!0);d.Rj(m)&&(delete t.handle,
aa.remove(a,"events"))}},U:function(b,c,e,g){var h,k,l,m,p,n,q,Z=[e||ca],r=Ra.call(b,"type")?b.type:b;h=Ra.call(b,"namespace")?b.dh.split("."):[];if(k=l=e=e||ca,3!==e.nodeType&&8!==e.nodeType&&!ba.test(r+d.event.Yp)&&(0<=r.indexOf(".")&&(h=r.split("."),r=h.shift(),h.sort()),p=0>r.indexOf(":")&&"on"+r,b=b[d.expando]?b:new d.Event(r,"object"==typeof b&&b),b.lE=g?2:3,b.dh=h.join("."),b.ft=b.dh?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==
c?[b]:d.Wj(c,[b]),q=d.event.Qe[r]||{},g||!q.U||!1!==q.U.apply(e,c))){if(!g&&!q.My&&!d.Yg(e)){m=q.Uh||r;for(ba.test(m+r)||(k=k.parentNode);k;k=k.parentNode)Z.push(k),l=k;l===(e.ownerDocument||ca)&&Z.push(l.defaultView||l.parentWindow||a)}for(h=0;(k=Z[h++])&&!b.Xo();)b.type=1<h?m:q.ml||r,(n=(aa.get(k,"events")||{})[b.type]&&aa.get(k,"handle"))&&n.apply(k,c),(n=p&&k[p])&&n.apply&&d.rc(k)&&(b.result=n.apply(k,c),!1===b.result&&b.preventDefault());return b.type=r,g||b.$b()||q.jf&&!1!==q.jf.apply(Z.pop(),
c)||!d.rc(e)||p&&d.wa(e[r])&&!d.Yg(e)&&(l=e[p],l&&(e[p]=null),d.event.Yp=r,e[r](),d.event.Yp=void 0,l&&(e[p]=l)),b.result}},gs:function(a){a=d.event.ls(a);var b,c,e,g,h,k=[],l=ra.call(arguments);b=(aa.get(this,"events")||{})[a.type]||[];var m=d.event.Qe[a.type]||{};if(l[0]=a,a.fx=this,!m.fz||!1!==m.fz.call(this,a)){k=d.event.tf.call(this,a,b);for(b=0;(g=k[b++])&&!a.Xo();)for(a.currentTarget=g.hb,c=0;(h=g.tf[c++])&&!a.Ns();)a.ft&&!a.ft.test(h.dh)||(a.Hl=h,a.data=h.data,e=((d.event.Qe[h.gk]||{}).handle||
h.kd).apply(g.hb,l),void 0===e||!1!==(a.result=e)||(a.preventDefault(),a.stopPropagation()));return m.zt&&m.zt.call(this,a),a.result}},tf:function(a,b){var c,e,g,h,k=[],l=b.vo,m=a.target;if(l&&m.nodeType&&(!a.button||"click"!==a.type))for(;m!==this;m=m.parentNode||this)if(!0!==m.disabled||"click"!==a.type){e=[];for(c=0;l>c;c++)h=b[c],g=h.Sa+" ",void 0===e[g]&&(e[g]=h.ak?0<=d(g,this).index(m):d.find(g,this,null,[m]).length),e[g]&&e.push(h);e.length&&k.push({hb:m,tf:e})}return l<b.length&&k.push({hb:this,
tf:b.slice(l)}),k},Zf:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),ms:{},gy:{Zf:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},Jy:{Zf:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,c,e,g=b.button;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||
ca,c=d.documentElement,e=d.body,a.pageX=b.clientX+(c&&c.scrollLeft||e&&e.scrollLeft||0)-(c&&c.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||e&&e.scrollTop||0)-(c&&c.clientTop||e&&e.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},ls:function(a){if(a[d.expando])return a;var b,c,e;b=a.type;var g=a,h=this.ms[b];h||(this.ms[b]=h=n.test(b)?this.Jy:Ac.test(b)?this.gy:{});e=h.Zf?this.Zf.concat(h.Zf):this.Zf;a=new d.Event(g);for(b=e.length;b--;)c=e[b],a[c]=g[c];return a.target||
(a.target=ca),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},Qe:{load:{My:!0},focus:{U:function(){return this!==t()&&this.focus?(this.focus(),!1):void 0},Uh:"focusin"},blur:{U:function(){return this===t()&&this.blur?(this.blur(),!1):void 0},Uh:"focusout"},click:{U:function(){return"checkbox"===this.type&&this.click&&d.nodeName(this,"input")?(this.click(),!1):void 0},jf:function(a){return d.nodeName(a.target,"a")}},EB:{zt:function(a){void 0!==a.result&&a.ri&&(a.ri.returnValue=
a.result)}}},Nz:function(a,b,c,e){a=d.extend(new d.Event,c,{type:a,kE:!0,ri:{}});e?d.event.U(a,null,b):d.event.gs.call(b,a);a.$b()&&c.preventDefault()}};d.Ik=function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)};d.Event=function(a,b){return this instanceof d.Event?(a&&a.type?(this.ri=a,this.type=a.type,this.$b=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?u:v):this.type=a,b&&d.extend(this,b),this.timeStamp=a&&a.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(a,
b)};d.Event.prototype={$b:v,Xo:v,Ns:v,preventDefault:function(){var a=this.ri;this.$b=u;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.ri;this.Xo=u;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.ri;this.Ns=u;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};d.I({Ky:"mouseover",Ly:"mouseout",rG:"pointerover",sG:"pointerout"},function(a,b){d.event.Qe[a]={Uh:b,ml:b,handle:function(a){var c,e=
a.relatedTarget,g=a.Hl;return(!e||e!==this&&!d.contains(this,e))&&(a.type=g.gk,c=g.kd.apply(this,arguments),a.type=b),c}}});ga.vx||d.I({focus:"focusin",blur:"focusout"},function(a,b){function c(a){d.event.Nz(b,a.target,d.event.ls(a),!0)}d.event.Qe[b]={St:function(){var d=this.ownerDocument||this,e=aa.Hc(d,b);e||d.addEventListener(a,c,!0);aa.Hc(d,b,(e||0)+1)},uu:function(){var d=this.ownerDocument||this,e=aa.Hc(d,b)-1;e?aa.Hc(d,b,e):(d.removeEventListener(a,c,!0),aa.remove(d,b))}}});d.D.extend({ma:function(a,
b,c,e,g){var h,k;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(k in a)this.ma(k,b,c,a[k],g);return this}if(null==c&&null==e?(e=b,c=b=void 0):null==e&&("string"==typeof b?(e=c,c=void 0):(e=c,c=b,b=void 0)),!1===e)e=v;else if(!e)return this;return 1===g&&(h=e,e=function(a){return d().Lc(a),h.apply(this,arguments)},e.Zb=h.Zb||(h.Zb=d.Zb++)),this.I(function(){d.event.add(this,a,e,c,b)})},yc:function(a,b,d,c){return this.ma(a,b,d,c,1)},Lc:function(a,b,c){var e,g;if(a&&a.preventDefault&&
a.Hl)return e=a.Hl,d(a.fx).Lc(e.dh?e.gk+"."+e.dh:e.gk,e.Sa,e.kd),this;if("object"==typeof a){for(g in a)this.Lc(g,b,a[g]);return this}return(!1===b||"function"==typeof b)&&(c=b,b=void 0),!1===c&&(c=v),this.I(function(){d.event.remove(this,a,c,b)})},U:function(a,b){return this.I(function(){d.event.U(a,b,this)})},zu:function(a,b){var c=this[0];return c?d.event.U(a,b,c,!0):void 0}});var fc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Tb=/<([\w:]+)/,Rc=/<|&#?\w+;/,gc=/<(?:script|style|link)/i,
oc=/checked\s*(?:[^=]|=\s*.checked.)/i,hc=/^$|\/(?:java|ecma)script/i,kc=/^true\/(.*)/,Mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ia={lt:[1,"<select multiple='multiple'>","</select>"],Yz:[1,"<table>","</table>"],YB:[2,"<table><colgroup>","</colgroup></table>"],HH:[2,"<table><tbody>","</tbody></table>"],Wz:[3,"<table><tbody><tr>","</tr></tbody></table>"],jf:[0,"",""]};Ia.YF=Ia.lt;Ia.xH=Ia.zH=Ia.ZB=Ia.caption=Ia.Yz;Ia.AH=Ia.Wz;d.extend({clone:function(a,b,c){var e,g,h,k,l=a.cloneNode(!0),m=d.contains(a.ownerDocument,
a);if(!(ga.Ny||1!==a.nodeType&&11!==a.nodeType||d.Zc(a)))for(k=E(l),h=E(a),e=0,g=h.length;g>e;e++){var p=h[e],q=k[e],n=q.nodeName.toLowerCase();"input"===n&&ec.test(p.type)?q.checked=p.checked:("input"===n||"textarea"===n)&&(q.defaultValue=p.defaultValue)}if(b)if(c)for(h=h||E(a),k=k||E(l),e=0,g=h.length;g>e;e++)B(h[e],k[e]);else B(a,l);return k=E(l,"script"),0<k.length&&D(k,!m&&E(a,"script")),l},Tr:function(a,b,c,e){for(var g,h,k,l,m=b.createDocumentFragment(),p=[],q=0,n=a.length;n>q;q++)if(g=a[q],
g||0===g)if("object"===d.type(g))d.Hb(p,g.nodeType?[g]:g);else if(Rc.test(g)){h=h||m.appendChild(b.createElement("div"));k=(Tb.exec(g)||["",""])[1].toLowerCase();k=Ia[k]||Ia.jf;h.innerHTML=k[1]+g.replace(fc,"<$1></$2>")+k[2];for(k=k[0];k--;)h=h.lastChild;d.Hb(p,h.childNodes);h=m.firstChild;h.textContent=""}else p.push(b.createTextNode(g));m.textContent="";for(q=0;g=p[q++];)if((!e||-1===d.Qj(g,e))&&(l=d.contains(g.ownerDocument,g),h=E(m.appendChild(g),"script"),l&&D(h),c))for(k=0;g=h[k++];)hc.test(g.type||
"")&&c.push(g);return m},rl:function(a){for(var b,c,e,g,h=d.event.Qe,k=0;void 0!==(c=a[k]);k++){if(d.rc(c)&&(g=c[aa.expando],g&&(b=aa.cache[g]))){if(b.Zh)for(e in b.Zh)h[e]?d.event.remove(c,e):d.Ik(c,e,b.handle);aa.cache[g]&&delete aa.cache[g]}delete pa.cache[c[pa.expando]]}}});d.D.extend({text:function(a){return Ma(this,function(a){return void 0===a?d.text(this):this.empty().I(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.Yh(arguments,
function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},wG:function(){return this.Yh(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},CB:function(){return this.Yh(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},qB:function(){return this.Yh(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,
b){for(var c,e=a?d.filter(a,this):this,g=0;null!=(c=e[g]);g++)b||1!==c.nodeType||d.rl(E(c)),c.parentNode&&(b&&d.contains(c.ownerDocument,c)&&D(E(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(d.rl(E(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return d.clone(this,a,b)})},vf:function(a){return Ma(this,function(a){var b=this[0]||{},c=0,e=this.length;if(void 0===
a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!gc.test(a)&&!Ia[(Tb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(fc,"<$1></$2>");try{for(;e>c;c++)b=this[c]||{},1===b.nodeType&&(d.rl(E(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},xz:function(){var a=arguments[0];return this.Yh(arguments,function(b){a=this.parentNode;d.rl(E(this));a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,
!0)},Yh:function(a,b){a=Fa.apply([],a);var c,e,g,h,k=0,l=this.length,m=this,p=l-1,q=a[0],n=d.wa(q);if(n||1<l&&"string"==typeof q&&!ga.Ow&&oc.test(q))return this.I(function(d){var c=m.Sf(d);n&&(a[0]=q.call(this,d,c.vf()));c.Yh(a,b)});if(l&&(c=d.Tr(a,this[0].ownerDocument,!1,this),e=c.firstChild,1===c.childNodes.length&&(c=e),e)){e=d.map(E(c,"script"),z);for(g=e.length;l>k;k++)h=c,k!==p&&(h=d.clone(h,!0,!0),g&&d.Hb(e,E(h,"script"))),b.call(this[k],h,k);if(g)for(c=e[e.length-1].ownerDocument,d.map(e,
x),k=0;g>k;k++)h=e[k],hc.test(h.type||"")&&!aa.Hc(h,"globalEval")&&d.contains(c,h)&&(h.src?d.ke&&d.ke(h.src):d.Ds(h.textContent.replace(Mb,"")))}return this}});d.I({jj:"append",xG:"prepend",insertBefore:"before",Ks:"after",HG:"replaceWith"},function(a,b){d.D[a]=function(a){for(var c=[],e=d(a),g=e.length-1,h=0;g>=h;h++)a=h===g?this:this.clone(!0),d(e[h])[b](a),Kb.apply(c,a.get());return this.Xd(c)}});var ob,Jb={},Yb=/^margin/,Z=new RegExp("^("+Ha+")(?!px)[a-z%]+$","i");!function(){var b,c,e=ca.documentElement,
g=ca.createElement("div"),h=ca.createElement("div");if(h.style){var k=function(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";h.innerHTML="";e.appendChild(g);var d=a.getComputedStyle(h,null);b="1%"!==d.top;c="4px"===d.width;e.removeChild(g)};h.style.Sr="content-box";h.cloneNode(!0).style.Sr="";ga.Sw="content-box"===h.style.Sr;g.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute";
g.appendChild(h);a.getComputedStyle&&d.extend(ga,{dz:function(){return k(),b},Iw:function(){return null==c&&k(),c},rz:function(){var b,d=h.appendChild(ca.createElement("div"));return d.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",d.style.marginRight=d.style.width="0",h.style.width="1px",e.appendChild(g),b=!parseFloat(a.getComputedStyle(d,null).marginRight),e.removeChild(g),h.removeChild(d),
b}})}}();d.Jk=function(a,b,d,c){var e,g={};for(e in b)g[e]=a.style[e],a.style[e]=b[e];d=d.apply(a,c||[]);for(e in b)a.style[e]=g[e];return d};var za=/^(none|table(?!-c[ea]).+)/,pb=new RegExp("^("+Ha+")(.*)$","i"),Aa=new RegExp("^([+-])=("+Ha+")","i"),fb={position:"absolute",visibility:"hidden",display:"block"},Ua={letterSpacing:"0",fontWeight:"400"},Wa=["Webkit","O","Moz","ms"];d.extend({Rd:{opacity:{get:function(a,b){if(b){var d=G(a,"opacity");return""===d?"1":d}}}},ul:{aC:!0,BD:!0,ED:!0,FD:!0,fontWeight:!0,
lineHeight:!0,opacity:!0,Yf:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},Aj:{"float":"cssFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,h,k,l=d.mf(b),m=a.style;return b=d.Aj[l]||(d.Aj[l]=C(m,l)),k=d.Rd[b]||d.Rd[l],void 0===c?k&&"get"in k&&void 0!==(g=k.get(a,!1,e))?g:m[b]:(h=typeof c,"string"===h&&(g=Aa.exec(c))&&(c=(g[1]+1)*g[2]+parseFloat(d.ea(a,b)),h="number"),null!=c&&c===c&&("number"!==h||d.ul[l]||(c+="px"),ga.Sw||""!==c||0!==b.indexOf("background")||(m[b]=
"inherit"),k&&"set"in k&&void 0===(c=k.set(a,c,e))||(m[b]=c)),void 0)}},ea:function(a,b,c,e){var g,h,k,l=d.mf(b);return b=d.Aj[l]||(d.Aj[l]=C(a.style,l)),k=d.Rd[b]||d.Rd[l],k&&"get"in k&&(g=k.get(a,!0,c)),void 0===g&&(g=G(a,b,e)),"normal"===g&&b in Ua&&(g=Ua[b]),""===c||c?(h=parseFloat(g),!0===c||d.cy(h)?h||0:g):g}});d.I(["height","width"],function(a,b){d.Rd[b]={get:function(a,c,e){return c?za.test(d.ea(a,"display"))&&0===a.offsetWidth?d.Jk(a,fb,function(){return Q(a,b,e)}):Q(a,b,e):void 0},set:function(a,
e,g){var h=g&&c(a);return I(0,e,g?V(a,b,g,"border-box"===d.ea(a,"boxSizing",!1,h),h):0)}}});d.Rd.marginRight=y(ga.rz,function(a,b){return b?d.Jk(a,{display:"inline-block"},G,[a,"marginRight"]):void 0});d.I({margin:"",padding:"",border:"Width"},function(a,b){d.Rd[a+b]={expand:function(d){var c=0,e={};for(d="string"==typeof d?d.split(" "):[d];4>c;c++)e[a+qa[c]+b]=d[c]||d[c-2]||d[0];return e}};Yb.test(a)||(d.Rd[a+b].set=I)});d.D.extend({ea:function(a,b){return Ma(this,function(a,b,e){var g,h={},k=0;
if(d.isArray(b)){e=c(a);for(g=b.length;g>k;k++)h[b[k]]=d.ea(a,b[k],!1,e);return h}return void 0!==e?d.style(a,b,e):d.ea(a,b)},a,b,1<arguments.length)},show:function(){return L(this,!0)},mc:function(){return L(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.mc():this.I(function(){e(this)?d(this).show():d(this).mc()})}});d.Uu=T;T.prototype={constructor:T,vc:function(a,b,c,e,g,h){this.hb=a;this.mb=c;this.Ee=g||"swing";this.options=b;this.start=this.now=this.to();this.end=e;this.Cu=
h||(d.ul[c]?"":"px")},to:function(){var a=T.zf[this.mb];return a&&a.get?a.get(this):T.zf.jf.get(this)},Jt:function(a){var b,c=T.zf[this.mb];return this.options.duration?this.ui=b=d.Ee[this.Ee](a,this.options.duration*a,0,1,this.options.duration):this.ui=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.hb,this.now,this),c&&c.set?c.set(this):T.zf.jf.set(this),this}};T.prototype.vc.prototype=T.prototype;T.zf={jf:{get:function(a){var b;return null==a.hb[a.mb]||
a.hb.style&&null!=a.hb.style[a.mb]?(b=d.ea(a.hb,a.mb,""),b&&"auto"!==b?b:0):a.hb[a.mb]},set:function(a){d.m.step[a.mb]?d.m.step[a.mb](a):a.hb.style&&(null!=a.hb.style[d.Aj[a.mb]]||d.Rd[a.mb])?d.style(a.hb,a.mb,a.now+a.Cu):a.hb[a.mb]=a.now}}};T.zf.scrollTop=T.zf.scrollLeft={set:function(a){a.hb.nodeType&&a.hb.parentNode&&(a.hb[a.mb]=a.now)}};d.Ee={oy:function(a){return a},qH:function(a){return.5-Math.cos(a*Math.PI)/2}};d.m=T.prototype.vc;d.m.step={};var wa,Hb,Eb=/^(?:toggle|show|hide)$/,ee=new RegExp("^(?:([+-])=|)("+
Ha+")([a-z%]*)$","i"),Sc=/queueHooks$/,Zb=[function(a,b,c){var g,h,k,l,m,p,q,n=this,r={},Z=a.style,za=a.nodeType&&e(a),u=aa.get(a,"fxshow");c.Cb||(l=d.Ln(a,"fx"),null==l.Em&&(l.Em=0,m=l.empty.Al,l.empty.Al=function(){l.Em||m()}),l.Em++,n.Qf(function(){n.Qf(function(){l.Em--;d.Cb(a,"fx").length||l.empty.Al()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[Z.overflow,Z.overflowX,Z.overflowY],p=d.ea(a,"display"),q="none"===p?aa.get(a,"olddisplay")||F(a.nodeName):p,"inline"===q&&"none"===
d.ea(a,"float")&&(Z.display="inline-block"));c.overflow&&(Z.overflow="hidden",n.Qf(function(){Z.overflow=c.overflow[0];Z.overflowX=c.overflow[1];Z.overflowY=c.overflow[2]}));for(g in b)if(h=b[g],Eb.exec(h)){if(delete b[g],k=k||"toggle"===h,h===(za?"hide":"show")){if("show"!==h||!u||void 0===u[g])continue;za=!0}r[g]=u&&u[g]||d.style(a,g)}else p=void 0;if(d.Rj(r))"inline"===("none"===p?F(a.nodeName):p)&&(Z.display=p);else for(g in u?"hidden"in u&&(za=u.hidden):u=aa.Hc(a,"fxshow",{}),k&&(u.hidden=!za),
za?d(a).show():n.done(function(){d(a).mc()}),n.done(function(){var b;aa.remove(a,"fxshow");for(b in r)d.style(a,b,r[b])}),r)b=M(za?u[g]:0,g,n),g in u||(u[g]=b.start,za&&(b.end=b.start,b.start="width"===g||"height"===g?1:0))}],vc={"*":[function(a,b){var c=this.ax(a,b),e=c.to(),g=ee.exec(b),h=g&&g[3]||(d.ul[a]?"":"px"),k=(d.ul[a]||"px"!==h&&+e)&&ee.exec(d.ea(c.hb,a)),l=1,m=20;if(k&&k[3]!==h){h=h||k[3];g=g||[];k=+e||1;do l=l||".5",k/=l,d.style(c.hb,a,k+h);while(l!==(l=c.to()/e)&&1!==l&&--m)}return g&&
(k=c.start=+k||+e||0,c.Cu=h,c.end=g[1]?k+(g[1]+1)*g[2]:+g[2]),c}]};d.Pm=d.extend(R,{LH:function(a,b){d.wa(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,g=a.length;g>e;e++)c=a[e],vc[c]=vc[c]||[],vc[c].unshift(b)},vG:function(a,b){b?Zb.unshift(a):Zb.push(a)}});d.fv=function(a,b,c){var e=a&&"object"==typeof a?d.extend({},a):{complete:c||!c&&b||d.wa(a)&&a,duration:a,Ee:c&&b||b&&!d.wa(b)&&b};return e.duration=d.m.Lc?0:"number"==typeof e.duration?e.duration:e.duration in d.m.ym?d.m.ym[e.duration]:d.m.ym.jf,
(null==e.Cb||!0===e.Cb)&&(e.Cb="fx"),e.ht=e.complete,e.complete=function(){d.wa(e.ht)&&e.ht.call(this);e.Cb&&d.Vh(this,e.Cb)},e};d.D.extend({xD:function(a,b,c,d){return this.filter(e).ea("opacity",0).show().end().Bd({opacity:b},a,c,d)},Bd:function(a,b,c,e){function g(){var b=R(this,d.extend({},a),k);(h||aa.get(this,"finish"))&&b.stop(!0)}var h=d.Rj(a),k=d.fv(b,c,e);return g.finish=g,h||!1===k.Cb?this.I(g):this.Cb(k.Cb,g)},stop:function(a,b,c){function e(a){var b=a.stop;delete a.stop;b(c)}return"string"!=
typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.Cb(a||"fx",[]),this.I(function(){var b=!0,g=null!=a&&a+"queueHooks",h=d.Qa,k=aa.get(this);if(g)k[g]&&k[g].stop&&e(k[g]);else for(g in k)k[g]&&k[g].stop&&Sc.test(g)&&e(k[g]);for(g=h.length;g--;)h[g].hb!==this||null!=a&&h[g].Cb!==a||(h[g].Or.stop(c),b=!1,h.splice(g,1));!b&&c||d.Vh(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.I(function(){var b,c=aa.get(this),e=c[a+"queue"];b=c[a+"queueHooks"];var g=d.Qa,h=e?e.length:0;c.finish=!0;d.Cb(this,
a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].hb===this&&g[b].Cb===a&&(g[b].Or.stop(!0),g.splice(b,1));for(b=0;h>b;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});d.I(["toggle","show","hide"],function(a,b){var c=d.D[b];d.D[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.Bd(N(b,!0),a,d,e)}});d.I({eH:N("show"),Oz:N("hide"),fH:N("toggle"),wD:{opacity:"show"},px:{opacity:"hide"},yD:{opacity:"toggle"}},function(a,b){d.D[a]=function(a,
c,d){return this.Bd(b,a,c,d)}});d.Qa=[];d.m.Qa=function(){var a,b=0,c=d.Qa;for(wa=d.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||d.m.stop();wa=void 0};d.m.ab=function(a){d.Qa.push(a);a()?d.m.start():d.Qa.pop()};d.m.interval=13;d.m.start=function(){Hb||(Hb=setInterval(d.m.Qa,d.m.interval))};d.m.stop=function(){clearInterval(Hb);Hb=null};d.m.ym={gH:600,AD:200,jf:400};d.D.Dd=function(a,b){return a=d.m?d.m.ym[a]||a:a,b=b||"fx",this.Cb(b,function(b,c){var d=setTimeout(b,a);c.stop=
function(){clearTimeout(d)}})};(function(){var a=ca.createElement("input"),b=ca.createElement("select"),c=b.appendChild(ca.createElement("option"));a.type="checkbox";ga.Pw=""!==a.value;ga.Yy=c.selected;b.disabled=!0;ga.Xy=!c.disabled;a=ca.createElement("input");a.value="t";a.type="radio";ga.lz="t"===a.value})();var Tc,Uc=d.J.hl;d.D.extend({da:function(a,b){return Ma(this,d.da,a,b,1<arguments.length)},yi:function(a){return this.I(function(){d.yi(this,a)})}});d.extend({da:function(a,b,c){var e,g,h=
a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return"undefined"===typeof a.getAttribute?d.mb(a,b,c):(1===h&&d.Zc(a)||(b=b.toLowerCase(),e=d.qw[b]||(d.J.match.ko.test(b)?Tc:void 0)),void 0===c?e&&"get"in e&&null!==(g=e.get(a,b))?g:(g=d.find.da(a,b),null==g?void 0:g):null!==c?e&&"set"in e&&void 0!==(g=e.set(a,c,b))?g:(a.setAttribute(b,c+""),c):void d.yi(a,b))},yi:function(a,b){var c,e,g=0,h=b&&b.match(ta);if(h&&1===a.nodeType)for(;c=h[g++];)e=d.Ul[c]||c,d.J.match.ko.test(c)&&(a[e]=!1),a.removeAttribute(c)},
qw:{type:{set:function(a,b){if(!ga.lz&&"radio"===b&&d.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}});Tc={set:function(a,b,c){return!1===b?d.yi(a,c):a.setAttribute(c,c),c}};d.I(d.J.match.ko.source.match(/\w+/g),function(a,b){var c=Uc[b]||d.find.da;Uc[b]=function(a,b,d){var e,g;return d||(g=Uc[b],Uc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,Uc[b]=g),e}});var gf=/^(?:input|select|textarea|button)$/i;d.D.extend({mb:function(a,b){return Ma(this,d.mb,a,b,1<arguments.length)},
GG:function(a){return this.I(function(){delete this[d.Ul[a]||a]})}});d.extend({Ul:{"for":"htmlFor","class":"className"},mb:function(a,b,c){var e,g,h,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k)return h=1!==k||!d.Zc(a),h&&(b=d.Ul[b]||b,g=d.zf[b]),void 0!==c?g&&"set"in g&&void 0!==(e=g.set(a,c,b))?e:a[b]=c:g&&"get"in g&&null!==(e=g.get(a,b))?e:a[b]},zf:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gf.test(a.nodeName)||a.href?a.tabIndex:-1}}}});ga.Yy||(d.zf.selected={get:function(a){a=a.parentNode;
return a&&a.parentNode&&a.parentNode.selectedIndex,null}});d.I("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.Ul[this.toLowerCase()]=this});var wd=/[\t\r\n\f]/g;d.D.extend({Ga:function(a){var b,c,e,g,h;b="string"==typeof a&&a;var k=0,l=this.length;if(d.wa(a))return this.I(function(b){d(this).Ga(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ta)||[];l>k;k++)if(c=this[k],e=1===c.nodeType&&(c.className?(" "+
c.className+" ").replace(wd," "):" ")){for(h=0;g=b[h++];)0>e.indexOf(" "+g+" ")&&(e+=g+" ");e=d.trim(e);c.className!==e&&(c.className=e)}return this},Ra:function(a){var b,c,e,g,h;b=0===arguments.length||"string"==typeof a&&a;var k=0,l=this.length;if(d.wa(a))return this.I(function(b){d(this).Ra(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ta)||[];l>k;k++)if(c=this[k],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(wd," "):"")){for(h=0;g=b[h++];)for(;0<=e.indexOf(" "+g+" ");)e=
e.replace(" "+g+" "," ");e=a?d.trim(e):"";c.className!==e&&(c.className=e)}return this},Fi:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.Ga(a):this.Ra(a):this.I(d.wa(a)?function(c){d(this).Fi(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,e=0,g=d(this),h=a.match(ta)||[];b=h[e++];)g.Za(b)?g.Ra(b):g.Ga(b);else("undefined"===c||"boolean"===c)&&(this.className&&aa.set(this,"__className__",this.className),this.className=this.className||!1===a?"":
aa.get(this,"__className__")||"")})},Za:function(a){a=" "+a+" ";for(var b=0,c=this.length;c>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(wd," ").indexOf(a))return!0;return!1}});var hf=/\r/g;d.D.extend({Hm:function(a){var b,c,e,g=this[0];if(arguments.length)return e=d.wa(a),this.I(function(c){var g;1===this.nodeType&&(g=e?a.call(this,c,d(this).Hm()):a,null==g?g="":"number"==typeof g?g+="":d.isArray(g)&&(g=d.map(g,function(a){return null==a?"":a+""})),b=d.Gi[this.type]||d.Gi[this.nodeName.toLowerCase()],
b&&"set"in b&&void 0!==b.set(this,g,"value")||(this.value=g))});if(g)return b=d.Gi[g.type]||d.Gi[g.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(g,"value"))?c:(c=g.value,"string"==typeof c?c.replace(hf,""):null==c?"":c)}});d.extend({Gi:{lt:{get:function(a){var b=d.find.da(a,"value");return null!=b?b:d.trim(d.text(a))}},select:{get:function(a){for(var b,c=a.options,e=a.selectedIndex,g="select-one"===a.type||0>e,h=g?null:[],k=g?e+1:c.length,l=0>e?k:g?e:0;k>l;l++)if(b=c[l],!(!b.selected&&l!==
e||(ga.Xy?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&d.nodeName(b.parentNode,"optgroup"))){if(a=d(b).Hm(),g)return a;h.push(a)}return h},set:function(a,b){for(var c,e,g=a.options,h=d.Wj(b),k=g.length;k--;)e=g[k],(e.selected=0<=d.Qj(e.value,h))&&(c=!0);return c||(a.selectedIndex=-1),h}}}});d.I(["radio","checkbox"],function(){d.Gi[this]={set:function(a,b){return d.isArray(b)?a.checked=0<=d.Qj(d(a).Hm(),b):void 0}};ga.Pw||(d.Gi[this].get=function(a){return null===a.getAttribute("value")?
"on":a.value})});d.I("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){d.D[b]=function(a,c){return 0<arguments.length?this.ma(b,null,a,c):this.U(b)}});d.D.extend({Wx:function(a,b){return this.Ky(a).Ly(b||a)},bind:function(a,b,c){return this.ma(a,null,b,c)},NH:function(a,b){return this.Lc(a,null,b)},GC:function(a,b,c,d){return this.ma(b,
a,c,d)},OH:function(a,b,c){return 1===arguments.length?this.Lc(a,"**"):this.Lc(b,a||"**",c)}});var xd=d.now(),Kc=/\?/;d.wg=function(a){return JSON.parse(a+"")};d.gv=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(e){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+a),b};var Bc=/#.*$/,fe=/([?&])_=[^&]*/,yd=/^(.*?):[ \t]*([^\r\n]*)$/gm,jf=/^(?:GET|HEAD)$/,kf=/^\/\//,ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
he={},sd={},ie="*/".concat("*"),zd=a.location.href,pc=ge.exec(zd.toLowerCase())||[];d.extend({active:0,lastModified:{},Go:{},Jg:{url:zd,type:"GET",iE:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pc[1]),global:!0,iz:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",Mh:{"*":ie,text:"text/plain",vf:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},xj:{xml:/xml/,vf:/html/,json:/json/},Gt:{xml:"responseXML",text:"responseText",
json:"responseJSON"},yj:{"* text":String,"text html":!0,"text json":d.wg,"text xml":d.gv},tx:{url:!0,context:!0}},Sn:function(a,b){return b?ua(ua(a,d.Jg),b):ua(d.Jg,a)},Jr:la(he),Kr:la(sd),el:function(a,b){function c(a,b,k,m){var q,v,Aa,w,z=b;if(2!==B){B=2;l&&clearTimeout(l);e=void 0;h=m||"";y.readyState=0<a?4:0;m=200<=a&&300>a||304===a;if(k){Aa=n;for(var A=y,C,P,x,D,I=Aa.xj,pb=Aa.Ce;"*"===pb[0];)pb.shift(),void 0===C&&(C=Aa.op||A.getResponseHeader("Content-Type"));if(C)for(P in I)if(I[P]&&I[P].test(C)){pb.unshift(P);
break}if(pb[0]in k)x=pb[0];else{for(P in k){if(!pb[0]||Aa.yj[P+" "+pb[0]]){x=P;break}D||(D=P)}x=x||D}Aa=x?(x!==pb[0]&&pb.unshift(x),k[x]):void 0}var G;a:{k=n;C=Aa;P=y;x=m;var E,fb,F;Aa={};A=k.Ce.slice();if(A[1])for(E in k.yj)Aa[E.toLowerCase()]=k.yj[E];for(D=A.shift();D;)if(k.Gt[D]&&(P[k.Gt[D]]=C),!F&&x&&k.ex&&(C=k.ex(C,k.dataType)),F=D,D=A.shift())if("*"===D)D=F;else if("*"!==F&&F!==D){if(E=Aa[F+" "+D]||Aa["* "+D],!E)for(G in Aa)if(fb=G.split(" "),fb[1]===D&&(E=Aa[F+" "+fb[0]]||Aa["* "+fb[0]])){!0===
E?E=Aa[G]:!0!==Aa[G]&&(D=fb[0],A.unshift(fb[1]));break}if(!0!==E)if(E&&k["throws"])C=E(C);else try{C=E(C)}catch(Ua){G={state:"parsererror",error:E?Ua:"No conversion from "+F+" to "+D};break a}}G={state:"success",data:C}}Aa=G;m?(n.Yx&&(w=y.getResponseHeader("Last-Modified"),w&&(d.lastModified[g]=w),w=y.getResponseHeader("etag"),w&&(d.Go[g]=w)),204===a||"HEAD"===n.type?z="nocontent":304===a?z="notmodified":(z=Aa.state,q=Aa.data,v=Aa.error,m=!v)):(v=z,(a||!z)&&(z="error",0>a&&(a=0)));y.status=a;y.statusText=
(b||z)+"";m?u.Ai(r,[q,z,y]):u.qz(r,[y,z,v]);y.ku(t);t=void 0;p&&Z.U(m?"ajaxSuccess":"ajaxError",[y,n,m?q:v]);za.Io(r,[y,z]);p&&(Z.U("ajaxComplete",[y,n]),--d.active||d.event.U("ajaxStop"))}}"object"==typeof a&&(b=a,a=void 0);b=b||{};var e,g,h,k,l,m,p,q,n=d.Sn({},b),r=n.context||n,Z=n.context&&(r.nodeType||r.Sj)?d(r):d.event,u=d.vh(),za=d.ab("once memory"),t=n.ku||{},v={},Aa={},B=0,w="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(2===B){if(!k)for(k={};b=yd.exec(h);)k[b[1].toLowerCase()]=
b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===B?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return B||(a=Aa[c]=Aa[c]||a,v[a]=b),this},overrideMimeType:function(a){return B||(n.op=a),this},ku:function(a){var b;if(a)if(2>B)for(b in a)t[b]=[t[b],a[b]];else y.Qf(a[y.status]);return this},abort:function(a){a=a||w;return e&&e.abort(a),c(0,a),this}};if(u.pc(y).complete=za.add,y.nu=y.done,y.error=y.Ij,n.url=((a||n.url||zd)+"").replace(Bc,"").replace(kf,
pc[1]+"//"),n.type=b.method||b.type||n.method||n.type,n.Ce=d.trim(n.dataType||"*").toLowerCase().match(ta)||[""],null==n.zj&&(m=ge.exec(n.url.toLowerCase()),n.zj=!(!m||m[1]===pc[1]&&m[2]===pc[2]&&(m[3]||("http:"===m[1]?"80":"443"))===(pc[3]||("http:"===pc[1]?"80":"443")))),n.data&&n.iz&&"string"!=typeof n.data&&(n.data=d.me(n.data,n.$z)),fa(he,n,b,y),2===B)return y;(p=d.event&&n.global)&&0===d.active++&&d.event.U("ajaxStart");n.type=n.type.toUpperCase();n.ei=!jf.test(n.type);g=n.url;n.ei||(n.data&&
(g=n.url+=(Kc.test(g)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=fe.test(g)?g.replace(fe,"$1_="+xd++):g+(Kc.test(g)?"&":"?")+"_="+xd++));n.Yx&&(d.lastModified[g]&&y.setRequestHeader("If-Modified-Since",d.lastModified[g]),d.Go[g]&&y.setRequestHeader("If-None-Match",d.Go[g]));(n.data&&n.ei&&!1!==n.contentType||b.contentType)&&y.setRequestHeader("Content-Type",n.contentType);y.setRequestHeader("Accept",n.Ce[0]&&n.Mh[n.Ce[0]]?n.Mh[n.Ce[0]]+("*"!==n.Ce[0]?", "+ie+"; q=0.01":""):n.Mh["*"]);for(q in n.headers)y.setRequestHeader(q,
n.headers[q]);if(n.Fw&&(!1===n.Fw.call(r,y,n)||2===B))return y.abort();w="abort";for(q in{nu:1,error:1,complete:1})y[q](n[q]);if(e=fa(sd,n,b,y)){y.readyState=1;p&&Z.U("ajaxSend",[y,n]);n.async&&0<n.timeout&&(l=setTimeout(function(){y.abort("timeout")},n.timeout));try{B=1,e.send(v,c)}catch(z){if(!(2>B))throw z;c(-1,z)}}else c(-1,"No Transport");return y},OD:function(a,b,c){return d.get(a,b,c,"json")},QD:function(a,b){return d.get(a,void 0,b,"script")}});d.I(["get","post"],function(a,b){d[b]=function(a,
c,e,g){return d.wa(c)&&(g=g||e,e=c,c=void 0),d.el({url:a,type:b,dataType:g,data:c,nu:e})}});d.ke=function(a){return d.el({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};d.D.extend({eq:function(a){var b;return d.wa(a)?this.I(function(b){d(this).eq(a.call(this,b))}):(this[0]&&(b=d(a,this[0].ownerDocument).Sf(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},lA:function(a){return this.I(d.wa(a)?
function(b){d(this).lA(a.call(this,b))}:function(){var b=d(this),c=b.xj();c.length?c.eq(a):b.append(a)})},Ak:function(a){var b=d.wa(a);return this.I(function(c){d(this).eq(b?a.call(this,c):a)})},QH:function(){return this.parent().I(function(){d.nodeName(this,"body")||d(this).xz(this.childNodes)}).end()}});d.J.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};d.J.filters.visible=function(a){return!d.J.filters.hidden(a)};var Ad=/%20/g,Gc=/\[\]$/,je=/\r?\n/g,lf=/^(?:submit|button|image|reset|file)$/i,
mf=/^(?:input|select|textarea|keygen)/i;d.me=function(a,b){function c(a,b){b=d.wa(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}var e,g=[];if(void 0===b&&(b=d.Jg&&d.Jg.$z),d.isArray(a)||a.Sj&&!d.Jl(a))d.I(a,function(){c(this.name,this.value)});else for(e in a)J(e,a[e],b,c);return g.join("&").replace(Ad,"+")};d.D.extend({TG:function(){return d.me(this.Dz())},Dz:function(){return this.map(function(){var a=d.mb(this,"elements");return a?d.Wj(a):this}).filter(function(){var a=
this.type;return this.name&&!d(this).is(":disabled")&&mf.test(this.nodeName)&&!lf.test(a)&&(this.checked||!ec.test(a))}).map(function(a,b){var c=d(this).Hm();return null==c?null:d.isArray(c)?d.map(c,function(a){return{name:b.name,value:a.replace(je,"\r\n")}}):{name:b.name,value:c.replace(je,"\r\n")}}).get()}});d.Jg.Fu=function(){try{return new XMLHttpRequest}catch(a){}};var nf=0,id={},of={0:200,1223:204},Vc=d.Jg.Fu();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in id)id[a]()});ga.$w=
!!Vc&&"withCredentials"in Vc;ga.el=Vc=!!Vc;d.Kr(function(a){var b;return ga.$w||Vc&&!a.zj?{send:function(c,d){var e,g=a.Fu(),h=++nf;if(g.open(a.type,a.url,a.async,a.username,a.password),a.Gu)for(e in a.Gu)g[e]=a.Gu[e];a.op&&g.overrideMimeType&&g.overrideMimeType(a.op);a.zj||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)g.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete id[h],b=g.onload=g.onerror=null,"abort"===a?g.abort():"error"===a?d(g.status,g.statusText):
d(of[g.status]||g.status,g.statusText,"string"==typeof g.responseText?{text:g.responseText}:void 0,g.getAllResponseHeaders()))}};g.onload=b();g.onerror=b("error");b=id[h]=b("abort");try{g.send(a.ei&&a.data||null)}catch(k){if(b)throw k;}},abort:function(){b&&b()}}:void 0});d.Sn({Mh:{Bz:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},xj:{Bz:/(?:java|ecma)script/},yj:{"text script":function(a){return d.Ds(a),a}}});d.Jr("script",function(a){void 0===a.cache&&
(a.cache=!1);a.zj&&(a.type="GET")});d.Kr("script",function(a){if(a.zj){var b,c;return{send:function(e,g){b=d("<script>").mb({async:!0,charset:a.QG,src:a.url}).ma("load error",c=function(a){b.remove();c=null;a&&g("error"===a.type?404:200,a.type)});ca.head.appendChild(b[0])},abort:function(){c&&c()}}}});var ke=[],Bd=/(=)\?(?=&|$)|\?\?/;d.Sn({bp:"callback",hi:function(){var a=ke.pop()||d.expando+"_"+xd++;return this[a]=!0,a}});d.Jr("json jsonp",function(b,c,e){var g,h,k,l=!1!==b.bp&&(Bd.test(b.url)?
"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bd.test(b.data)&&"data");return l||"jsonp"===b.Ce[0]?(g=b.hi=d.wa(b.hi)?b.hi():b.hi,l?b[l]=b[l].replace(Bd,"$1"+g):!1!==b.bp&&(b.url+=(Kc.test(b.url)?"&":"?")+b.bp+"="+g),b.yj["script json"]=function(){return k||d.error(g+" was not called"),k[0]},b.Ce[0]="json",h=a[g],a[g]=function(){k=arguments},e.Qf(function(){a[g]=h;b[g]&&(b.hi=c.hi,ke.push(g));k&&d.wa(h)&&h(k[0]);k=h=void 0}),"script"):void 0});d.Pi=
function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1);b=b||ca;var e=nc.exec(a);c=!c&&[];return e?[b.createElement(e[1])]:(e=d.Tr([a],b,c),c&&c.length&&d(c).remove(),d.Hb([],e.childNodes))};var le=d.D.load;d.D.load=function(a,b,c){if("string"!=typeof a&&le)return le.apply(this,arguments);var e,g,h,k=this,l=a.indexOf(" ");return 0<=l&&(e=d.trim(a.slice(l)),a=a.slice(0,l)),d.wa(b)?(c=b,b=void 0):b&&"object"==typeof b&&(g="POST"),0<k.length&&d.el({url:a,type:g,dataType:"html",
data:b}).done(function(a){h=arguments;k.vf(e?d("<div>").append(d.Pi(a)).find(e):a)}).complete(c&&function(a,b){k.I(c,h||[a.responseText,b,a])}),this};d.I("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.D[b]=function(a){return this.ma(b,a)}});d.J.filters.tB=function(a){return d.Pj(d.Qa,function(b){return a===b.hb}).length};var va=a.document.documentElement;d.offset={Pt:function(a,b,c){var e,g,h,k,l,m,p=d.ea(a,"position"),n=d(a),q={};"static"===p&&(a.style.position=
"relative");l=n.offset();h=d.ea(a,"top");m=d.ea(a,"left");("absolute"===p||"fixed"===p)&&-1<(h+m).indexOf("auto")?(e=n.position(),k=e.top,g=e.left):(k=parseFloat(h)||0,g=parseFloat(m)||0);d.wa(b)&&(b=b.call(a,c,l));null!=b.top&&(q.top=b.top-l.top+k);null!=b.left&&(q.left=b.left-l.left+g);"using"in b?b.gA.call(a,q):n.ea(q)}};d.D.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.I(function(b){d.offset.Pt(this,a,b)});var b,c,e=this[0],g={top:0,left:0},h=e&&e.ownerDocument;if(h)return b=
h.documentElement,d.contains(b,e)?("undefined"!==typeof e.getBoundingClientRect&&(g=e.getBoundingClientRect()),c=Ja(h),{top:g.top+c.pageYOffset-b.clientTop,left:g.left+c.pageXOffset-b.clientLeft}):g},position:function(){if(this[0]){var a,b,c=this[0],e={top:0,left:0};return"fixed"===d.ea(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),d.nodeName(a[0],"html")||(e=a.offset()),e.top+=d.ea(a[0],"borderTopWidth",!0),e.left+=d.ea(a[0],"borderLeftWidth",!0)),{top:b.top-e.top-
d.ea(c,"marginTop",!0),left:b.left-e.left-d.ea(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||va;a&&!d.nodeName(a,"html")&&"static"===d.ea(a,"position");)a=a.offsetParent;return a||va})}});d.I({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var e="pageYOffset"===c;d.D[b]=function(d){return Ma(this,function(b,d,g){var h=Ja(b);return void 0===g?h?h[c]:b[d]:void(h?h.scrollTo(e?a.pageXOffset:g,e?g:a.pageYOffset):b[d]=g)},b,d,arguments.length,
null)}});d.I(["top","left"],function(a,b){d.Rd[b]=y(ga.dz,function(a,c){return c?(c=G(a,b),Z.test(c)?d(a).position()[b]+"px":c):void 0})});d.I({IA:"height",mB:"width"},function(a,b){d.I({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){d.D[e]=function(e,g){var h=arguments.length&&(c||"boolean"!=typeof e),k=c||(!0===e||!0===g?"margin":"border");return Ma(this,function(b,c,e){var g;return d.Yg(b)?b.document.documentElement["client"+a]:9===b.nodeType?(g=b.documentElement,Math.max(b.body["scroll"+
a],g["scroll"+a],b.body["offset"+a],g["offset"+a],g["client"+a])):void 0===e?d.ea(b,c,k):d.style(b,c,e,k)},b,h?e:void 0,h,null)}})});d.D.size=function(){return this.length};d.D.m=d.D.nw;"function"==typeof define&&define.ow&&define("jquery",[],function(){return d});var U=a.ap,pf=a.Bk;return d.$u=function(b){return a.Bk===d&&(a.Bk=pf),b&&a.ap===d&&(a.ap=U),d},"undefined"===typeof b&&(a.ap=a.Bk=d),d});var Ob=Ob||{},Pb,Ub=window.Bk;Ab("$",Ub);var Vb=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Wb(a){if(!Xb.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ic,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(jc,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(qc,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(rc,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(sc,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(tc,"&#0;"));return a}var ic=/&/g,jc=/</g,qc=/>/g,rc=/"/g,sc=/'/g,tc=/\x00/g,Xb=/[\x00&<>"']/;
function uc(a,b){return a<b?-1:a>b?1:0};var Cc=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(hb(a))return hb(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Dc=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,g=hb(a)?a.split(""):a,d=0;d<e;d++)d in g&&b.call(c,g[d],d,a)};
function Ec(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]};var Fc;a:{var Lc=oa.navigator;if(Lc){var Mc=Lc.userAgent;if(Mc){Fc=Mc;break a}}Fc=""};function Oc(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var Wc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xc(a,b){for(var c,e,g=1;g<arguments.length;g++){e=arguments[g];for(c in e)a[c]=e[c];for(var d=0;d<Wc.length;d++)c=Wc[d],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}};var Yc=-1!=Fc.indexOf("Opera")||-1!=Fc.indexOf("OPR"),Zc=-1!=Fc.indexOf("Trident")||-1!=Fc.indexOf("MSIE"),$c=-1!=Fc.indexOf("Edge"),ad=-1!=Fc.indexOf("Gecko")&&!(-1!=Fc.toLowerCase().indexOf("webkit")&&-1==Fc.indexOf("Edge"))&&!(-1!=Fc.indexOf("Trident")||-1!=Fc.indexOf("MSIE"))&&-1==Fc.indexOf("Edge"),bd=-1!=Fc.toLowerCase().indexOf("webkit")&&-1==Fc.indexOf("Edge");
function cd(){var a=Fc;if(ad)return/rv\:([^\);]+)(\)|;)/.exec(a);if($c)return/Edge\/([\d\.]+)/.exec(a);if(Zc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(bd)return/WebKit\/(\S+)/.exec(a)}function dd(){var a=oa.document;return a?a.documentMode:void 0}var ed=function(){if(Yc&&oa.opera){var a;var b=oa.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=cd())&&(a=b?b[1]:"");return Zc&&(b=dd(),b>parseFloat(a))?String(b):a}(),jd={};
function kd(a){var b;if(!(b=jd[a])){b=0;for(var c=Vb(String(ed)).split("."),e=Vb(String(a)).split("."),g=Math.max(c.length,e.length),d=0;0==b&&d<g;d++){var h=c[d]||"",k=e[d]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var q=l.exec(h)||["","",""],r=m.exec(k)||["","",""];if(0==q[0].length&&0==r[0].length)break;b=uc(0==q[1].length?0:parseInt(q[1],10),0==r[1].length?0:parseInt(r[1],10))||uc(0==q[2].length,0==r[2].length)||uc(q[2],r[2])}while(0==b)}b=jd[a]=0<=b}return b}
var ld=oa.document,md=ld&&Zc?dd()||("CSS1Compat"==ld.compatMode?parseInt(ed,10):5):void 0;var nd=!Zc||9<=Number(md),od=Zc&&!kd("9");!bd||kd("528");ad&&kd("1.9b")||Zc&&kd("8")||Yc&&kd("9.5")||bd&&kd("528");ad&&!kd("8")||Zc&&kd("9");var pd="closure_listenable_"+(1E6*Math.random()|0),rd=0;function Cd(a,b,c,e,g){this.listener=a;this.$a=null;this.src=b;this.type=c;this.pl=!!e;this.kd=g;this.key=++rd;this.zi=this.ol=!1}function Dd(a){a.zi=!0;a.listener=null;a.$a=null;a.src=null;a.kd=null};function Ed(a){this.src=a;this.m={};this.J=0}Ed.prototype.add=function(a,b,c,e,g){var d=a.toString();a=this.m[d];a||(a=this.m[d]=[],this.J++);var h=Fd(a,b,e,g);-1<h?(b=a[h],c||(b.ol=!1)):(b=new Cd(b,this.src,d,!!e,g),b.ol=c,a.push(b));return b};Ed.prototype.remove=function(a,b,c,e){a=a.toString();if(!(a in this.m))return!1;var g=this.m[a];b=Fd(g,b,c,e);return-1<b?(Dd(g[b]),Array.prototype.splice.call(g,b,1),0==g.length&&(delete this.m[a],this.J--),!0):!1};
function Gd(a,b){var c=b.type;if(c in a.m){var e=a.m[c],g=Cc(e,b),d;(d=0<=g)&&Array.prototype.splice.call(e,g,1);d&&(Dd(b),0==a.m[c].length&&(delete a.m[c],a.J--))}}function Fd(a,b,c,e){for(var g=0;g<a.length;++g){var d=a[g];if(!d.zi&&d.listener==b&&d.pl==!!c&&d.kd==e)return g}return-1};function Hd(){0!=Id&&(Jd[this[tb]||(this[tb]=++ub)]=this);this.rc=this.rc;this.Zc=this.Zc}var Id=0,Jd={};Hd.prototype.rc=!1;Hd.prototype.Eb=function(){if(!this.rc&&(this.rc=!0,this.ke(),0!=Id)){var a=this[tb]||(this[tb]=++ub);delete Jd[a]}};Hd.prototype.ke=function(){if(this.Zc)for(;this.Zc.length;)this.Zc.shift()()};function Kd(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.m=!1;this.Ht=!0}Kd.prototype.stopPropagation=function(){this.m=!0};Kd.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ht=!1};function Ld(a){Ld[" "](a);return a}Ld[" "]=function(){};function Md(a,b){Kd.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.clientY=this.clientX=0;this.J=this.state=null;a&&this.vc(a,b)}Ib(Md,Kd);
Md.prototype.vc=function(a,b){var c=this.type=a.type,e=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var g=a.relatedTarget;if(g){if(ad){var d;a:{try{Ld(g.nodeName);d=!0;break a}catch(h){}d=!1}d||(g=null)}}else"mouseover"==c?g=a.fromElement:"mouseout"==c&&(g=a.toElement);this.relatedTarget=g;null===e?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,
this.clientY=void 0!==e.clientY?e.clientY:e.pageY);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.state=a.state;this.J=a;a.defaultPrevented&&this.preventDefault()};Md.prototype.stopPropagation=function(){Md.Up.stopPropagation.call(this);this.J.stopPropagation?this.J.stopPropagation():this.J.cancelBubble=!0};
Md.prototype.preventDefault=function(){Md.Up.preventDefault.call(this);var a=this.J;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,od)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Nd="closure_lm_"+(1E6*Math.random()|0),Pd={},Qd=0;function Rd(a,b,c,e,g){if("array"==Va(b))for(var d=0;d<b.length;d++)Rd(a,b[d],c,e,g);else c=Sd(c),a&&a[pd]?a.Tf.add(String(b),c,!1,e,g):Td(a,b,c,!1,e,g)}
function Td(a,b,c,e,g,d){if(!b)throw Error("Invalid event type");var h=!!g,k=Ud(a);k||(a[Nd]=k=new Ed(a));c=k.add(b,c,e,g,d);if(!c.$a){e=Vd();c.$a=e;e.src=a;e.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),e,h);else if(a.attachEvent)a.attachEvent(Wd(b.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");Qd++}}
function Vd(){var a=me,b=nd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function ne(a,b,c,e,g){if("array"==Va(b))for(var d=0;d<b.length;d++)ne(a,b[d],c,e,g);else c=Sd(c),a&&a[pd]?a.Tf.add(String(b),c,!0,e,g):Td(a,b,c,!0,e,g)}
function oe(a,b,c,e,g){if("array"==Va(b))for(var d=0;d<b.length;d++)oe(a,b[d],c,e,g);else(c=Sd(c),a&&a[pd])?a.Tf.remove(String(b),c,e,g):a&&(a=Ud(a))&&(b=a.m[b.toString()],a=-1,b&&(a=Fd(b,c,!!e,g)),(c=-1<a?b[a]:null)&&pe(c))}function pe(a){if("number"!=typeof a&&a&&!a.zi){var b=a.src;if(b&&b[pd])Gd(b.Tf,a);else{var c=a.type,e=a.$a;b.removeEventListener?b.removeEventListener(c,e,a.pl):b.detachEvent&&b.detachEvent(Wd(c),e);Qd--;(c=Ud(b))?(Gd(c,a),0==c.J&&(c.src=null,b[Nd]=null)):Dd(a)}}}
function Wd(a){return a in Pd?Pd[a]:Pd[a]="on"+a}function qe(a,b,c,e){var g=!0;if(a=Ud(a))if(b=a.m[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var d=b[a];d&&d.pl==c&&!d.zi&&(d=re(d,e),g=g&&!1!==d)}return g}function re(a,b){var c=a.listener,e=a.kd||a.src;a.ol&&pe(a);return c.call(e,b)}
function me(a,b){if(a.zi)return!0;if(!nd){var c;if(!(c=b))a:{c=["window","event"];for(var e=oa,g;g=c.shift();)if(null!=e[g])e=e[g];else{c=null;break a}c=e}g=c;c=new Md(g,this);e=!0;if(!(0>g.keyCode||void 0!=g.returnValue)){a:{var d=!1;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(l){d=!0}if(d||void 0==g.returnValue)g.returnValue=!0}g=[];for(d=c.currentTarget;d;d=d.parentNode)g.push(d);for(var d=a.type,h=g.length-1;!c.m&&0<=h;h--){c.currentTarget=g[h];var k=qe(g[h],d,!0,c),e=e&&k}for(h=0;!c.m&&h<
g.length;h++)c.currentTarget=g[h],k=qe(g[h],d,!1,c),e=e&&k}return e}return re(a,new Md(b,this))}function Ud(a){a=a[Nd];return a instanceof Ed?a:null}var se="__closure_events_fn_"+(1E9*Math.random()>>>0);function Sd(a){if("function"==Va(a))return a;a[se]||(a[se]=function(b){return a.handleEvent(b)});return a[se]};function te(){Hd.call(this);this.Tf=new Ed(this);this.Jk=this;this.me=null}Ib(te,Hd);te.prototype[pd]=!0;te.prototype.addEventListener=function(a,b,c,e){Rd(this,a,b,c,e)};te.prototype.removeEventListener=function(a,b,c,e){oe(this,a,b,c,e)};
te.prototype.dispatchEvent=function(a){var b,c=this.me;if(c)for(b=[];c;c=c.me)b.push(c);var c=this.Jk,e=a.type||a;if(hb(a))a=new Kd(a,c);else if(a instanceof Kd)a.target=a.target||c;else{var g=a;a=new Kd(e,c);Xc(a,g)}var g=!0,d;if(b)for(var h=b.length-1;!a.m&&0<=h;h--)d=a.currentTarget=b[h],g=ue(d,e,!0,a)&&g;a.m||(d=a.currentTarget=c,g=ue(d,e,!0,a)&&g,a.m||(g=ue(d,e,!1,a)&&g));if(b)for(h=0;!a.m&&h<b.length;h++)d=a.currentTarget=b[h],g=ue(d,e,!1,a)&&g;return g};
te.prototype.ke=function(){te.Up.ke.call(this);if(this.Tf){var a=this.Tf,b=0,c;for(c in a.m){for(var e=a.m[c],g=0;g<e.length;g++)++b,Dd(e[g]);delete a.m[c];a.J--}}this.me=null};function ue(a,b,c,e){b=a.Tf.m[String(b)];if(!b)return!0;b=b.concat();for(var g=!0,d=0;d<b.length;++d){var h=b[d];if(h&&!h.zi&&h.pl==c){var k=h.listener,l=h.kd||h.src;h.ol&&Gd(a.Tf,h);g=!1!==k.call(l,e)&&g}}return g&&0!=e.Ht};function ve(){te.call(this)}Ib(ve,te);Ab("DVT.base",ve);"use strict";var f={mv:"71"};"object"===typeof module&&(module.Kc=f);void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});f.log=function(){console.log.apply(console,arguments)};f.warn=function(){console.warn.apply(console,arguments)};f.error=function(){console.error.apply(console,arguments)};f.SA={NA:0,QA:1,dB:2};f.AA=0;f.yA=1;f.Zm=2;f.zA=3;f.GA=0;f.FA=1;f.oA=0;f.Eq=1;f.Fq=2;f.xh=0;f.Tm=1;f.an=2;f.TA=0;f.en=1;f.Dh=2;f.Ld=0;f.dn=1;f.Fh=2;f.nn=0;f.If=1;f.Ju=2;f.Ev=3;f.ev=4;f.qq=5;
f.iq=100;f.Dv=101;f.vv=102;f.cv=103;f.bv=104;f.Pv=200;f.iv=201;f.Cv=202;f.lv=203;f.Mq=204;f.Dq=205;f.Qu=206;f.jv=207;f.Ru=208;f.kv=209;f.Bv=210;f.Mk=0;f.dv=1;f.Iu=2;f.Hv=300;f.oq=301;f.pq=302;f.Su=303;f.sq=304;f.yv=305;f.Pk=1E3;f.Ue=1001;f.yq=1002;f.Kd=1003;f.Bq=1004;f.Aq=1005;f.oe=1006;f.Xu=1007;f.Kk=1008;f.An=1009;f.Lu=1010;f.xv=1011;f.Mv=1012;f.Tu=1013;f.Iv=1014;f.Mi=1015;f.uq=1025;f.Jv=1016;f.Kv=1017;f.Lv=1018;f.Ku=1019;f.Zi=1020;f.$e=1021;f.Zu=1022;f.Yu=1023;f.cB=f.$e;f.uv=2001;f.pv=2002;
f.qv=2003;f.rv=2004;f.tv=2100;f.sv=2101;f.ov=2102;f.nv=2103;f.aB=function(){f.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.")};f.tA=function(){f.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.clear=function(){};this.L=function(){};this.Rt=function(){}};f.Z=function(a){return 3===arguments.length?we(this,arguments[0],arguments[1],arguments[2]):this.set(a)};
f.Z.prototype={constructor:f.Z,r:1,ka:1,K:1,set:function(a){a instanceof f.Z?this.A(a):"number"===typeof a?xe(this,a):"string"===typeof a&&this.Lp(a);return this},Lp:function(a){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(a))return a=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(a),this.r=Math.min(255,parseInt(a[1],10))/255,this.ka=Math.min(255,parseInt(a[2],10))/255,this.K=Math.min(255,parseInt(a[3],10))/255,this;if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(a))return a=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(a),
this.r=Math.min(100,parseInt(a[1],10))/100,this.ka=Math.min(100,parseInt(a[2],10))/100,this.K=Math.min(100,parseInt(a[3],10))/100,this;if(/^\#([0-9a-f]{6})$/i.test(a))return a=/^\#([0-9a-f]{6})$/i.exec(a),xe(this,parseInt(a[1],16)),this;if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(a))return a=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a),xe(this,parseInt(a[1]+a[1]+a[2]+a[2]+a[3]+a[3],16)),this;if(/^(\w+)$/i.test(a))return xe(this,f.Nu[a]),this},A:function(a){this.r=a.r;this.ka=a.ka;this.K=a.K;return this},
add:function(a){this.r+=a.r;this.ka+=a.ka;this.K+=a.K;return this},Ig:function(a){this.r+=a;this.ka+=a;this.K+=a;return this},multiply:function(a){this.r*=a.r;this.ka*=a.ka;this.K*=a.K;return this},qa:function(a){this.r*=a;this.ka*=a;this.K*=a;return this},wf:function(a,b){this.r+=(a.r-this.r)*b;this.ka+=(a.ka-this.ka)*b;this.K+=(a.K-this.K)*b;return this},Wa:function(a){this.r=a[0];this.ka=a[1];this.K=a[2];return this},Se:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.ka;
a[b+2]=this.K;return a},clone:function(){return we(new f.Z,this.r,this.ka,this.K)}};function ye(a){return 255*a.r<<16^255*a.ka<<8^255*a.K<<0}function we(a,b,c,e){a.r=b;a.ka=c;a.K=e;return a}function xe(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.ka=(b>>8&255)/255;a.K=(b&255)/255}
f.Nu={sB:15792383,uB:16444375,vB:65535,wB:8388564,zB:15794175,FB:16119260,GB:16770244,HB:0,IB:16772045,blue:255,JB:9055202,NB:10824234,PB:14596231,QB:6266528,SB:8388352,UB:13789470,bC:16744272,cC:6591981,dC:16775388,gC:14423100,iC:65535,jC:139,kC:35723,lC:12092939,mC:11119017,nC:25600,oC:11119017,pC:12433259,qC:9109643,rC:5597999,sC:16747520,tC:10040012,uC:9109504,vC:15308410,wC:9419919,xC:4734347,yC:3100495,zC:3100495,AC:52945,BC:9699539,DC:16716947,EC:49151,HC:6908265,IC:6908265,JC:2003199,CD:11674146,
GD:16775920,HD:2263842,KD:16711935,MD:14474460,RD:16316671,SD:16766720,TD:14329120,UD:8421504,green:32768,VD:11403055,WD:8421504,bE:15794160,cE:16738740,dE:13458524,fE:4915330,mE:16777200,nE:15787660,pE:15132410,qE:16773365,rE:8190976,sE:16775885,tE:11393254,uE:15761536,vE:14745599,wE:16448210,xE:13882323,yE:9498256,zE:13882323,AE:16758465,BE:16752762,CE:2142890,DE:8900346,EE:7833753,FE:7833753,GE:11584734,HE:16777184,IE:65280,JE:3329330,KE:16445670,SE:16711935,rF:8388608,uF:6737322,vF:205,wF:12211667,
xF:9662683,yF:3978097,zF:8087790,AF:64154,BF:4772300,CF:13047173,DF:1644912,HF:16121850,JF:16770273,KF:16770229,MF:16768685,NF:128,UF:16643558,VF:8421376,WF:7048739,ZF:16753920,$F:16729344,aG:14315734,eG:15657130,fG:10025880,gG:11529966,hG:14381203,iG:16773077,kG:16767673,lG:13468991,oG:16761035,qG:14524637,uG:11591910,zG:8388736,red:16711680,KG:12357519,MG:4286945,NG:9127187,OG:16416882,PG:16032864,RG:3050327,SG:16774638,YG:10506797,ZG:12632256,$G:8900331,aH:6970061,bH:7372944,cH:7372944,jH:16775930,
kH:65407,nH:4620980,tan:13808780,yH:32896,CH:14204888,FH:16737095,IH:4251856,TH:15631086,UH:16113331,WH:16777215,XH:16119285,bI:16776960,cI:10145074};f.Sc=function(a,b,c,e){this.R=a||0;this.S=b||0;this.T=c||0;this.oa=void 0!==e?e:1};
f.Sc.prototype={constructor:f.Sc,R:0,S:0,T:0,oa:0,get x(){return this.R},set x(a){this.R=a;this.wb()},get y(){return this.S},set y(a){this.S=a;this.wb()},get z(){return this.T},set z(a){this.T=a;this.wb()},get H(){return this.oa},set H(a){this.oa=a;this.wb()},set:function(a,b,c,e){this.R=a;this.S=b;this.T=c;this.oa=e;this.wb();return this},A:function(a){this.R=a.x;this.S=a.y;this.T=a.z;this.oa=a.H;this.wb();return this},mk:function(a){var b=a.elements,c=b[0];a=b[4];var e=b[8],g=b[1],d=b[5],h=b[9],
k=b[2],l=b[6],b=b[10],m=c+d+b;0<m?(c=.5/Math.sqrt(m+1),this.oa=.25/c,this.R=(l-h)*c,this.S=(e-k)*c,this.T=(g-a)*c):c>d&&c>b?(c=2*Math.sqrt(1+c-d-b),this.oa=(l-h)/c,this.R=.25*c,this.S=(a+g)/c,this.T=(e+k)/c):d>b?(c=2*Math.sqrt(1+d-c-b),this.oa=(e-k)/c,this.R=(a+g)/c,this.S=.25*c,this.T=(h+l)/c):(c=2*Math.sqrt(1+b-c-d),this.oa=(g-a)/c,this.R=(e+k)/c,this.S=(h+l)/c,this.T=.25*c);this.wb();return this},Pb:function(a){return this.R*a.R+this.S*a.S+this.T*a.T+this.oa*a.oa},Ml:function(){return this.R*this.R+
this.S*this.S+this.T*this.T+this.oa*this.oa},length:function(){return Math.sqrt(this.R*this.R+this.S*this.S+this.T*this.T+this.oa*this.oa)},normalize:function(){var a=this.length();0===a?(this.T=this.S=this.R=0,this.oa=1):(a=1/a,this.R*=a,this.S*=a,this.T*=a,this.oa*=a);this.wb();return this},multiply:function(a,b){return void 0!==b?(f.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),ze(this,a,b)):ze(this,this,a)},vm:function(a,b){if(0===
b)return this;if(1===b)return this.A(a);var c=this.R,e=this.S,g=this.T,d=this.oa,h=d*a.oa+c*a.R+e*a.S+g*a.T;0>h?(this.oa=-a.oa,this.R=-a.R,this.S=-a.S,this.T=-a.T,h=-h):this.A(a);if(1<=h)return this.oa=d,this.R=c,this.S=e,this.T=g,this;var k=Math.acos(h),l=Math.sqrt(1-h*h);if(.001>Math.abs(l))return this.oa=.5*(d+this.oa),this.R=.5*(c+this.R),this.S=.5*(e+this.S),this.T=.5*(g+this.T),this;h=Math.sin((1-b)*k)/l;k=Math.sin(b*k)/l;this.oa=d*h+this.oa*k;this.R=c*h+this.R*k;this.S=e*h+this.S*k;this.T=
g*h+this.T*k;this.wb();return this},Wa:function(a,b){void 0===b&&(b=0);this.R=a[b];this.S=a[b+1];this.T=a[b+2];this.oa=a[b+3];this.wb();return this},Se:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.R;a[b+1]=this.S;a[b+2]=this.T;a[b+3]=this.oa;return a},up:function(a){this.wb=a;return this},wb:function(){},clone:function(){return new f.Sc(this.R,this.S,this.T,this.oa)}};
function ze(a,b,c){var e=b.R,g=b.S,d=b.T;b=b.oa;var h=c.R,k=c.S,l=c.T;c=c.oa;a.R=e*c+b*h+g*l-d*k;a.S=g*c+b*k+d*h-e*l;a.T=d*c+b*l+e*k-g*h;a.oa=b*c-e*h-g*k-d*l;a.wb();return a}f.Sc.vm=function(a,b,c,e){return c.A(a).vm(b,e)};f.C=function(a,b){this.x=a||0;this.y=b||0};
f.C.prototype={constructor:f.C,set:function(a,b){this.x=a;this.y=b;return this},nk:function(a){this.y=a;return this},A:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return f.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.lf(a,b);this.x+=a.x;this.y+=a.y;return this},Ig:function(a){this.x+=a;this.y+=a;return this},lf:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return f.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.eb(a,b);this.x-=a.x;this.y-=a.y;return this},eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},qa:function(a){this.x*=a;this.y*=a;return this},Rg:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},nf:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&
(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},eh:function(){this.x=-this.x;this.y=-this.y;return this},Pb:function(a){return this.x*a.x+this.y*a.y},Ml:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*
this.x+this.y*this.y)},normalize:function(){return this.Rg(this.length())},sf:function(a){return Math.sqrt(this.Xh(a))},Xh:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},bm:function(a){var b=this.length();0!==b&&a!==b&&this.qa(a/b);return this},wf:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},Wa:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},Se:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},clone:function(){return new f.C(this.x,
this.y)}};f.g=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
f.g.prototype={constructor:f.g,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},nk:function(a){this.y=a;return this},A:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return f.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.lf(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Ig:function(a){this.x+=a;this.y+=a;this.z+=a;return this},lf:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+
b.z;return this},sub:function(a,b){if(void 0!==b)return f.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return f.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;
this.y*=a.y;this.z*=a.z;return this},qa:function(a){this.x*=a;this.y*=a;this.z*=a;return this},Fa:function(a){var b=this.x,c=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*e+a[12];this.y=a[1]*b+a[5]*c+a[9]*e+a[13];this.z=a[2]*b+a[6]*c+a[10]*e+a[14];return this},Du:function(){var a;return function(b){void 0===a&&(a=new f.Ea);Ae(a,b.M,a.Ud(b.Wb));return Be(this,a)}}(),Rg:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=
a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},nf:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);
this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},eh:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},Pb:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Ml:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Ss:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.Rg(this.length())},
bm:function(a){var b=this.length();0!==b&&a!==b&&this.qa(a/b);return this},wf:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},sf:function(a){return Math.sqrt(this.Xh(a))},Xh:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},Wa:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},Se:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},clone:function(){return new f.g(this.x,
this.y,this.z)}};function Ce(a,b){a.x=b.elements[12];a.y=b.elements[13];a.z=b.elements[14];return a}function De(a,b,c){var e=b.x,g=b.y;b=b.z;var d=c.x,h=c.y;c=c.z;a.x=g*c-b*h;a.y=b*d-e*c;a.z=e*h-g*d;return a}function Ee(a,b){var c=a.x,e=a.y,g=a.z;a.x=e*b.z-g*b.y;a.y=g*b.x-c*b.z;a.z=c*b.y-e*b.x}function Be(a,b){var c=a.x,e=a.y,g=a.z;b=b.elements;var d=1/(b[3]*c+b[7]*e+b[11]*g+b[15]);a.x=(b[0]*c+b[4]*e+b[8]*g+b[12])*d;a.y=(b[1]*c+b[5]*e+b[9]*g+b[13])*d;a.z=(b[2]*c+b[6]*e+b[10]*g+b[14])*d;return a}
function Fe(a,b){var c=a.x,e=a.y,g=a.z;b=b.elements;a.x=b[0]*c+b[3]*e+b[6]*g;a.y=b[1]*c+b[4]*e+b[7]*g;a.z=b[2]*c+b[5]*e+b[8]*g;return a}f.df=function(a,b,c,e){this.x=a||0;this.y=b||0;this.z=c||0;this.H=void 0!==e?e:1};
f.df.prototype={constructor:f.df,set:function(a,b,c,e){this.x=a;this.y=b;this.z=c;this.H=e;return this},nk:function(a){this.y=a;return this},A:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.H=void 0!==a.H?a.H:1;return this},add:function(a,b){if(void 0!==b)return f.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.lf(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.H+=a.H;return this},Ig:function(a){this.x+=a;this.y+=a;this.z+=a;this.H+=a;return this},
lf:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.H=a.H+b.H;return this},sub:function(a,b){if(void 0!==b)return f.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.H-=a.H;return this},eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.H=a.H-b.H;return this},qa:function(a){this.x*=a;this.y*=a;this.z*=a;this.H*=a;return this},Fa:function(a){var b=this.x,c=this.y,e=this.z,
g=this.H;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*e+a[12]*g;this.y=a[1]*b+a[5]*c+a[9]*e+a[13]*g;this.z=a[2]*b+a[6]*c+a[10]*e+a[14]*g;this.H=a[3]*b+a[7]*c+a[11]*e+a[15]*g;return this},Rg:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.H*=a):(this.z=this.y=this.x=0,this.H=1);return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);this.H>a.H&&(this.H=a.H);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&
(this.z=a.z);this.H<a.H&&(this.H=a.H);return this},nf:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);this.H<a.H?this.H=a.H:this.H>b.H&&(this.H=b.H);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.H=Math.floor(this.H);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.H=
Math.ceil(this.H);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.H=Math.round(this.H);return this},eh:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.H=-this.H;return this},Pb:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.H*a.H},Ml:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.H*this.H},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.H*this.H)},Ss:function(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.H)},normalize:function(){return this.Rg(this.length())},bm:function(a){var b=this.length();0!==b&&a!==b&&this.qa(a/b);return this},wf:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.H+=(a.H-this.H)*b;return this},Wa:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.H=a[b+3];return this},Se:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+
3]=this.H;return a},clone:function(){return new f.df(this.x,this.y,this.z,this.H)}};f.Ve=function(a,b,c,e){this.R=a||0;this.S=b||0;this.T=c||0;this.Ad=e||f.Ve.m};f.Ve.J="XYZ YZX ZXY XZY YXZ ZYX".split(" ");f.Ve.m="XYZ";
f.Ve.prototype={constructor:f.Ve,R:0,S:0,T:0,Ad:f.Ve.m,get x(){return this.R},set x(a){this.R=a;this.wb()},get y(){return this.S},set y(a){this.S=a;this.wb()},get z(){return this.T},set z(a){this.T=a;this.wb()},get Yf(){return this.Ad},set Yf(a){this.Ad=a;this.wb()},set:function(a,b,c,e){this.R=a;this.S=b;this.T=c;this.Ad=e||this.Ad;this.wb();return this},A:function(a){this.R=a.R;this.S=a.S;this.T=a.T;this.Ad=a.Ad;this.wb();return this},mk:function(a,b,c){var e=f.Math.nf,g=a.elements;a=g[0];var d=
g[4],h=g[8],k=g[1],l=g[5],m=g[9],q=g[2],r=g[6],g=g[10];b=b||this.Ad;"XYZ"===b?(this.S=Math.asin(e(h,-1,1)),.99999>Math.abs(h)?(this.R=Math.atan2(-m,g),this.T=Math.atan2(-d,a)):(this.R=Math.atan2(r,l),this.T=0)):"YXZ"===b?(this.R=Math.asin(-e(m,-1,1)),.99999>Math.abs(m)?(this.S=Math.atan2(h,g),this.T=Math.atan2(k,l)):(this.S=Math.atan2(-q,a),this.T=0)):"ZXY"===b?(this.R=Math.asin(e(r,-1,1)),.99999>Math.abs(r)?(this.S=Math.atan2(-q,g),this.T=Math.atan2(-d,l)):(this.S=0,this.T=Math.atan2(k,a))):"ZYX"===
b?(this.S=Math.asin(-e(q,-1,1)),.99999>Math.abs(q)?(this.R=Math.atan2(r,g),this.T=Math.atan2(k,a)):(this.R=0,this.T=Math.atan2(-d,l))):"YZX"===b?(this.T=Math.asin(e(k,-1,1)),.99999>Math.abs(k)?(this.R=Math.atan2(-m,l),this.S=Math.atan2(-q,a)):(this.R=0,this.S=Math.atan2(h,g))):"XZY"===b?(this.T=Math.asin(-e(d,-1,1)),.99999>Math.abs(d)?(this.R=Math.atan2(r,l),this.S=Math.atan2(h,a)):(this.R=Math.atan2(-m,g),this.S=0)):f.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this.Ad=
b;!1!==c&&this.wb();return this},Iz:function(){var a;return function(b,c,e){void 0===a&&(a=new f.Ea);Ge(a,b);this.mk(a,c,e);return this}}(),Wa:function(a){this.R=a[0];this.S=a[1];this.T=a[2];void 0!==a[3]&&(this.Ad=a[3]);this.wb();return this},Se:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.R;a[b+1]=this.S;a[b+2]=this.T;a[b+3]=this.Ad;return a},up:function(a){this.wb=a;return this},wb:function(){},clone:function(){return new f.Ve(this.R,this.S,this.T,this.Ad)}};
f.hn=function(a,b){this.start=void 0!==a?a:new f.g;this.end=void 0!==b?b:new f.g};f.hn.prototype={constructor:f.hn,set:function(a,b){this.start.A(a);this.end.A(b);return this},A:function(a){this.start.A(a.start);this.end.A(a.end);return this},Pa:function(a){return(a||new f.g).lf(this.start,this.end).qa(.5)},lb:function(){return this.start.sf(this.end)},Fa:function(a){this.start.Fa(a);this.end.Fa(a);return this},clone:function(){return(new f.hn).A(this)}};
f.Um=function(a,b){this.min=void 0!==a?a:new f.C(Infinity,Infinity);this.max=void 0!==b?b:new f.C(-Infinity,-Infinity)};
f.Um.prototype={constructor:f.Um,set:function(a,b){this.min.A(a);this.max.A(b);return this},Bi:function(a){this.$g();for(var b=0,c=a.length;b<c;b++)this.Sg(a[b]);return this},A:function(a){this.min.A(a.min);this.max.A(a.max);return this},$g:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},Pa:function(a){return(a||new f.C).lf(this.min,this.max).qa(.5)},size:function(a){return(a||new f.C).eb(this.max,
this.min)},Sg:function(a){this.min.min(a);this.max.max(a);return this},js:function(a){this.min.Ig(-a);this.max.Ig(a);return this},getParameter:function(a,b){return(b||new f.C).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},Fj:function(){var a=new f.C;return function(b){return a.A(b).nf(this.min,this.max).sub(b).length()}}(),clone:function(){return(new f.Um).A(this)}};
f.Te=function(a,b){this.min=void 0!==a?a:new f.g(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new f.g(-Infinity,-Infinity,-Infinity)};
f.Te.prototype={constructor:f.Te,set:function(a,b){this.min.A(a);this.max.A(b);return this},Bi:function(a){this.$g();for(var b=0,c=a.length;b<c;b++)this.Sg(a[b]);return this},Hz:function(){var a=new f.g;return function(b){var c=this;b.xb(!0);this.$g();He(b,function(b){var g=b.G;if(void 0!==g)if(g instanceof f.N)for(var d=g.j,g=0,h=d.length;g<h;g++)a.A(d[g]),a.Fa(b.M),c.Sg(a);else if(g instanceof f.qb&&void 0!==g.attributes.position)for(d=g.attributes.position.l,g=0,h=d.length;g<h;g+=3)a.set(d[g],
d[g+1],d[g+2]),a.Fa(b.M),c.Sg(a)});return this}}(),A:function(a){this.min.A(a.min);this.max.A(a.max);return this},$g:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},Pa:function(a){return(a||new f.g).lf(this.min,this.max).qa(.5)},size:function(a){return(a||new f.g).eb(this.max,this.min)},Sg:function(a){this.min.min(a);this.max.max(a);return this},
js:function(a){this.min.Ig(-a);this.max.Ig(a);return this},getParameter:function(a,b){return(b||new f.g).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},Fj:function(){var a=new f.g;return function(b){return a.A(b).nf(this.min,this.max).sub(b).length()}}(),Fa:function(){var a=[new f.g,new f.g,new f.g,new f.g,new f.g,new f.g,new f.g,new f.g];return function(b){a[0].set(this.min.x,this.min.y,this.min.z).Fa(b);a[1].set(this.min.x,
this.min.y,this.max.z).Fa(b);a[2].set(this.min.x,this.max.y,this.min.z).Fa(b);a[3].set(this.min.x,this.max.y,this.max.z).Fa(b);a[4].set(this.max.x,this.min.y,this.min.z).Fa(b);a[5].set(this.max.x,this.min.y,this.max.z).Fa(b);a[6].set(this.max.x,this.max.y,this.min.z).Fa(b);a[7].set(this.max.x,this.max.y,this.max.z).Fa(b);this.$g();this.Bi(a);return this}}(),clone:function(){return(new f.Te).A(this)}};f.pe=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&f.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
f.pe.prototype={constructor:f.pe,set:function(a,b,c,e,g,d,h,k,l){var m=this.elements;m[0]=a;m[3]=b;m[6]=c;m[1]=e;m[4]=g;m[7]=d;m[2]=h;m[5]=k;m[8]=l;return this},Il:function(){this.set(1,0,0,0,1,0,0,0,1);return this},A:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},Yn:function(){var a=new f.g;return function(b,c,e){void 0===c&&(c=0);void 0===e&&(e=b.length);for(var g=0;g<e;g+=3,c+=3)a.x=b[c],a.y=b[c+1],a.z=b[c+2],Fe(a,this),b[c]=a.x,b[c+1]=a.y,b[c+2]=a.z;
return b}}(),qa:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},Yr:function(){var a=this.elements,b=a[0],c=a[1],e=a[2],g=a[3],d=a[4],h=a[5],k=a[6],l=a[7],a=a[8];return b*d*a-b*h*l-c*g*a+c*h*k+e*g*l-e*d*k},Ud:function(a,b){var c=a.elements,e=this.elements;e[0]=c[10]*c[5]-c[6]*c[9];e[1]=-c[10]*c[1]+c[2]*c[9];e[2]=c[6]*c[1]-c[2]*c[5];e[3]=-c[10]*c[4]+c[6]*c[8];e[4]=c[10]*c[0]-c[2]*c[8];e[5]=-c[6]*c[0]+c[2]*c[4];e[6]=c[9]*c[4]-c[5]*
c[8];e[7]=-c[9]*c[0]+c[1]*c[8];e[8]=c[5]*c[0]-c[1]*c[4];c=c[0]*e[0]+c[1]*e[3]+c[2]*e[6];if(0===c){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");f.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.Il();return this}this.qa(1/c);return this},xu:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},Bl:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+
4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a},Wa:function(a){this.elements.set(a);return this},Se:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]},clone:function(){return(new f.pe).Wa(this.elements)}};function Ie(a,b){a.Ud(b).xu();return a}f.Ea=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&f.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
f.Ea.prototype={constructor:f.Ea,set:function(a,b,c,e,g,d,h,k,l,m,q,r,p,u,v,t){var w=this.elements;w[0]=a;w[4]=b;w[8]=c;w[12]=e;w[1]=g;w[5]=d;w[9]=h;w[13]=k;w[2]=l;w[6]=m;w[10]=q;w[14]=r;w[3]=p;w[7]=u;w[11]=v;w[15]=t;return this},Il:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},A:function(a){this.elements.set(a.elements);return this},wc:function(){var a=new f.g,b=new f.g,c=new f.g;return function(e,g,d){var h=this.elements;c.eb(e,g).normalize();0===c.length()&&(c.z=1);De(a,d,c).normalize();
0===a.length()&&(c.x+=1E-4,De(a,d,c).normalize());De(b,c,a);h[0]=a.x;h[4]=b.x;h[8]=c.x;h[1]=a.y;h[5]=b.y;h[9]=c.y;h[2]=a.z;h[6]=b.z;h[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(f.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Ae(this,a,b)):Ae(this,this,a)},qa:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=
a;return this},Yn:function(){var a=new f.g;return function(b,c,e){void 0===c&&(c=0);void 0===e&&(e=b.length);for(var g=0;g<e;g+=3,c+=3)a.x=b[c],a.y=b[c+1],a.z=b[c+2],a.Fa(this),b[c]=a.x,b[c+1]=a.y,b[c+2]=a.z;return b}}(),Yr:function(){var a=this.elements,b=a[0],c=a[4],e=a[8],g=a[12],d=a[1],h=a[5],k=a[9],l=a[13],m=a[2],q=a[6],r=a[10],p=a[14];return a[3]*(+g*k*q-e*l*q-g*h*r+c*l*r+e*h*p-c*k*p)+a[7]*(+b*k*p-b*l*r+g*d*r-e*d*p+e*l*m-g*k*m)+a[11]*(+b*l*q-b*h*p-g*d*q+c*d*p+g*h*m-c*l*m)+a[15]*(-e*h*m-b*k*
q+b*h*r+e*d*q-c*d*r+c*k*m)},xu:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},Bl:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a},Fl:function(){var a=new f.g;
return function(){f.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},Ud:function(a,b){var c=this.elements,e=a.elements,g=e[0],d=e[4],h=e[8],k=e[12],l=e[1],m=e[5],q=e[9],r=e[13],p=e[2],u=e[6],v=e[10],t=e[14],w=e[3],z=e[7],x=e[11],e=e[15];c[0]=q*t*z-r*v*z+r*u*x-m*t*x-q*u*e+m*v*e;c[4]=k*v*z-h*t*z-k*u*
x+d*t*x+h*u*e-d*v*e;c[8]=h*r*z-k*q*z+k*m*x-d*r*x-h*m*e+d*q*e;c[12]=k*q*u-h*r*u-k*m*v+d*r*v+h*m*t-d*q*t;c[1]=r*v*w-q*t*w-r*p*x+l*t*x+q*p*e-l*v*e;c[5]=h*t*w-k*v*w+k*p*x-g*t*x-h*p*e+g*v*e;c[9]=k*q*w-h*r*w-k*l*x+g*r*x+h*l*e-g*q*e;c[13]=h*r*p-k*q*p+k*l*v-g*r*v-h*l*t+g*q*t;c[2]=m*t*w-r*u*w+r*p*z-l*t*z-m*p*e+l*u*e;c[6]=k*u*w-d*t*w-k*p*z+g*t*z+d*p*e-g*u*e;c[10]=d*r*w-k*m*w+k*l*z-g*r*z-d*l*e+g*m*e;c[14]=k*m*p-d*r*p-k*l*u+g*r*u+d*l*t-g*m*t;c[3]=q*u*w-m*v*w-q*p*z+l*v*z+m*p*x-l*u*x;c[7]=d*v*w-h*u*w+h*p*z-g*v*
z-d*p*x+g*u*x;c[11]=h*m*w-d*q*w-h*l*z+g*q*z+d*l*x-g*m*x;c[15]=d*q*p-h*m*p+h*l*u-g*q*u-d*l*v+g*m*v;c=g*c[0]+l*c[4]+p*c[8]+w*c[12];if(0==c){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");f.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");this.Il();return this}this.qa(1/c);return this},scale:function(a){var b=this.elements,c=a.x,e=a.y;a=a.z;b[0]*=c;b[4]*=e;b[8]*=a;b[1]*=c;b[5]*=e;b[9]*=a;b[2]*=c;b[6]*=e;b[10]*=a;b[3]*=c;b[7]*=e;b[11]*=a;
return this},Rh:function(){var a=new f.g,b=new f.Ea;return function(c,e,g){var d=this.elements,h=a.set(d[0],d[1],d[2]).length(),k=a.set(d[4],d[5],d[6]).length(),l=a.set(d[8],d[9],d[10]).length();0>this.Yr()&&(h=-h);c.x=d[12];c.y=d[13];c.z=d[14];b.elements.set(this.elements);c=1/h;var d=1/k,m=1/l;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=d;b.elements[5]*=d;b.elements[6]*=d;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;e.mk(b);g.x=h;g.y=k;g.z=l;return this}}(),Wa:function(a){this.elements.set(a);
return this},Se:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]},clone:function(){return(new f.Ea).Wa(this.elements)}};function Je(a,b,c,e,g){b=e*Math.tan(f.Math.vl(.5*b));var d=-b;return Ke(a,d*c,b*c,d,b,e,g)}
function Ke(a,b,c,e,g,d,h){var k=a.elements;k[0]=2*d/(c-b);k[4]=0;k[8]=(c+b)/(c-b);k[12]=0;k[1]=0;k[5]=2*d/(g-e);k[9]=(g+e)/(g-e);k[13]=0;k[2]=0;k[6]=0;k[10]=-(h+d)/(h-d);k[14]=-2*h*d/(h-d);k[3]=0;k[7]=0;k[11]=-1;k[15]=0;return a}function Le(a,b,c){var e=Math.cos(c);c=Math.sin(c);var g=1-e,d=b.x,h=b.y;b=b.z;var k=g*d,l=g*h;a.set(k*d+e,k*h-c*b,k*b+c*h,0,k*h+c*b,l*h+e,l*b-c*d,0,k*b-c*h,l*b+c*d,g*b*b+e,0,0,0,0,1);return a}
function Me(){var a=new f.Ea,b=-Math.PI/2,c=Math.cos(b),b=Math.sin(b);a.set(1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1);return a}function Ne(){var a=new f.Ea;a.set(1,0,0,0,0,1,0,-.5,0,0,1,0,0,0,0,1);return a}
function Ae(a,b,c){b=b.elements;c=c.elements;var e=a.elements,g=b[0],d=b[4],h=b[8],k=b[12],l=b[1],m=b[5],q=b[9],r=b[13],p=b[2],u=b[6],v=b[10],t=b[14],w=b[3],z=b[7],x=b[11];b=b[15];var D=c[0],B=c[4],E=c[8],A=c[12],F=c[1],G=c[5],y=c[9],C=c[13],I=c[2],V=c[6],Q=c[10],L=c[14],T=c[3],S=c[7],N=c[11];c=c[15];e[0]=g*D+d*F+h*I+k*T;e[4]=g*B+d*G+h*V+k*S;e[8]=g*E+d*y+h*Q+k*N;e[12]=g*A+d*C+h*L+k*c;e[1]=l*D+m*F+q*I+r*T;e[5]=l*B+m*G+q*V+r*S;e[9]=l*E+m*y+q*Q+r*N;e[13]=l*A+m*C+q*L+r*c;e[2]=p*D+u*F+v*I+t*T;e[6]=p*B+
u*G+v*V+t*S;e[10]=p*E+u*y+v*Q+t*N;e[14]=p*A+u*C+v*L+t*c;e[3]=w*D+z*F+x*I+b*T;e[7]=w*B+z*G+x*V+b*S;e[11]=w*E+z*y+x*Q+b*N;e[15]=w*A+z*C+x*L+b*c;return a}function Ge(a,b){var c=a.elements,e=b.x,g=b.y,d=b.z,h=b.H,k=e+e,l=g+g,m=d+d;b=e*k;var q=e*l,e=e*m,r=g*l,g=g*m,d=d*m,k=h*k,l=h*l,h=h*m;c[0]=1-(r+d);c[4]=q-h;c[8]=e+l;c[1]=q+h;c[5]=1-(b+d);c[9]=g-k;c[2]=e-l;c[6]=g+k;c[10]=1-(b+r);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1}
f.Ok=function(a,b){this.origin=void 0!==a?a:new f.g;this.direction=void 0!==b?b:new f.g};
f.Ok.prototype={constructor:f.Ok,set:function(a,b){this.origin.A(a);this.direction.A(b);return this},A:function(a){this.origin.A(a.origin);this.direction.A(a.direction);return this},Fj:function(){var a=new f.g;return function(b){var c=a.eb(b,this.origin).Pb(this.direction);if(0>c)return this.origin.sf(b);a.A(this.direction).qa(c).add(this.origin);return a.sf(b)}}(),Fa:function(a){this.direction.add(this.origin).Fa(a);this.origin.Fa(a);this.direction.sub(this.origin);this.direction.normalize();return this},
clone:function(){return(new f.Ok).A(this)}};f.Od=function(a,b){this.Pa=void 0!==a?a:new f.g;this.Ca=void 0!==b?b:0};
f.Od.prototype={constructor:f.Od,set:function(a,b){this.Pa.A(a);this.Ca=b;return this},Bi:function(){var a=new f.Te;return function(b,c){var e=this.Pa;void 0!==c?e.A(c):a.Bi(b).Pa(e);for(var g=0,d=0,h=b.length;d<h;d++)g=Math.max(g,e.Xh(b[d]));this.Ca=Math.sqrt(g);return this}}(),A:function(a){this.Pa.A(a.Pa);this.Ca=a.Ca;return this},empty:function(){return 0>=this.Ca},Fj:function(a){return a.sf(this.Pa)-this.Ca},Ms:function(a){var b=this.Ca+a.Ca;return a.Pa.Xh(this.Pa)<=b*b},xs:function(a){a=a||
new f.Te;a.set(this.Pa,this.Pa);a.js(this.Ca);return a},Fa:function(a){this.Pa.Fa(a);a=a.elements;this.Ca*=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])));return this},clone:function(){return(new f.Od).A(this)}};f.Oi=function(a,b,c,e,g,d){this.ik=[void 0!==a?a:new f.Ye,void 0!==b?b:new f.Ye,void 0!==c?c:new f.Ye,void 0!==e?e:new f.Ye,void 0!==g?g:new f.Ye,void 0!==d?d:new f.Ye]};
f.Oi.prototype={constructor:f.Oi,set:function(a,b,c,e,g,d){var h=this.ik;h[0].A(a);h[1].A(b);h[2].A(c);h[3].A(e);h[4].A(g);h[5].A(d);return this},A:function(a){for(var b=this.ik,c=0;6>c;c++)b[c].A(a.ik[c]);return this},Ls:function(){var a=new f.Od;return function(b){var c=b.G;null===c.kb&&c.Qg();a.A(c.kb);a.Fa(b.M);return this.Ms(a)}}(),Ms:function(a){var b=this.ik,c=a.Pa;a=-a.Ca;for(var e=0;6>e;e++)if(b[e].Fj(c)<a)return!1;return!0},clone:function(){return(new f.Oi).A(this)}};
function Oe(a,b){var c=a.ik,e=b.elements;b=e[0];var g=e[1],d=e[2],h=e[3],k=e[4],l=e[5],m=e[6],q=e[7],r=e[8],p=e[9],u=e[10],v=e[11],t=e[12],w=e[13],z=e[14],e=e[15];Pe(c[0],h-b,q-k,v-r,e-t).normalize();Pe(c[1],h+b,q+k,v+r,e+t).normalize();Pe(c[2],h+g,q+l,v+p,e+w).normalize();Pe(c[3],h-g,q-l,v-p,e-w).normalize();Pe(c[4],h-d,q-m,v-u,e-z).normalize();Pe(c[5],h+d,q+m,v+u,e+z).normalize()}f.Ye=function(a,b){this.X=void 0!==a?a:new f.g(1,0,0);this.Qd=void 0!==b?b:0};
f.Ye.prototype={constructor:f.Ye,set:function(a,b){this.X.A(a);this.Qd=b;return this},A:function(a){this.X.A(a.X);this.Qd=a.Qd;return this},normalize:function(){var a=1/this.X.length();this.X.qa(a);this.Qd*=a;return this},eh:function(){this.Qd*=-1;this.X.eh();return this},Fj:function(a){return this.X.Pb(a)+this.Qd},Fa:function(){var a=new f.g,b=new f.g,c=new f.pe;return function(e,g){var d=g||Ie(c,e),d=Fe(a.A(this.X),d),h=(b||new f.g).A(this.X).qa(-this.Qd);h.Fa(e);this.X.A(d);this.Qd=-h.Pb(this.X);
return this}}(),clone:function(){return(new f.Ye).A(this)}};function Pe(a,b,c,e,g){a.X.set(b,c,e);a.Qd=g;return a}
f.Math={ci:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,e;return function(){for(var g=0;36>g;g++)8==g||13==g||18==g||23==g?b[g]="-":14==g?b[g]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),e=c&15,c>>=4,b[g]=a[19==g?e&3|8:e]);return b.join("")}}(),nf:function(a,b,c){return a<b?b:a>c?c:a},WB:function(a,b){return a<b?b:a},iF:function(a,b,c,e,g){return e+(a-b)*(g-e)/(c-b)},iH:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-
b);return a*a*(3-2*a)},hH:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},FG:function(){return(65280*Math.random()+255*Math.random())/65535},EG:function(a,b){return Math.floor(this.oz(a,b))},oz:function(a,b){return a+Math.random()*(b-a)},DG:function(a){return a*(.5-Math.random())},vl:function(){var a=Math.PI/180;return function(b){return b*a}}(),kz:function(){var a=180/Math.PI;return function(b){return b*a}}(),Vf:function(a){return 0===(a&a-1)&&0!==a},
PF:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
f.fB=function(a){function b(a,b,c,d,e,g,h){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*h+(-3*(b-c)-2*a-d)*g+a*e+b}this.Na=a;var c=[],e={x:0,y:0,z:0},g,d,h,k,l,m,q,r,p;this.Rb=function(a){g=(this.Na.length-1)*a;d=Math.floor(g);h=g-d;c[0]=0===d?d:d-1;c[1]=d;c[2]=d>this.Na.length-2?this.Na.length-1:d+1;c[3]=d>this.Na.length-3?this.Na.length-1:d+2;m=this.Na[c[0]];q=this.Na[c[1]];r=this.Na[c[2]];p=this.Na[c[3]];k=h*h;l=h*k;e.x=b(m.x,q.x,r.x,p.x,h,k,l);e.y=b(m.y,q.y,r.y,p.y,h,k,l);e.z=b(m.z,q.z,r.z,p.z,h,
k,l);return e};this.di=function(a){var b,c,d,e=0,g=new f.g,h=new f.g,k=[],l=0;k[0]=0;a||(a=100);c=this.Na.length*a;g.A(this.Na[0]);for(a=1;a<c;a++)b=a/c,d=this.Rb(b),h.A(d),l+=h.sf(g),g.A(d),b*=this.Na.length-1,b=Math.floor(b),b!=e&&(k[b]=l,e=b);k[k.length]=l;return{VB:k,total:l}}};f.Kf=function(a,b,c){this.Ja=void 0!==a?a:new f.g;this.K=void 0!==b?b:new f.g;this.La=void 0!==c?c:new f.g};
f.Kf.X=function(){var a=new f.g;return function(b,c,e,g){g=g||new f.g;g.eb(e,c);a.eb(b,c);Ee(g,a);b=g.Ml();return 0<b?g.qa(1/Math.sqrt(b)):g.set(0,0,0)}}();f.Kf.m=function(){var a=new f.g,b=new f.g,c=new f.g;return function(e,g,d,h,k){a.eb(h,g);b.eb(d,g);c.eb(e,g);e=a.Pb(a);g=a.Pb(b);d=a.Pb(c);var l=b.Pb(b);h=b.Pb(c);var m=e*l-g*g;k=k||new f.g;if(0==m)return k.set(-2,-1,-1);m=1/m;l=(l*d-g*h)*m;e=(e*h-g*d)*m;return k.set(1-l-e,e,l)}}();
f.Kf.J=function(){var a=new f.g;return function(b,c,e,g){b=f.Kf.m(b,c,e,g,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();f.Kf.prototype={constructor:f.Kf,set:function(a,b,c){this.Ja.A(a);this.K.A(b);this.La.A(c);return this},A:function(a){this.Ja.A(a.Ja);this.K.A(a.K);this.La.A(a.La);return this},X:function(a){return f.Kf.X(this.Ja,this.K,this.La,a)},clone:function(){return(new f.Kf).A(this)}};f.mq=function(a){this.ww=void 0!==a?a:!0;this.elapsedTime=this.tp=this.startTime=0;this.Wl=!1};
f.mq.prototype={constructor:f.mq,start:function(){this.tp=this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();this.Wl=!0},stop:function(){var a=0;this.ww&&!this.Wl&&this.start();if(this.Wl){var b=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),a=.001*(b-this.tp);this.tp=b;this.elapsedTime+=a}this.Wl=!1}};f.xd=function(){};
f.xd.prototype={constructor:f.xd,apply:function(a){a.addEventListener=f.xd.prototype.addEventListener;a.Fs=f.xd.prototype.Fs;a.removeEventListener=f.xd.prototype.removeEventListener;a.dispatchEvent=f.xd.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this.Of&&(this.Of={});var c=this.Of;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},Fs:function(a,b){if(void 0===this.Of)return!1;var c=this.Of;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,
b){if(void 0!==this.Of){var c=this.Of[a];if(void 0!==c){var e=c.indexOf(b);-1!==e&&c.splice(e,1)}}},dispatchEvent:function(a){if(void 0!==this.Of){var b=this.Of[a.type];if(void 0!==b){a.target=this;for(var c=[],e=b.length,g=0;g<e;g++)c[g]=b[g];for(g=0;g<e;g++)c[g].call(this,a)}}}};(function(a){a.Jq=function(b,c,e,g){this.pz=new a.Ok(b,c);this.Ib=e||0;this.Gb=g||Infinity};a.Jq.prototype={constructor:a.Jq,precision:1E-4,set:function(a,c){this.pz.set(a,c)}}})(f);
f.P=function(){Object.defineProperty(this,"id",{value:f.hv++});this.Da=f.Math.ci();this.name="";this.type="Object3D";this.parent=void 0;this.children=[];this.de=f.P.ab.clone();var a=new f.g,b=new f.Ve,c=new f.Sc,e=new f.g(1,1,1);b.up(function(){if(!1===b instanceof f.Ve)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var a=Math.cos(b.R/2),d=Math.cos(b.S/2),e=Math.cos(b.T/2),k=Math.sin(b.R/2),l=Math.sin(b.S/2),m=Math.sin(b.T/2);"XYZ"===
b.Yf?(c.R=k*d*e+a*l*m,c.S=a*l*e-k*d*m,c.T=a*d*m+k*l*e,c.oa=a*d*e-k*l*m):"YXZ"===b.Yf?(c.R=k*d*e+a*l*m,c.S=a*l*e-k*d*m,c.T=a*d*m-k*l*e,c.oa=a*d*e+k*l*m):"ZXY"===b.Yf?(c.R=k*d*e-a*l*m,c.S=a*l*e+k*d*m,c.T=a*d*m+k*l*e,c.oa=a*d*e-k*l*m):"ZYX"===b.Yf?(c.R=k*d*e-a*l*m,c.S=a*l*e+k*d*m,c.T=a*d*m-k*l*e,c.oa=a*d*e+k*l*m):"YZX"===b.Yf?(c.R=k*d*e+a*l*m,c.S=a*l*e+k*d*m,c.T=a*d*m-k*l*e,c.oa=a*d*e-k*l*m):"XZY"===b.Yf&&(c.R=k*d*e-a*l*m,c.S=a*l*e-k*d*m,c.T=a*d*m+k*l*e,c.oa=a*d*e+k*l*m)});c.up(function(){b.Iz(c,void 0,
!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},Yc:{enumerable:!0,value:c},scale:{enumerable:!0,value:e}});this.It=!0;this.Va=new f.Ea;this.M=new f.Ea;this.Bb=!0;this.xf=!1;this.visible=!0;this.Vl=this.Vc=!1;this.Dl=!0;this.bg=0;this.gg={}};f.P.ab=new f.g(0,1,0);
f.P.prototype={constructor:f.P,ze:function(a){Ae(this.Va,a,this.Va);this.Va.Rh(this.position,this.Yc,this.scale)},wc:function(){var a=new f.Ea;return function(b){a.wc(b,this.position,this.de);this.Yc.mk(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return f.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof f.P?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),
this.children.push(a)):f.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},xb:function(a){!0===this.Bb&&Qe(this);if(!0===this.xf||!0===a)void 0===this.parent?this.M.A(this.Va):Ae(this.M,this.parent.M,this.Va),this.xf=!1,a=!0;for(var b=0,c=this.children.length;b<
c;b++)this.children[b].xb(a)},toJSON:function(){function a(d){var g={};g.Da=d.Da;g.type=d.type;""!==d.name&&(g.name=d.name);"{}"!==JSON.stringify(d.gg)&&(g.gg=d.gg);!0!==d.visible&&(g.visible=d.visible);if(d instanceof f.Dc)g.ai=d.ai,g.Nh=d.Nh,g.Ib=d.Ib,g.Gb=d.Gb;else if(d instanceof f.Xe)g.left=d.left,g.right=d.right,g.top=d.top,g.bottom=d.bottom,g.Ib=d.Ib,g.Gb=d.Gb;else if(d instanceof f.Ff)g.color=ye(d.color);else if(d instanceof f.Rc)g.color=ye(d.color),g.Ma=d.Ma;else if(d instanceof f.Ze)g.color=
ye(d.color),g.Ma=d.Ma,g.lb=d.lb,g.hd=d.hd;else if(d instanceof f.zd)g.color=ye(d.color),g.Ma=d.Ma,g.lb=d.lb,g.Lg=d.Lg,g.$h=d.$h,g.hd=d.hd;else if(d instanceof f.We)g.color=ye(d.color),g.Vg=ye(d.Vg);else if(d instanceof f.za||d instanceof f.ia||d instanceof f.Ec){var k=d.G;void 0===c.Fe&&(c.Fe=[]);if(void 0===e[k.Da]){var l=k.toJSON();delete l.ah;e[k.Da]=l;c.Fe.push(l)}g.G=k.Da;g.aa=b(d.aa);d instanceof f.ia&&(g.mode=d.mode)}else d instanceof f.af&&(g.aa=b(d.aa));g.Va=d.Va.Se();if(0<d.children.length)for(g.children=
[],k=0;k<d.children.length;k++)g.children.push(a(d.children[k]));return g}function b(a){void 0===c.vb&&(c.vb=[]);if(void 0===g[a.Da]){var b=a.toJSON();delete b.ah;g[a.Da]=b;c.vb.push(b)}return a.Da}var c={ah:{version:4.3,type:"Object",El:"ObjectExporter"}},e={},g={};c.object=a(this);return c},clone:function(a,b){void 0===a&&(a=new f.P);void 0===b&&(b=!0);a.name=this.name;a.de.A(this.de);a.position.A(this.position);a.Yc.A(this.Yc);a.scale.A(this.scale);a.It=this.It;a.Va.A(this.Va);a.M.A(this.M);a.Bb=
this.Bb;a.xf=this.xf;a.visible=this.visible;a.Vc=this.Vc;a.Vl=this.Vl;a.Dl=this.Dl;a.gg=JSON.parse(JSON.stringify(this.gg));if(!0===b)for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};function Qe(a){var b=a.Va,c=a.position,e=a.scale;Ge(b,a.Yc);b.scale(e);b.setPosition(c);a.xf=!0}function He(a,b){b(a);for(var c=0,e=a.children.length;c<e;c++)He(a.children[c],b)}f.xd.prototype.apply(f.P.prototype);f.hv=0;
f.sa=function(a,b,c,e,g,d){this.Ja=a;this.K=b;this.La=c;this.X=e instanceof f.g?e:new f.g;this.jb=e instanceof Array?e:[];this.color=g instanceof f.Z?g:new f.Z;this.O=g instanceof Array?g:[];this.jg=[];this.Wc=void 0!==d?d:0};
f.sa.prototype={constructor:f.sa,clone:function(){var a=new f.sa(this.Ja,this.K,this.La);a.X.A(this.X);a.color.A(this.color);a.Wc=this.Wc;for(var b=0,c=this.jb.length;b<c;b++)a.jb[b]=this.jb[b].clone();b=0;for(c=this.O.length;b<c;b++)a.O[b]=this.O[b].clone();b=0;for(c=this.jg.length;b<c;b++)a.jg[b]=this.jg[b].clone();return a}};f.CA=function(a,b,c,e,g,d,h){f.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new f.sa(a,b,c,g,d,h)};
f.Ia=function(a,b){this.l=a;this.Ed=b;this.V=!1};f.Ia.prototype={constructor:f.Ia,get length(){return this.l.length},set:function(a,b){void 0===b&&(b=0);this.l.set(a,b);return this},nk:function(a,b){this.l[a*this.Ed+1]=b;return this},clone:function(){return new f.Ia(new this.l.constructor(this.l),this.Ed)}};f.MA=function(a,b){f.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};
f.jB=function(a,b){f.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};f.kB=function(a,b){f.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};f.KA=function(a,b){f.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};
f.hB=function(a,b){f.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};f.LA=function(a,b){f.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};f.iB=function(a,b){f.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};
f.DA=function(a,b){f.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};f.EA=function(a,b){f.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new f.Ia(a,b)};f.wh=function(a,b){f.Ia.call(this,a,b);this.fg={offset:0,count:-1}};f.wh.prototype=Object.create(f.Ia.prototype);f.wh.prototype.constructor=f.wh;
f.wh.prototype.clone=function(){return new f.wh(new this.l.constructor(this.l),this.Ed)};f.qb=function(){Object.defineProperty(this,"id",{value:f.tq++});this.Da=f.Math.ci();this.name="";this.type="BufferGeometry";this.attributes={};this.il=[];this.cc=this.Hj=[];this.kb=this.Ab=null};
f.qb.prototype={constructor:f.qb,getAttribute:function(a){return this.attributes[a]},ze:function(a){var b=this.attributes.position;void 0!==b&&(a.Yn(b.l),b.V=!0);b=this.attributes.X;void 0!==b&&(Ie(new f.pe,a).Yn(b.l),b.V=!0);null!==this.Ab&&this.Pg();null!==this.kb&&this.Qg()},Pa:function(){this.Pg();var a=this.Ab.Pa().eh();this.ze((new f.Ea).setPosition(a));return a},Pg:function(){var a=new f.g;return function(){null===this.Ab&&(this.Ab=new f.Te);var b=this.attributes.position.l;if(b){var c=this.Ab;
c.$g();for(var e=0,g=b.length;e<g;e+=3)a.set(b[e],b[e+1],b[e+2]),c.Sg(a)}if(void 0===b||0===b.length)this.Ab.min.set(0,0,0),this.Ab.max.set(0,0,0);(isNaN(this.Ab.min.x)||isNaN(this.Ab.min.y)||isNaN(this.Ab.min.z))&&f.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),Qg:function(){var a=new f.Te,b=new f.g;return function(){null===this.kb&&(this.kb=new f.Od);var c=this.attributes.position.l;if(c){a.$g();for(var e=
this.kb.Pa,g=0,d=c.length;g<d;g+=3)b.set(c[g],c[g+1],c[g+2]),a.Sg(b);a.Pa(e);for(var h=0,g=0,d=c.length;g<d;g+=3)b.set(c[g],c[g+1],c[g+2]),h=Math.max(h,e.Xh(b));this.kb.Ca=Math.sqrt(h);isNaN(this.kb.Ca)&&f.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),Ob:function(){},Ph:function(){var a=this.attributes;if(a.position){var b=a.position.l;if(void 0===a.X)Se(this,"normal",new f.Ia(new Float32Array(b.length),3));
else for(var c=a.X.l,e=0,g=c.length;e<g;e++)c[e]=0;var c=a.X.l,d,h,k,l=new f.g,m=new f.g,q=new f.g,r=new f.g,p=new f.g;if(a.index)for(var u=a.index.l,v=0<this.cc.length?this.cc:[{start:0,count:u.length,index:0}],t=0,w=v.length;t<w;++t){g=v[t].start;d=v[t].count;for(var z=v[t].index,e=g,g=g+d;e<g;e+=3)d=3*(z+u[e]),h=3*(z+u[e+1]),k=3*(z+u[e+2]),l.Wa(b,d),m.Wa(b,h),q.Wa(b,k),r.eb(q,m),p.eb(l,m),Ee(r,p),c[d]+=r.x,c[d+1]+=r.y,c[d+2]+=r.z,c[h]+=r.x,c[h+1]+=r.y,c[h+2]+=r.z,c[k]+=r.x,c[k+1]+=r.y,c[k+2]+=
r.z}else for(e=0,g=b.length;e<g;e+=9)l.Wa(b,e),m.Wa(b,e+3),q.Wa(b,e+6),r.eb(q,m),p.eb(l,m),Ee(r,p),c[e]=r.x,c[e+1]=r.y,c[e+2]=r.z,c[e+3]=r.x,c[e+4]=r.y,c[e+5]=r.z,c[e+6]=r.x,c[e+7]=r.y,c[e+8]=r.z;b=this.attributes.X.l;d=0;for(h=b.length;d<h;d+=3)c=b[d],e=b[d+1],g=b[d+2],c=1/Math.sqrt(c*c+e*e+g*g),b[d]*=c,b[d+1]*=c,b[d+2]*=c;a.X.V=!0}},Ur:function(){function a(a,b,c){r.Wa(e,3*a);p.Wa(e,3*b);u.Wa(e,3*c);v.Wa(d,2*a);t.Wa(d,2*b);w.Wa(d,2*c);z=p.x-r.x;x=u.x-r.x;D=p.y-r.y;B=u.y-r.y;E=p.z-r.z;A=u.z-r.z;
F=t.x-v.x;G=w.x-v.x;y=t.y-v.y;C=w.y-v.y;I=1/(F*C-G*y);V.set((C*z-y*x)*I,(C*D-y*B)*I,(C*E-y*A)*I);Q.set((F*x-G*z)*I,(F*B-G*D)*I,(F*A-G*E)*I);l[a].add(V);l[b].add(V);l[c].add(V);m[a].add(Q);m[b].add(Q);m[c].add(Q)}function b(a){ua.Wa(g,3*a);J.A(ua);ia=l[a];la.A(ia);la.sub(ua.qa(ua.Pb(ia))).normalize();De(fa,J,ia);ra=fa.Pb(m[a]);Ja=0>ra?-1:1;k[4*a]=la.x;k[4*a+1]=la.y;k[4*a+2]=la.z;k[4*a+3]=Ja}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.X||void 0===this.attributes.Nc)f.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");
else{var c=this.attributes.index.l,e=this.attributes.position.l,g=this.attributes.X.l,d=this.attributes.Nc.l,h=e.length/3;void 0===this.attributes.zm&&Se(this,"tangent",new f.Ia(new Float32Array(4*h),4));for(var k=this.attributes.zm.l,l=[],m=[],q=0;q<h;q++)l[q]=new f.g,m[q]=new f.g;var r=new f.g,p=new f.g,u=new f.g,v=new f.C,t=new f.C,w=new f.C,z,x,D,B,E,A,F,G,y,C,I,V=new f.g,Q=new f.g,L,T,S,N,M;0===this.Hj.length&&this.Hj.push({start:0,count:c.length,index:0});var da=this.Hj,q=0;for(T=da.length;q<
T;++q){L=da[q].start;S=da[q].count;var R=da[q].index,h=L;for(L+=S;h<L;h+=3)S=R+c[h],N=R+c[h+1],M=R+c[h+2],a(S,N,M)}var la=new f.g,fa=new f.g,ua=new f.g,J=new f.g,Ja,ia,ra,q=0;for(T=da.length;q<T;++q)for(L=da[q].start,S=da[q].count,R=da[q].index,h=L,L+=S;h<L;h+=3)S=R+c[h],N=R+c[h+1],M=R+c[h+2],b(S),b(N),b(M)}},Hb:function(a,b){if(!1===a instanceof f.qb)f.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a);else{void 0===b&&(b=0);var c=this.attributes,e;for(e in c)if(void 0!==
a.attributes[e])for(var g=c[e].l,d=a.attributes[e],h=d.l,k=0,d=d.Ed*b;k<h.length;k++,d++)g[d]=h[k];return this}},toJSON:function(){var a={ah:{version:4,type:"BufferGeometry",El:"BufferGeometryExporter"},Da:this.Da,type:this.type,data:{attributes:{}}},b=this.attributes,c=this.cc,e=this.kb,g;for(g in b){var d=b[g],h=Array.prototype.slice.call(d.l);a.data.attributes[g]={Ed:d.Ed,type:d.l.constructor.name,l:h}}0<c.length&&(a.data.cc=JSON.parse(JSON.stringify(c)));null!==e&&(a.data.kb={Pa:e.Pa.Se(),Ca:e.Ca});
return a},clone:function(){var a=new f.qb,b;for(b in this.attributes)Se(a,b,this.attributes[b].clone());b=0;for(var c=this.cc.length;b<c;b++){var e=this.cc[b];a.cc.push({start:e.start,index:e.index,count:e.count})}return a},Eb:function(){this.dispatchEvent({type:"dispose"})}};function Se(a,b,c){!1===c instanceof f.Ia?(f.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),a.attributes[b]={l:c,Ed:void 0}):(a.attributes[b]=c,a.il=Object.keys(a.attributes))}f.xd.prototype.apply(f.qb.prototype);
f.N=function(){Object.defineProperty(this,"id",{value:f.tq++});this.Da=f.Math.ci();this.name="";this.type="Geometry";this.j=[];this.ja=[];this.F=[];this.Y=[[]];this.$=[];this.Wf=[];this.Ub=[];this.Id=[];this.td=[];this.ny=[];this.kb=this.Ab=null;this.So=!1;this.kx=!0;this.Ro=this.Ol=this.fd=this.Am=this.ck=this.Gm=this.yl=this.Yb=!1};
f.N.prototype={constructor:f.N,ze:function(a){for(var b=Ie(new f.pe,a),c=0,e=this.j.length;c<e;c++)this.j[c].Fa(a);c=0;for(e=this.F.length;c<e;c++){a=this.F[c];Fe(a.X,b).normalize();for(var g=0,d=a.jb.length;g<d;g++)Fe(a.jb[g],b).normalize()}null!==this.Ab&&this.Pg();null!==this.kb&&this.Qg();this.ck=this.Yb=!0},Pa:function(){this.Pg();var a=this.Ab.Pa().eh();this.ze((new f.Ea).setPosition(a));return a},Ob:function(){for(var a=new f.g,b=new f.g,c=0,e=this.F.length;c<e;c++){var g=this.F[c],d=this.j[g.Ja],
h=this.j[g.K];a.eb(this.j[g.La],h);b.eb(d,h);Ee(a,b);a.normalize();g.X.A(a)}},Ph:function(a){var b,c,e;e=Array(this.j.length);b=0;for(c=this.j.length;b<c;b++)e[b]=new f.g;if(a){var g,d,h,k=new f.g,l=new f.g;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],g=this.j[c.Ja],d=this.j[c.K],h=this.j[c.La],k.eb(h,d),l.eb(g,d),Ee(k,l),e[c.Ja].add(k),e[c.K].add(k),e[c.La].add(k)}else for(a=0,b=this.F.length;a<b;a++)c=this.F[a],e[c.Ja].add(c.X),e[c.K].add(c.X),e[c.La].add(c.X);b=0;for(c=this.j.length;b<c;b++)e[b].normalize();
a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.jb[0]=e[c.Ja].clone(),c.jb[1]=e[c.K].clone(),c.jb[2]=e[c.La].clone()},Ur:function(){var a,b,c,e,g,d,h,k,l,m,q,r,p,u,v,t,w,z=[],x=[];c=new f.g;var D=new f.g,B=new f.g,E=new f.g,A=new f.g;a=0;for(b=this.j.length;a<b;a++)z[a]=new f.g,x[a]=new f.g;a=0;for(b=this.F.length;a<b;a++)g=this.F[a],d=this.Y[0][a],e=g.Ja,w=g.K,g=g.La,h=this.j[e],k=this.j[w],l=this.j[g],m=d[0],q=d[1],r=d[2],d=k.x-h.x,p=l.x-h.x,u=k.y-h.y,v=l.y-h.y,k=k.z-h.z,h=l.z-h.z,l=q.x-m.x,t=r.x-
m.x,q=q.y-m.y,m=r.y-m.y,r=1/(l*m-t*q),c.set((m*d-q*p)*r,(m*u-q*v)*r,(m*k-q*h)*r),D.set((l*p-t*d)*r,(l*v-t*u)*r,(l*h-t*k)*r),z[e].add(c),z[w].add(c),z[g].add(c),x[e].add(D),x[w].add(D),x[g].add(D);D=["a","b","c","d"];a=0;for(b=this.F.length;a<b;a++)for(g=this.F[a],c=0;c<Math.min(g.jb.length,3);c++)A.A(g.jb[c]),e=g[D[c]],w=z[e],B.A(w),B.sub(A.qa(A.Pb(w))).normalize(),De(E,g.jb[c],w),e=E.Pb(x[e]),e=0>e?-1:1,g.jg[c]=new f.df(B.x,B.y,B.z,e);this.So=!0},Pg:function(){null===this.Ab&&(this.Ab=new f.Te);
this.Ab.Bi(this.j)},Qg:function(){null===this.kb&&(this.kb=new f.Od);this.kb.Bi(this.j)},Hb:function(a,b,c){if(!1===a instanceof f.N)f.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a);else{var e,g=this.j.length,d=this.j,h=a.j,k=this.F,l=a.F,m=this.Y[0];a=a.Y[0];void 0===c&&(c=0);void 0!==b&&(e=Ie(new f.pe,b));for(var q=0,r=h.length;q<r;q++){var p=h[q].clone();void 0!==b&&p.Fa(b);d.push(p)}q=0;for(r=l.length;q<r;q++){var h=l[q],u,v=h.jb,t=h.O,p=new f.sa(h.Ja+g,h.K+g,h.La+
g);p.X.A(h.X);void 0!==e&&Fe(p.X,e).normalize();b=0;for(d=v.length;b<d;b++)u=v[b].clone(),void 0!==e&&Fe(u,e).normalize(),p.jb.push(u);p.color.A(h.color);b=0;for(d=t.length;b<d;b++)u=t[b],p.O.push(u.clone());p.Wc=h.Wc+c;k.push(p)}q=0;for(r=a.length;q<r;q++)if(c=a[q],e=[],void 0!==c){b=0;for(d=c.length;b<d;b++)e.push(c[b].clone());m.push(e)}}},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];
m[b]=l.length/3;l.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.ka.toString()+a.K.toString();if(void 0!==r[b])return r[b];r[b]=q.length;q.push(ye(a));return r[b]}function e(a){var b=a.x.toString()+a.y.toString();if(void 0!==u[b])return u[b];u[b]=p.length/2;p.push(a.x,a.y);return u[b]}var g={ah:{version:4,type:"BufferGeometry",El:"BufferGeometryExporter"},Da:this.Da,type:this.type};""!==this.name&&(g.name=this.name);if(void 0!==this.Vb){var d=this.Vb,h;for(h in d)void 0!==d[h]&&
(g[h]=d[h]);return g}d=[];for(h=0;h<this.j.length;h++){var k=this.j[h];d.push(k.x,k.y,k.z)}var k=[],l=[],m={},q=[],r={},p=[],u={};for(h=0;h<this.F.length;h++){var v=this.F[h],t=void 0!==this.Y[0][h],w=0<v.X.length(),z=0<v.jb.length,x=1!==v.color.r||1!==v.color.ka||1!==v.color.K,D=0<v.O.length,B=0,B=a(B,0,0),B=a(B,1,!1),B=a(B,2,!1),B=a(B,3,t),B=a(B,4,w),B=a(B,5,z),B=a(B,6,x),B=a(B,7,D);k.push(B);k.push(v.Ja,v.K,v.La);t&&(t=this.Y[0][h],k.push(e(t[0]),e(t[1]),e(t[2])));w&&k.push(b(v.X));z&&(w=v.jb,
k.push(b(w[0]),b(w[1]),b(w[2])));x&&k.push(c(v.color));D&&(v=v.O,k.push(c(v[0]),c(v[1]),c(v[2])))}g.data={};g.data.j=d;g.data.pi=l;0<q.length&&(g.data.ja=q);0<p.length&&(g.data.zk=[p]);g.data.F=k;return g},clone:function(){for(var a=new f.N,b=this.j,c=0,e=b.length;c<e;c++)a.j.push(b[c].clone());b=this.F;c=0;for(e=b.length;c<e;c++)a.F.push(b[c].clone());c=0;for(e=this.Y.length;c<e;c++){b=this.Y[c];void 0===a.Y[c]&&(a.Y[c]=[]);for(var g=0,d=b.length;g<d;g++){for(var h=b[g],k=[],l=0,m=h.length;l<m;l++)k.push(h[l].clone());
a.Y[c].push(k)}}return a},Eb:function(){this.dispatchEvent({type:"dispose"})}};
function Te(a){var b={},c=[],e=[],g,d=Math.pow(10,4),h,k;h=0;for(k=a.j.length;h<k;h++)g=a.j[h],g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d),void 0===b[g]?(b[g]=h,c.push(a.j[h]),e[h]=c.length-1):e[h]=e[b[g]];b=[];h=0;for(k=a.F.length;h<k;h++)for(d=a.F[h],d.Ja=e[d.Ja],d.K=e[d.K],d.La=e[d.La],d=[d.Ja,d.K,d.La],g=0;3>g;g++)if(d[g]==d[(g+1)%3]){b.push(h);break}for(h=b.length-1;0<=h;h--)for(d=b[h],a.F.splice(d,1),e=0,k=a.Y.length;e<k;e++)a.Y[e].splice(d,1);a.j=c}
function Ue(a,b){function c(b,c,d){var e=void 0!==h?[m[b].clone(),m[c].clone(),m[d].clone()]:[],g=void 0!==k?[a.ja[b].clone(),a.ja[c].clone(),a.ja[d].clone()]:[];a.F.push(new f.sa(b,c,d,e,g));void 0!==l&&a.Y[0].push([q[b].clone(),q[c].clone(),q[d].clone()])}for(var e=b.attributes,g=e.position.l,d=void 0!==e.index?e.index.l:void 0,h=void 0!==e.X?e.X.l:void 0,k=void 0!==e.color?e.color.l:void 0,l=void 0!==e.Nc?e.Nc.l:void 0,m=[],q=[],r=e=0;e<g.length;e+=3,r+=2)a.j.push(new f.g(g[e],g[e+1],g[e+2])),
void 0!==h&&m.push(new f.g(h[e],h[e+1],h[e+2])),void 0!==k&&a.ja.push(new f.Z(k[e],k[e+1],k[e+2])),void 0!==l&&q.push(new f.C(l[r],l[r+1]));if(void 0!==d)if(g=b.Hj,0<g.length)for(e=0;e<g.length;e++)for(var r=g[e],p=r.start,u=r.count,v=r.index,r=p,p=p+u;r<p;r+=3)c(v+d[r],v+d[r+1],v+d[r+2]);else for(e=0;e<d.length;e+=3)c(d[e],d[e+1],d[e+2]);else for(e=0;e<g.length/3;e+=3)c(e,e+1,e+2);a.Ob();null!==b.Ab&&(a.Ab=b.Ab.clone());null!==b.kb&&(a.kb=b.kb.clone())}f.xd.prototype.apply(f.N.prototype);f.tq=0;
f.Qc=function(){f.P.call(this);this.type="Camera";this.Xc=new f.Ea;this.Wb=new f.Ea};f.Qc.prototype=Object.create(f.P.prototype);f.Qc.prototype.constructor=f.Qc;f.Qc.prototype.wc=function(){var a=new f.Ea;return function(b){a.wc(this.position,b,this.de);this.Yc.mk(a)}}();f.Qc.prototype.clone=function(a){void 0===a&&(a=new f.Qc);f.P.prototype.clone.call(this,a);a.Xc.A(this.Xc);a.Wb.A(this.Wb);return a};
f.Ym=function(a,b){f.P.call(this);this.type="CubeCamera";var c=new f.Dc(90,1,a,b);c.de.set(0,-1,0);c.wc(new f.g(1,0,0));this.add(c);c=new f.Dc(90,1,a,b);c.de.set(0,-1,0);c.wc(new f.g(-1,0,0));this.add(c);c=new f.Dc(90,1,a,b);c.de.set(0,0,1);c.wc(new f.g(0,1,0));this.add(c);c=new f.Dc(90,1,a,b);c.de.set(0,0,-1);c.wc(new f.g(0,-1,0));this.add(c);c=new f.Dc(90,1,a,b);c.de.set(0,-1,0);c.wc(new f.g(0,0,1));this.add(c);c=new f.Dc(90,1,a,b);c.de.set(0,-1,0);c.wc(new f.g(0,0,-1));this.add(c)};
f.Ym.prototype=Object.create(f.P.prototype);f.Ym.prototype.constructor=f.Ym;f.Xe=function(a,b,c,e,g,d){f.Qc.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=e;this.Ib=void 0!==g?g:.1;this.Gb=void 0!==d?d:2E3;this.Fm()};f.Xe.prototype=Object.create(f.Qc.prototype);f.Xe.prototype.constructor=f.Xe;
f.Xe.prototype.Fm=function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,e=(this.top+this.bottom)/2,g=c-a,a=c+a,c=e+b,b=e-b,e=this.Ib,d=this.Gb,h=this.Wb.elements,k=a-g,l=c-b,m=d-e;h[0]=2/k;h[4]=0;h[8]=0;h[12]=-((a+g)/k);h[1]=0;h[5]=2/l;h[9]=0;h[13]=-((c+b)/l);h[2]=0;h[6]=0;h[10]=-2/m;h[14]=-((d+e)/m);h[3]=0;h[7]=0;h[11]=0;h[15]=1};
f.Xe.prototype.clone=function(){var a=new f.Xe;f.Qc.prototype.clone.call(this,a);a.zoom=this.zoom;a.left=this.left;a.right=this.right;a.top=this.top;a.bottom=this.bottom;a.Ib=this.Ib;a.Gb=this.Gb;a.Wb.A(this.Wb);return a};f.Dc=function(a,b,c,e){f.Qc.call(this);this.type="PerspectiveCamera";this.zoom=1;this.ai=void 0!==a?a:50;this.Nh=void 0!==b?b:1;this.Ib=void 0!==c?c:.1;this.Gb=void 0!==e?e:2E3;this.Fm()};f.Dc.prototype=Object.create(f.Qc.prototype);f.Dc.prototype.constructor=f.Dc;
f.Dc.prototype.Fm=function(){var a=f.Math.kz(2*Math.atan(Math.tan(.5*f.Math.vl(this.ai))/this.zoom));if(this.Lo){var b=this.Lo/this.ss,a=Math.tan(f.Math.vl(.5*a))*this.Ib,c=-a,e=b*c,b=Math.abs(b*a-e),c=Math.abs(a-c);Ke(this.Wb,e+this.x*b/this.Lo,e+(this.x+this.width)*b/this.Lo,a-(this.y+this.height)*c/this.ss,a-this.y*c/this.ss,this.Ib,this.Gb)}else Je(this.Wb,a,this.Nh,this.Ib,this.Gb)};
f.Dc.prototype.clone=function(){var a=new f.Dc;f.Qc.prototype.clone.call(this,a);a.zoom=this.zoom;a.ai=this.ai;a.Nh=this.Nh;a.Ib=this.Ib;a.Gb=this.Gb;a.Wb.A(this.Wb);return a};f.ub=function(a){f.P.call(this);this.type="Light";this.color=new f.Z(a)};f.ub.prototype=Object.create(f.P.prototype);f.ub.prototype.constructor=f.ub;f.ub.prototype.clone=function(a){void 0===a&&(a=new f.ub);f.P.prototype.clone.call(this,a);a.color.A(this.color);return a};f.Ff=function(a){f.ub.call(this,a);this.type="AmbientLight"};
f.Ff.prototype=Object.create(f.ub.prototype);f.Ff.prototype.constructor=f.Ff;f.Ff.prototype.clone=function(){var a=new f.Ff;f.ub.prototype.clone.call(this,a);return a};f.Rm=function(a,b){f.ub.call(this,a);this.type="AreaLight";this.X=new f.g(0,-1,0);this.right=new f.g(1,0,0);this.Ma=void 0!==b?b:1;this.height=this.width=1};f.Rm.prototype=Object.create(f.ub.prototype);f.Rm.prototype.constructor=f.Rm;
f.Rc=function(a,b){f.ub.call(this,a);this.type="DirectionalLight";this.position.set(0,1,0);this.target=new f.P;this.Ma=void 0!==b?b:1;this.Xf=this.Vc=!1;this.Bf=50;this.Af=5E3;this.qk=-500;this.sk=this.rk=500;this.pk=-500;this.Gd=!1;this.Oe=0;this.Hd=.5;this.Cf=this.Df=512;this.tk=!1;this.Pp=new f.g(0,0,-1E3);this.Np=2;this.em=[0,0,0];this.Qp=[512,512,512];this.Op=[512,512,512];this.hm=[-1,.99,.998];this.gm=[.99,.998,1];this.dm=[];this.lh=this.cg=this.uk=this.jh=null};f.Rc.prototype=Object.create(f.ub.prototype);
f.Rc.prototype.constructor=f.Rc;f.Rc.prototype.clone=function(){var a=new f.Rc;f.ub.prototype.clone.call(this,a);a.target=this.target.clone();a.Ma=this.Ma;a.Vc=this.Vc;a.Xf=this.Xf;a.Bf=this.Bf;a.Af=this.Af;a.qk=this.qk;a.rk=this.rk;a.sk=this.sk;a.pk=this.pk;a.Gd=this.Gd;a.Oe=this.Oe;a.Hd=this.Hd;a.Df=this.Df;a.Cf=this.Cf;a.tk=this.tk;a.Pp.A(this.Pp);a.Np=this.Np;a.em=this.em.slice(0);a.Qp=this.Qp.slice(0);a.Op=this.Op.slice(0);a.hm=this.hm.slice(0);a.gm=this.gm.slice(0);return a};
f.We=function(a,b,c){f.ub.call(this,a);this.type="HemisphereLight";this.position.set(0,100,0);this.Vg=new f.Z(b);this.Ma=void 0!==c?c:1};f.We.prototype=Object.create(f.ub.prototype);f.We.prototype.constructor=f.We;f.We.prototype.clone=function(){var a=new f.We;f.ub.prototype.clone.call(this,a);a.Vg.A(this.Vg);a.Ma=this.Ma;return a};f.Ze=function(a,b,c,e){f.ub.call(this,a);this.type="PointLight";this.Ma=void 0!==b?b:1;this.lb=void 0!==c?c:0;this.hd=void 0!==e?e:1};f.Ze.prototype=Object.create(f.ub.prototype);
f.Ze.prototype.constructor=f.Ze;f.Ze.prototype.clone=function(){var a=new f.Ze;f.ub.prototype.clone.call(this,a);a.Ma=this.Ma;a.lb=this.lb;a.hd=this.hd;return a};
f.zd=function(a,b,c,e,g,d){f.ub.call(this,a);this.type="SpotLight";this.position.set(0,1,0);this.target=new f.P;this.Ma=void 0!==b?b:1;this.lb=void 0!==c?c:0;this.Lg=void 0!==e?e:Math.PI/3;this.$h=void 0!==g?g:10;this.hd=void 0!==d?d:1;this.Xf=this.Vc=!1;this.Bf=50;this.Af=5E3;this.Mp=50;this.Gd=!1;this.Oe=0;this.Hd=.5;this.Cf=this.Df=512;this.lh=this.cg=this.uk=this.jh=null};f.zd.prototype=Object.create(f.ub.prototype);f.zd.prototype.constructor=f.zd;
f.zd.prototype.clone=function(){var a=new f.zd;f.ub.prototype.clone.call(this,a);a.target=this.target.clone();a.Ma=this.Ma;a.lb=this.lb;a.Lg=this.Lg;a.$h=this.$h;a.hd=this.hd;a.Vc=this.Vc;a.Xf=this.Xf;a.Bf=this.Bf;a.Af=this.Af;a.Mp=this.Mp;a.Gd=this.Gd;a.Oe=this.Oe;a.Hd=this.Hd;a.Df=this.Df;a.Cf=this.Cf;return a};f.Cache={files:{},add:function(a,b){this.files[a]=b},get:function(a){return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
f.Ah=function(a){a&&(a=document.createElement("div"),a.style.position="absolute",a.style.right="0px",a.style.top="0px",a.style.fontSize="0.8em",a.style.textAlign="left",a.style.background="rgba(0,0,0,0.25)",a.style.color="#fff",a.style.width="120px",a.style.padding="0.5em 0.5em 0.5em 0.5em",a.style.zIndex=1E3,a.innerHTML="Loading ...");this.Zx=new f.xg};f.Ah.prototype={constructor:f.Ah,crossOrigin:void 0};
function Ve(a,b,c){function e(a){a=Math.log(a)/Math.LN2;return Math.pow(2,Math.round(a))}function g(a,b,d,g,k,l,t){var w=c+d,z,x=f.Ah.J.get(w);null!==x?z=x.load(w):(z=new f.fb,x=h.Zx,x.crossOrigin=h.crossOrigin,x.load(w,function(a){if(!1===f.Math.Vf(a.width)||!1===f.Math.Vf(a.height)){var b=e(a.width),c=e(a.height),d=document.createElement("canvas");d.width=b;d.height=c;d.getContext("2d").drawImage(a,0,0,b,c);z.ha=d}else z.ha=a;z.V=!0}));z.xm=d;g&&(z.repeat.set(g[0],g[1]),1!==g[0]&&(z.Oc=f.Pk),1!==
g[1]&&(z.Pc=f.Pk));k&&z.offset.set(k[0],k[1]);l&&(d={repeat:f.Pk,IF:f.yq},void 0!==d[l[0]]&&(z.Oc=d[l[0]]),void 0!==d[l[1]]&&(z.Pc=d[l[1]]));t&&(z.jc=t);a[b]=z}function d(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]}var h=a;a="MeshLambertMaterial";var k={color:15658734,opacity:1,map:null,Sb:null,oc:null,lc:null,ua:!1};if(b.ib){var l=b.ib.toLowerCase();"phong"===l?a="MeshPhongMaterial":"basic"===l&&(a="MeshBasicMaterial")}void 0!==b.Ba&&void 0!==f[b.Ba]&&(k.Ba=f[b.Ba]);void 0!==b.Jb&&(k.Jb=b.Jb);
void 0!==b.opacity&&1>b.opacity&&(k.Jb=!0);void 0!==b.pf&&(k.pf=b.pf);void 0!==b.qf&&(k.qf=b.qf);void 0!==b.visible&&(k.visible=b.visible);void 0!==b.Ko&&(k.cb=f.Tm);void 0!==b.Ao&&(k.cb=f.an);void 0!==b.ua&&(k.ua=b.ua);void 0!==b.O&&("face"===b.O?k.O=f.dn:b.O&&(k.O=f.Fh));b.Vw?k.color=d(b.Vw):b.Ou&&(k.color=b.Ou);b.Xw&&(k.ae=d(b.Xw));b.Ww&&(k.Qb=d(b.Ww));void 0!==b.aA&&(console.warn("THREE.Loader: transparency has been renamed to opacity"),b.opacity=b.aA);void 0!==b.opacity&&(k.opacity=b.opacity);
b.Rz&&(k.$d=b.Rz);b.vy&&c&&g(k,"map",b.vy,b.cF,b.bF,b.dF,b.aF);b.wy&&c&&g(k,"lightMap",b.wy,b.gF,b.fF,b.hF,b.eF);b.ty&&c&&g(k,"bumpMap",b.ty,b.ZE,b.YE,b.$E,b.XE);b.xy&&c&&g(k,"normalMap",b.xy,b.lF,b.kF,b.mF,b.jF);b.yy&&c&&g(k,"specularMap",b.yy,b.pF,b.oF,b.qF,b.nF);b.sy&&c&&g(k,"alphaMap",b.sy,b.VE,b.UE,b.WE,b.TE);b.uy&&(k.Ae=b.uy);b.Ys&&(k.Ne=new f.C(b.Ys,b.Ys));a=new f[a](k);void 0!==b.Pu&&(a.name=b.Pu);return a}
function We(a){for(var b=0,c=a.length;b<c;b++)if(a[b]instanceof f.hc)return!0;return!1}function Xe(a,b,c){for(var e=[],g=0;g<b.length;++g)e[g]=Ve(a,b[g],c);return e}f.Ah.J={tf:[],add:function(a,b){this.tf.push(a,b)},get:function(a){for(var b=0,c=this.tf.length;b<c;b+=2){var e=this.tf[b+1];if(this.tf[b].test(a))return e}return null}};f.Nf=function(a){this.nc=void 0!==a?a:f.ug};
f.Nf.prototype={constructor:f.Nf,load:function(a,b,c,e){var g=this,d=f.Cache.get(a);void 0!==d?b&&b(d):(d=new XMLHttpRequest,d.open("GET",a,!0),d.addEventListener("load",function(){f.Cache.add(a,this.response);b&&b(this.response);g.nc.Zo(a)},!1),void 0!==c&&d.addEventListener("progress",function(a){c(a)},!1),void 0!==e&&d.addEventListener("error",function(a){e(a)},!1),void 0!==this.crossOrigin&&(d.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(d.responseType=this.responseType),d.send(null),
g.nc.$o())},Fd:function(a){this.crossOrigin=a}};f.xg=function(a){this.nc=void 0!==a?a:f.ug};
f.xg.prototype={constructor:f.xg,load:function(a,b,c,e){var g=this,d=f.Cache.get(a);if(void 0!==d)b(d);else return d=document.createElement("img"),d.addEventListener("load",function(){f.Cache.add(a,this);b&&b(this);g.nc.Zo(a)},!1),void 0!==c&&d.addEventListener("progress",function(a){c(a)},!1),void 0!==e&&d.addEventListener("error",function(a){e(a)},!1),void 0!==this.crossOrigin&&(d.crossOrigin=this.crossOrigin),d.src=a,g.nc.$o(),d},Fd:function(a){this.crossOrigin=a}};
f.yh=function(a){f.Ah.call(this,a);this.withCredentials=!1};f.yh.prototype=Object.create(f.Ah.prototype);f.yh.prototype.constructor=f.yh;f.yh.prototype.load=function(a,b,c){c&&"string"===typeof c||(c=a.split("/"),1===c.length?c="./":(c.pop(),c=c.join("/")+"/"));Ye(this,this,a,b,c)};
function Ye(a,b,c,e,g){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(d.readyState===d.DONE)if(200===d.status||0===d.status)if(d.responseText){var a=JSON.parse(d.responseText),k=a.ah;if(void 0!==k){if("object"===k.type){f.error("THREE.JSONLoader: "+c+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===k.type){f.error("THREE.JSONLoader: "+c+" seems to be a Scene. Use THREE.SceneLoader instead.");return}}a=b.parse(a,g);e(a.G,a.vb)}else f.error("THREE.JSONLoader: "+
c+" seems to be unreachable or the file is empty.");else f.error("THREE.JSONLoader: Couldn't load "+c+" ("+d.status+")")};d.open("GET",c,!0);d.withCredentials=a.withCredentials;d.send(null)}
f.yh.prototype.parse=function(a,b){var c=new f.N,e=void 0!==a.scale?1/a.scale:1;(function(b){var d,e,k,l,m,q,r,p,u,v,t,w,z,x=a.F;q=a.j;var D=a.pi,B=a.ja,E=0;if(void 0!==a.zk){for(d=0;d<a.zk.length;d++)a.zk[d].length&&E++;for(d=0;d<E;d++)c.Y[d]=[]}l=0;for(m=q.length;l<m;)d=new f.g,d.x=q[l++]*b,d.y=q[l++]*b,d.z=q[l++]*b,c.j.push(d);l=0;for(m=x.length;l<m;)if(b=x[l++],u=b&1,k=b&2,d=b&8,r=b&16,v=b&32,q=b&64,b&=128,u){u=new f.sa;u.Ja=x[l];u.K=x[l+1];u.La=x[l+3];t=new f.sa;t.Ja=x[l+1];t.K=x[l+2];t.La=x[l+
3];l+=4;k&&(k=x[l++],u.Wc=k,t.Wc=k);k=c.F.length;if(d)for(d=0;d<E;d++)for(w=a.zk[d],c.Y[d][k]=[],c.Y[d][k+1]=[],e=0;4>e;e++)p=x[l++],z=w[2*p],p=w[2*p+1],z=new f.C(z,p),2!==e&&c.Y[d][k].push(z),0!==e&&c.Y[d][k+1].push(z);r&&(r=3*x[l++],u.X.set(D[r++],D[r++],D[r]),t.X.A(u.X));if(v)for(d=0;4>d;d++)r=3*x[l++],v=new f.g(D[r++],D[r++],D[r]),2!==d&&u.jb.push(v),0!==d&&t.jb.push(v);q&&(q=x[l++],q=B[q],xe(u.color,q),xe(t.color,q));if(b)for(d=0;4>d;d++)q=x[l++],q=B[q],2!==d&&u.O.push(new f.Z(q)),0!==d&&t.O.push(new f.Z(q));
c.F.push(u);c.F.push(t)}else{u=new f.sa;u.Ja=x[l++];u.K=x[l++];u.La=x[l++];k&&(k=x[l++],u.Wc=k);k=c.F.length;if(d)for(d=0;d<E;d++)for(w=a.zk[d],c.Y[d][k]=[],e=0;3>e;e++)p=x[l++],z=w[2*p],p=w[2*p+1],z=new f.C(z,p),c.Y[d][k].push(z);r&&(r=3*x[l++],u.X.set(D[r++],D[r++],D[r]));if(v)for(d=0;3>d;d++)r=3*x[l++],v=new f.g(D[r++],D[r++],D[r]),u.jb.push(v);q&&(q=x[l++],xe(u.color,B[q]));if(b)for(d=0;3>d;d++)q=x[l++],u.O.push(new f.Z(B[q]));c.F.push(u)}})(e);(function(){var b=void 0!==a.ay?a.ay:2;if(a.Id)for(var d=
0,e=a.Id.length;d<e;d+=b)c.Id.push(new f.df(a.Id[d],1<b?a.Id[d+1]:0,2<b?a.Id[d+2]:0,3<b?a.Id[d+3]:0));if(a.td)for(d=0,e=a.td.length;d<e;d+=b)c.td.push(new f.df(a.td[d],1<b?a.td[d+1]:0,2<b?a.td[d+2]:0,3<b?a.td[d+3]:0));c.Ka=a.Ka;c.Ka&&0<c.Ka.length&&(c.Id.length!==c.td.length||c.td.length!==c.j.length)&&f.warn("THREE.JSONLoader: When skinning, number of vertices ("+c.j.length+"), skinIndices ("+c.td.length+"), and skinWeights ("+c.Id.length+") should match.");c.Vn=a.Vn;c.dd=a.dd})();(function(b){if(void 0!==
a.$){var d,e,k,l,m,q;d=0;for(e=a.$.length;d<e;d++)for(c.$[d]={},c.$[d].name=a.$[d].name,c.$[d].j=[],m=c.$[d].j,q=a.$[d].j,k=0,l=q.length;k<l;k+=3){var r=new f.g;r.x=q[k]*b;r.y=q[k+1]*b;r.z=q[k+2]*b;m.push(r)}}if(void 0!==a.Wf)for(d=0,e=a.Wf.length;d<e;d++)for(c.Wf[d]={},c.Wf[d].name=a.Wf[d].name,c.Wf[d].ja=[],l=c.Wf[d].ja,m=a.Wf[d].ja,b=0,k=m.length;b<k;b+=3)q=new f.Z(16755200),we(q,m[b],m[b+1],m[b+2]),l.push(q)})(e);c.Ob();c.Qg();if(void 0===a.vb||0===a.vb.length)return{G:c};e=Xe(this,a.vb,b);We(e)&&
c.Ur();return{G:c,vb:e}};f.xq=function(a){var b=this,c=0,e=0;this.it=a;this.jt=void 0;this.$o=function(){e++};this.Zo=function(a){c++;void 0!==b.jt&&b.jt(a,c,e);c===e&&void 0!==b.it&&b.it()}};f.ug=new f.xq;f.Vm=function(a){this.nc=void 0!==a?a:f.ug};
f.Vm.prototype={constructor:f.Vm,load:function(a,b,c,e){var g=this,d=new f.Nf(g.nc);d.Fd(this.crossOrigin);d.load(a,function(a){b(g.parse(JSON.parse(a)))},c,e)},Fd:function(a){this.crossOrigin=a},parse:function(a){var b=new f.qb,c=a.data.attributes,e;for(e in c){var g=c[e],d=new self[g.type](g.l);Se(b,e,new f.Ia(d,g.Ed))}c=a.data.cc;void 0!==c&&(b.cc=JSON.parse(JSON.stringify(c)));a=a.data.kb;void 0!==a&&(c=new f.g,void 0!==a.Pa&&c.Wa(a.Pa),b.kb=new f.Od(c,a.Ca));return b}};
f.ln=function(a){this.nc=void 0!==a?a:f.ug};
f.ln.prototype={constructor:f.ln,load:function(a,b,c,e){var g=this,d=new f.Nf(g.nc);d.Fd(this.crossOrigin);d.load(a,function(a){b(g.parse(JSON.parse(a)))},c,e)},Fd:function(a){this.crossOrigin=a},parse:function(a){var b=new f[a.type];void 0!==a.color&&xe(b.color,a.color);void 0!==a.Qb&&xe(b.Qb,a.Qb);void 0!==a.ae&&xe(b.ae,a.ae);void 0!==a.$d&&(b.$d=a.$d);void 0!==a.xa&&(b.xa=a.xa);void 0!==a.ya&&(b.ya=a.ya);void 0!==a.va&&(b.va=a.va);void 0!==a.O&&(b.O=a.O);void 0!==a.ib&&(b.ib=a.ib);void 0!==a.Ba&&
(b.Ba=a.Ba);void 0!==a.cb&&(b.cb=a.cb);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.Jb&&(b.Jb=a.Jb);void 0!==a.ua&&(b.ua=a.ua);void 0!==a.size&&(b.size=a.size);void 0!==a.Pe&&(b.Pe=a.Pe);if(void 0!==a.vb)for(var c=0,e=a.vb.length;c<e;c++)b.vb.push(this.parse(a.vb[c]));return b}};f.Cq=function(a){this.nc=void 0!==a?a:f.ug;this.Xp=""};
f.Cq.prototype={constructor:f.Cq,load:function(a,b,c,e){""===this.Xp&&(this.Xp=a.substring(0,a.lastIndexOf("/")+1));var g=this,d=new f.Nf(g.nc);d.Fd(this.crossOrigin);d.load(a,function(a){g.parse(JSON.parse(a),b)},c,e)},Fd:function(a){this.crossOrigin=a},parse:function(a,b){var c=Ze(a.Fe),e=$e(this,a.images,function(){void 0!==b&&b(g)}),e=af(a.Ei,e),e=bf(a.vb,e),g=this.rt(a.object,c,e);void 0!==a.images&&0!==a.images.length||void 0===b||b(g);return g},rt:function(){var a=new f.Ea;return function(b,
c,e){function g(a){void 0===e[a]&&f.warn("THREE.ObjectLoader: Undefined material",a);return e[a]}var d;d=function(a){void 0===c[a]&&f.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]};switch(b.type){case "Scene":d=new f.Cg;break;case "PerspectiveCamera":d=new f.Dc(b.ai,b.Nh,b.Ib,b.Gb);break;case "OrthographicCamera":d=new f.Xe(b.left,b.right,b.top,b.bottom,b.Ib,b.Gb);break;case "AmbientLight":d=new f.Ff(b.color);break;case "DirectionalLight":d=new f.Rc(b.color,b.Ma);break;case "PointLight":d=
new f.Ze(b.color,b.Ma,b.lb,b.hd);break;case "SpotLight":d=new f.zd(b.color,b.Ma,b.lb,b.Lg,b.$h,b.hd);break;case "HemisphereLight":d=new f.We(b.color,b.Vg,b.Ma);break;case "Mesh":d=new f.za(d(b.G),g(b.aa));break;case "Line":d=new f.ia(d(b.G),g(b.aa),b.mode);break;case "PointCloud":d=new f.Ec(d(b.G),g(b.aa));break;case "Sprite":d=new f.af(g(b.aa));break;case "Group":d=new f.Qi;break;default:d=new f.P}d.Da=b.Da;void 0!==b.name&&(d.name=b.name);void 0!==b.Va?(a.Wa(b.Va),a.Rh(d.position,d.Yc,d.scale)):
(void 0!==b.position&&d.position.Wa(b.position),void 0!==b.rotation&&d.rotation.Wa(b.rotation),void 0!==b.scale&&d.scale.Wa(b.scale));void 0!==b.visible&&(d.visible=b.visible);void 0!==b.gg&&(d.gg=b.gg);if(void 0!==b.children)for(var h in b.children)d.add(this.rt(b.children[h],c,e));return d}}()};
function af(a,b){var c={};if(void 0!==a)for(var e=0,g=a.length;e<g;e++){var d=a[e];void 0===d.ha&&f.warn('THREE.ObjectLoader: No "image" speficied for',d.Da);void 0===b[d.ha]&&f.warn("THREE.ObjectLoader: Undefined image",d.ha);var h=new f.fb(b[d.ha]);h.V=!0;h.Da=d.Da;void 0!==d.name&&(h.name=d.name);void 0!==d.repeat&&(h.repeat=new f.C(d.repeat[0],d.repeat[1]));void 0!==d.bb&&(h.bb=f[d.bb]);void 0!==d.Tb&&(h.Tb=f[d.Tb]);void 0!==d.jc&&(h.jc=d.jc);d.Ak instanceof Array&&(h.Oc=f[d.Ak[0]],h.Pc=f[d.Ak[1]]);
c[d.Da]=h}return c}function $e(a,b,c){var e={};if(void 0!==b&&0<b.length){c=new f.xq(c);var g=new f.xg(c);g.Fd(a.crossOrigin);c=function(b){a.nc.$o();return g.load(b,function(){a.nc.Zo(b)})};for(var d=0,h=b.length;d<h;d++){var k=b[d];e[k.Da]=c(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?k.url:a.Xp+k.url)}}return e}
function bf(a,b){var c={};if(void 0!==a)for(var e=function(a){void 0===b[a]&&f.warn("THREE.ObjectLoader: Undefined texture",a);return b[a]},g=new f.ln,d=0,h=a.length;d<h;d++){var k=a[d],l=g.parse(k);l.Da=k.Da;void 0!==k.name&&(l.name=k.name);void 0!==k.map&&(l.map=e(k.map));void 0!==k.lc&&(l.lc=e(k.lc),k.Ae&&(l.Ae=new f.C(k.Ae,k.Ae)));void 0!==k.Kb&&(l.Kb=e(k.Kb));void 0!==k.Ua&&(l.Ua=e(k.Ua));void 0!==k.oc&&(l.oc=e(k.oc),k.Ne&&(l.Ne=new f.C(k.Ne,k.Ne)));void 0!==k.Sb&&(l.Sb=e(k.Sb));void 0!==k.Mb&&
(l.Mb=e(k.Mb));c[k.Da]=l}return c}
function Ze(a){var b={};if(void 0!==a)for(var c=new f.yh,e=new f.Vm,g=0,d=a.length;g<d;g++){var h,k=a[g];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":h=new f[k.type](k.width,k.height,k.kg,k.Ge);break;case "BoxGeometry":case "CubeGeometry":h=new f.qg(k.width,k.height,k.depth,k.kg,k.Ge,k.wl);break;case "CircleGeometry":h=new f.Fk(k.Ca,k.Hp);break;case "CylinderGeometry":h=new f.uh(k.nz,k.mz,k.height,k.wi,k.Ge,k.Wy);break;case "SphereGeometry":h=new f.Eh(k.Ca,k.kg,k.Ge,k.tt,k.st,k.Cm,
k.Bm);break;case "IcosahedronGeometry":h=new f.Ui(k.Ca,k.detail);break;case "TorusGeometry":h=new f.Rk(k.Ca,k.Zp,k.wi,k.$p,k.arc);break;case "TorusKnotGeometry":h=new f.Sk(k.Ca,k.Zp,k.wi,k.$p,k.p,k.q,k.Vx);break;case "BufferGeometry":h=e.parse(k);break;case "Geometry":h=c.parse(k.data).G}h.Da=k.Da;void 0!==k.name&&(h.name=k.name);b[k.Da]=h}return b}f.Nq=function(a){this.nc=void 0!==a?a:f.ug};
f.Nq.prototype={constructor:f.Nq,load:function(a,b,c,e){var g=new f.xg(this.nc);g.Fd(this.crossOrigin);g.load(a,function(a){a=new f.fb(a);a.V=!0;void 0!==b&&b(a)},c,e)},Fd:function(a){this.crossOrigin=a}};f.BA=f.kq=function(){this.Zk=null};
f.kq.prototype={constructor:f.kq,load:function(a,b,c,e){var g=this,d=new f.wd,h=new f.Nf;h.responseType="arraybuffer";h.load(a,function(a){if(a=g.Zk(a))void 0!==a.ha?d.ha=a.ha:void 0!==a.data&&(d.ha.width=a.width,d.ha.height=a.height,d.ha.data=a.data),d.Oc=void 0!==a.Oc?a.Oc:f.Ue,d.Pc=void 0!==a.Pc?a.Pc:f.Ue,d.Tb=void 0!==a.Tb?a.Tb:f.oe,d.bb=void 0!==a.bb?a.bb:f.Kk,d.jc=void 0!==a.jc?a.jc:1,void 0!==a.format&&(d.format=a.format),void 0!==a.type&&(d.type=a.type),void 0!==a.xc&&(d.xc=a.xc),1===a.$j&&
(d.bb=f.oe),d.V=!0,b&&b(d,a)},c,e);return d}};f.nq=function(){this.Zk=null};
f.nq.prototype={constructor:f.nq,load:function(a,b,c){var e=this,g=[],d=new f.Gf;d.ha=g;var h=new f.Nf;h.responseType="arraybuffer";if(a instanceof Array){var k=0;c=function(c){h.load(a[c],function(a){a=e.Zk(a,!0);g[c]={width:a.width,height:a.height,format:a.format,xc:a.xc};k+=1;6===k&&(1==a.$j&&(d.bb=f.oe),d.format=a.format,d.V=!0,b&&b(d))})};for(var l=0,m=a.length;l<m;++l)c(l)}else h.load(a,function(a){a=e.Zk(a,!0);if(a.hE)for(var c=a.xc.length/a.$j,h=0;h<c;h++){g[h]={xc:[]};for(var k=0;k<a.$j;k++)g[h].xc.push(a.xc[h*
a.$j+k]),g[h].format=a.format,g[h].width=a.width,g[h].height=a.height}else d.ha.width=a.width,d.ha.height=a.height,d.xc=a.xc;1===a.$j&&(d.bb=f.oe);d.format=a.format;d.V=!0;b&&b(d)});return d}};
f.Aa=function(){Object.defineProperty(this,"id",{value:f.av++});this.Da=f.Math.ci();this.name="";this.type="Material";this.cb=f.xh;this.opacity=1;this.Jb=!1;this.Ba=f.If;this.mj=f.Mq;this.lj=f.Dq;this.blendEquation=f.iq;this.fo=this.eo=this.io=null;this.Yw=this.qf=this.pf=!0;this.polygonOffset=!1;this.qt=this.Kg=this.zp=this.yp=0;this.fj=this.visible=!0};
f.Aa.prototype={constructor:f.Aa,get V(){return this.fj},set V(a){!0===a&&this.update();this.fj=a},toJSON:function(){var a={ah:{version:4.2,type:"material",El:"MaterialExporter"},Da:this.Da,type:this.type};""!==this.name&&(a.name=this.name);this instanceof f.Bc?(a.color=ye(this.color),this.O!==f.Ld&&(a.O=this.O),this.Ba!==f.If&&(a.Ba=this.Ba),this.cb!==f.xh&&(a.cb=this.cb)):this instanceof f.yd?(a.color=ye(this.color),a.Qb=ye(this.Qb),this.O!==f.Ld&&(a.O=this.O),this.ib!==f.Dh&&(a.ib=this.ib),this.Ba!==
f.If&&(a.Ba=this.Ba),this.cb!==f.xh&&(a.cb=this.cb)):this instanceof f.Cc?(a.color=ye(this.color),a.Qb=ye(this.Qb),a.ae=ye(this.ae),a.$d=this.$d,this.O!==f.Ld&&(a.O=this.O),this.ib!==f.Dh&&(a.ib=this.ib),this.Ba!==f.If&&(a.Ba=this.Ba),this.cb!==f.xh&&(a.cb=this.cb)):this instanceof f.qe?(this.Ba!==f.If&&(a.Ba=this.Ba),this.cb!==f.xh&&(a.cb=this.cb)):this instanceof f.Hf?(this.Ba!==f.If&&(a.Ba=this.Ba),this.cb!==f.xh&&(a.cb=this.cb)):this instanceof f.Md?(a.size=this.size,a.Pe=this.Pe,a.color=ye(this.color),
this.O!==f.Ld&&(a.O=this.O),this.Ba!==f.If&&(a.Ba=this.Ba)):this instanceof f.hc?(a.xa=this.xa,a.ya=this.ya,a.va=this.va):this instanceof f.Dg&&(a.color=ye(this.color));1>this.opacity&&(a.opacity=this.opacity);!1!==this.Jb&&(a.Jb=this.Jb);!1!==this.ua&&(a.ua=this.ua);return a},clone:function(a){void 0===a&&(a=new f.Aa);a.name=this.name;a.cb=this.cb;a.opacity=this.opacity;a.Jb=this.Jb;a.Ba=this.Ba;a.mj=this.mj;a.lj=this.lj;a.blendEquation=this.blendEquation;a.io=this.io;a.eo=this.eo;a.fo=this.fo;a.pf=
this.pf;a.qf=this.qf;a.polygonOffset=this.polygonOffset;a.yp=this.yp;a.zp=this.zp;a.Kg=this.Kg;a.qt=this.qt;a.visible=this.visible;return a},update:function(){this.dispatchEvent({type:"update"})},Eb:function(){this.dispatchEvent({type:"dispose"})}};
function cf(a,b){if(void 0!==b)for(var c in b){var e=b[c];if(void 0===e)f.warn("THREE.Material: '"+c+"' parameter is undefined.");else if(c in a){var g=a[c];g instanceof f.Z?g.set(e):g instanceof f.g&&e instanceof f.g?g.A(e):a[c]="overdraw"==c?Number(e):e}}}f.xd.prototype.apply(f.Aa.prototype);f.av=0;f.zb=function(a){f.Aa.call(this);this.type="LineBasicMaterial";this.color=new f.Z(16777215);this.Vd=1;this.Vs=this.Us="round";this.O=f.Ld;this.fa=!0;cf(this,a)};f.zb.prototype=Object.create(f.Aa.prototype);
f.zb.prototype.constructor=f.zb;f.zb.prototype.clone=function(){var a=new f.zb;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.Vd=this.Vd;a.Us=this.Us;a.Vs=this.Vs;a.O=this.O;a.fa=this.fa;return a};f.zg=function(a){f.Aa.call(this);this.type="LineDashedMaterial";this.color=new f.Z(16777215);this.scale=this.Vd=1;this.Qh=3;this.Mo=1;this.O=!1;this.fa=!0;cf(this,a)};f.zg.prototype=Object.create(f.Aa.prototype);f.zg.prototype.constructor=f.zg;
f.zg.prototype.clone=function(){var a=new f.zg;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.Vd=this.Vd;a.scale=this.scale;a.Qh=this.Qh;a.Mo=this.Mo;a.O=this.O;a.fa=this.fa;return a};f.Bc=function(a){f.Aa.call(this);this.type="MeshBasicMaterial";this.color=new f.Z(16777215);this.Ua=this.Kb=this.Mb=this.Sb=this.map=null;this.Pd=f.Mk;this.Yd=1;this.Zd=.98;this.fa=!0;this.ib=f.Dh;this.ua=!1;this.ec=1;this.ng=this.lg="round";this.O=f.Ld;this.$=this.Lb=!1;cf(this,a)};f.Bc.prototype=Object.create(f.Aa.prototype);
f.Bc.prototype.constructor=f.Bc;f.Bc.prototype.clone=function(){var a=new f.Bc;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.map=this.map;a.Sb=this.Sb;a.Mb=this.Mb;a.Kb=this.Kb;a.Ua=this.Ua;a.Pd=this.Pd;a.Yd=this.Yd;a.Zd=this.Zd;a.fa=this.fa;a.ib=this.ib;a.ua=this.ua;a.ec=this.ec;a.lg=this.lg;a.ng=this.ng;a.O=this.O;a.Lb=this.Lb;a.$=this.$;return a};
f.yd=function(a){f.Aa.call(this);this.type="MeshLambertMaterial";this.color=new f.Z(16777215);this.Qb=new f.Z(0);this.ee=!1;this.ie=new f.g(1,1,1);this.Ua=this.Kb=this.Mb=this.Sb=this.map=null;this.Pd=f.Mk;this.Yd=1;this.Zd=.98;this.fa=!0;this.ib=f.Dh;this.ua=!1;this.ec=1;this.ng=this.lg="round";this.O=f.Ld;this.Ub=this.$=this.Lb=!1;cf(this,a)};f.yd.prototype=Object.create(f.Aa.prototype);f.yd.prototype.constructor=f.yd;
f.yd.prototype.clone=function(){var a=new f.yd;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.Qb.A(this.Qb);a.ee=this.ee;a.ie.A(this.ie);a.map=this.map;a.Sb=this.Sb;a.Mb=this.Mb;a.Kb=this.Kb;a.Ua=this.Ua;a.Pd=this.Pd;a.Yd=this.Yd;a.Zd=this.Zd;a.fa=this.fa;a.ib=this.ib;a.ua=this.ua;a.ec=this.ec;a.lg=this.lg;a.ng=this.ng;a.O=this.O;a.Lb=this.Lb;a.$=this.$;a.Ub=this.Ub;return a};
f.Cc=function(a){f.Aa.call(this);this.type="MeshPhongMaterial";this.color=new f.Z(16777215);this.Qb=new f.Z(0);this.ae=new f.Z(1118481);this.$d=30;this.ee=this.Zj=!1;this.ie=new f.g(1,1,1);this.lc=this.Sb=this.map=null;this.Ae=1;this.oc=null;this.Ne=new f.C(1,1);this.Ua=this.Kb=this.Mb=null;this.Pd=f.Mk;this.Yd=1;this.Zd=.98;this.fa=!0;this.ib=f.Dh;this.ua=!1;this.ec=1;this.ng=this.lg="round";this.O=f.Ld;this.Ub=this.$=this.Lb=!1;cf(this,a)};f.Cc.prototype=Object.create(f.Aa.prototype);
f.Cc.prototype.constructor=f.Cc;
f.Cc.prototype.clone=function(){var a=new f.Cc;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.Qb.A(this.Qb);a.ae.A(this.ae);a.$d=this.$d;a.Zj=this.Zj;a.ee=this.ee;a.ie.A(this.ie);a.map=this.map;a.Sb=this.Sb;a.lc=this.lc;a.Ae=this.Ae;a.oc=this.oc;a.Ne.A(this.Ne);a.Mb=this.Mb;a.Kb=this.Kb;a.Ua=this.Ua;a.Pd=this.Pd;a.Yd=this.Yd;a.Zd=this.Zd;a.fa=this.fa;a.ib=this.ib;a.ua=this.ua;a.ec=this.ec;a.lg=this.lg;a.ng=this.ng;a.O=this.O;a.Lb=this.Lb;a.$=this.$;a.Ub=this.Ub;return a};
f.Hf=function(a){f.Aa.call(this);this.type="MeshDepthMaterial";this.ua=this.$=!1;this.ec=1;cf(this,a)};f.Hf.prototype=Object.create(f.Aa.prototype);f.Hf.prototype.constructor=f.Hf;f.Hf.prototype.clone=function(){var a=new f.Hf;f.Aa.prototype.clone.call(this,a);a.ua=this.ua;a.ec=this.ec;return a};f.qe=function(a){f.Aa.call(this);this.type="MeshNormalMaterial";this.ua=!1;this.ec=1;this.$=!1;cf(this,a)};f.qe.prototype=Object.create(f.Aa.prototype);f.qe.prototype.constructor=f.qe;
f.qe.prototype.clone=function(){var a=new f.qe;f.Aa.prototype.clone.call(this,a);a.ua=this.ua;a.ec=this.ec;return a};f.Ag=function(a){this.Da=f.Math.ci();this.type="MeshFaceMaterial";this.vb=a instanceof Array?a:[]};
f.Ag.prototype={constructor:f.Ag,toJSON:function(){for(var a={ah:{version:4.2,type:"material",El:"MaterialExporter"},Da:this.Da,type:this.type,vb:[]},b=0,c=this.vb.length;b<c;b++)a.vb.push(this.vb[b].toJSON());return a},clone:function(){for(var a=new f.Ag,b=0;b<this.vb.length;b++)a.vb.push(this.vb[b].clone());return a}};f.Md=function(a){f.Aa.call(this);this.type="PointCloudMaterial";this.color=new f.Z(16777215);this.map=null;this.size=1;this.Pe=!0;this.O=f.Ld;this.fa=!0;cf(this,a)};
f.Md.prototype=Object.create(f.Aa.prototype);f.Md.prototype.constructor=f.Md;f.Md.prototype.clone=function(){var a=new f.Md;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.map=this.map;a.size=this.size;a.Pe=this.Pe;a.O=this.O;a.fa=this.fa;return a};f.XA=function(a){f.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial.");return new f.Md(a)};f.ZA=function(a){f.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial.");return new f.Md(a)};
f.hc=function(a){f.Aa.call(this);this.type="ShaderMaterial";this.Th={};this.xa={};this.attributes=null;this.ya="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.va="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.ib=f.Dh;this.Vd=1;this.ua=!1;this.ec=1;this.ji=this.fa=!1;this.O=f.Ld;this.Ub=this.$=this.Lb=!1;this.Sd={color:[1,1,1],Nc:[0,0],yk:[0,0]};this.$x=void 0;cf(this,a)};f.hc.prototype=Object.create(f.Aa.prototype);
f.hc.prototype.constructor=f.hc;f.hc.prototype.clone=function(){var a=new f.hc;f.Aa.prototype.clone.call(this,a);a.va=this.va;a.ya=this.ya;a.xa=f.Lf.clone(this.xa);a.attributes=this.attributes;a.Th=this.Th;a.ib=this.ib;a.ua=this.ua;a.ec=this.ec;a.fa=this.fa;a.ji=this.ji;a.O=this.O;a.Lb=this.Lb;a.$=this.$;a.Ub=this.Ub;return a};f.Ch=function(a){f.hc.call(this,a);this.type="RawShaderMaterial"};f.Ch.prototype=Object.create(f.hc.prototype);f.Ch.prototype.constructor=f.Ch;
f.Ch.prototype.clone=function(){var a=new f.Ch;f.hc.prototype.clone.call(this,a);return a};f.Dg=function(a){f.Aa.call(this);this.type="SpriteMaterial";this.color=new f.Z(16777215);this.map=null;this.rotation=0;this.fa=!1;cf(this,a)};f.Dg.prototype=Object.create(f.Aa.prototype);f.Dg.prototype.constructor=f.Dg;f.Dg.prototype.clone=function(){var a=new f.Dg;f.Aa.prototype.clone.call(this,a);a.color.A(this.color);a.map=this.map;a.rotation=this.rotation;a.fa=this.fa;return a};
f.fb=function(a,b,c,e,g,d,h,k,l){Object.defineProperty(this,"id",{value:f.Fv++});this.Da=f.Math.ci();this.xm=this.name="";this.ha=void 0!==a?a:f.fb.m;this.xc=[];this.Xj=void 0!==b?b:f.fb.J;this.Oc=void 0!==c?c:f.Ue;this.Pc=void 0!==e?e:f.Ue;this.Tb=void 0!==g?g:f.oe;this.bb=void 0!==d?d:f.Kk;this.jc=void 0!==l?l:1;this.format=void 0!==h?h:f.$e;this.type=void 0!==k?k:f.An;this.offset=new f.C(0,0);this.repeat=new f.C(1,1);this.jd=!0;this.Ap=!1;this.Tg=!0;this.aq=4;this.fj=!1;this.Rl=null};f.fb.m=void 0;
f.fb.J=f.Hv;f.fb.prototype={constructor:f.fb,get V(){return this.fj},set V(a){!0===a&&this.update();this.fj=a},clone:function(a){void 0===a&&(a=new f.fb);a.ha=this.ha;a.xc=this.xc.slice(0);a.Xj=this.Xj;a.Oc=this.Oc;a.Pc=this.Pc;a.Tb=this.Tb;a.bb=this.bb;a.jc=this.jc;a.format=this.format;a.type=this.type;a.offset.A(this.offset);a.repeat.A(this.repeat);a.jd=this.jd;a.Ap=this.Ap;a.Tg=this.Tg;a.aq=this.aq;return a},update:function(){this.dispatchEvent({type:"update"})},Eb:function(){this.dispatchEvent({type:"dispose"})}};
f.xd.prototype.apply(f.fb.prototype);f.Fv=0;f.tg=function(a,b,c,e,g,d,h,k,l){b=void 0!==b?b:f.oq;f.fb.call(this,a,b,c,e,g,d,h,k,l);this.images=a};f.tg.prototype=Object.create(f.fb.prototype);f.tg.prototype.constructor=f.tg;f.tg.clone=function(a){void 0===a&&(a=new f.tg);f.fb.prototype.clone.call(this,a);a.images=this.images;return a};f.Gf=function(a,b,c,e,g,d,h,k,l,m,q){f.fb.call(this,null,d,h,k,l,m,e,g,q);this.ha={width:b,height:c};this.xc=a;this.jd=this.Tg=!1};f.Gf.prototype=Object.create(f.fb.prototype);
f.Gf.prototype.constructor=f.Gf;f.Gf.prototype.clone=function(){var a=new f.Gf;f.fb.prototype.clone.call(this,a);return a};f.wd=function(a,b,c,e,g,d,h,k,l,m,q){f.fb.call(this,null,d,h,k,l,m,e,g,q);this.ha={data:a,width:b,height:c}};f.wd.prototype=Object.create(f.fb.prototype);f.wd.prototype.constructor=f.wd;f.wd.prototype.clone=function(){var a=new f.wd;f.fb.prototype.clone.call(this,a);return a};
f.Bn=function(a,b,c,e,g,d,h,k,l){function m(){requestAnimationFrame(m);a.readyState===a.HAVE_ENOUGH_DATA&&(q.V=!0)}f.fb.call(this,a,b,c,e,g,d,h,k,l);this.jd=!1;var q=this;m()};f.Bn.prototype=Object.create(f.fb.prototype);f.Bn.prototype.constructor=f.Bn;f.Qi=function(){f.P.call(this);this.type="Group"};f.Qi.prototype=Object.create(f.P.prototype);f.Qi.prototype.constructor=f.Qi;
f.Ec=function(a,b){f.P.call(this);this.type="PointCloud";this.G=void 0!==a?a:new f.N;this.aa=void 0!==b?b:new f.Md({color:16777215*Math.random()})};f.Ec.prototype=Object.create(f.P.prototype);f.Ec.prototype.constructor=f.Ec;f.Ec.prototype.clone=function(a){void 0===a&&(a=new f.Ec(this.G,this.aa));f.P.prototype.clone.call(this,a);return a};f.YA=function(a,b){f.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud.");return new f.Ec(a,b)};
f.ia=function(a,b,c){f.P.call(this);this.type="Line";this.G=void 0!==a?a:new f.N;this.aa=void 0!==b?b:new f.zb({color:16777215*Math.random()});this.mode=void 0!==c?c:f.jn};f.jn=0;f.Jd=1;f.ia.prototype=Object.create(f.P.prototype);f.ia.prototype.constructor=f.ia;f.ia.prototype.clone=function(a){void 0===a&&(a=new f.ia(this.G,this.aa,this.mode));f.P.prototype.clone.call(this,a);return a};
f.za=function(a,b){f.P.call(this);this.type="Mesh";this.G=void 0!==a?a:new f.N;this.aa=void 0!==b?b:new f.Bc({color:16777215*Math.random()});if(void 0!==this.G.$&&0<this.G.$.length){this.pp=-1;this.et=[];this.od=[];this.Hy={};for(var c=0,e=this.G.$.length;c<e;c++)this.od.push(0),this.Hy[this.G.$[c].name]=c}};f.za.prototype=Object.create(f.P.prototype);f.za.prototype.constructor=f.za;f.za.prototype.clone=function(a,b){void 0===a&&(a=new f.za(this.G,this.aa));f.P.prototype.clone.call(this,a,b);return a};
f.pg=function(){f.P.call(this);this.type="Bone"};f.pg.prototype=Object.create(f.P.prototype);f.pg.prototype.constructor=f.pg;
f.Lq=function(a,b,c){this.Ef=void 0!==c?c:!0;this.Xx=new f.Ea;a=a||[];this.Ka=a.slice(0);this.Ef?(this.pj=this.qj=256<this.Ka.length?64:64<this.Ka.length?32:16<this.Ka.length?16:8,this.oj=new Float32Array(this.qj*this.pj*4),this.Rf=new f.wd(this.oj,this.qj,this.pj,f.$e,f.Mi),this.Rf.bb=f.Kd,this.Rf.Tb=f.Kd,this.Rf.jd=!1,this.Rf.Tg=!1):this.oj=new Float32Array(16*this.Ka.length);if(void 0===b)for(this.nj=[],a=0,b=this.Ka.length;a<b;a++)c=new f.Ea,this.Ka[a]&&c.Ud(this.Ka[a].M),this.nj.push(c);else if(this.Ka.length===
b.length)this.nj=b.slice(0);else for(f.warn("THREE.Skeleton bonInverses is the wrong length."),this.nj=[],b=0,a=this.Ka.length;b<a;b++)this.nj.push(new f.Ea)};f.Lq.prototype.update=function(){var a=new f.Ea;return function(){for(var b=0,c=this.Ka.length;b<c;b++)Ae(a,this.Ka[b]?this.Ka[b].M:this.Xx,this.nj[b]),a.Bl(this.oj,16*b);this.Ef&&(this.Rf.V=!0)}}();
f.Nd=function(a,b,c){f.za.call(this,a,b);this.type="SkinnedMesh";this.bo="attached";this.Oh=new f.Ea;this.Og=new f.Ea;a=[];if(this.G&&void 0!==this.G.Ka){for(var e,g,d,h,k=0,l=this.G.Ka.length;k<l;++k)e=this.G.Ka[k],g=e.ui,d=e.LG,h=e.Kt,b=new f.pg,a.push(b),b.name=e.name,b.position.set(g[0],g[1],g[2]),b.Yc.set(d[0],d[1],d[2],d[3]),void 0!==h?b.scale.set(h[0],h[1],h[2]):b.scale.set(1,1,1);k=0;for(l=this.G.Ka.length;k<l;++k)e=this.G.Ka[k],-1!==e.parent?a[e.parent].add(a[k]):this.add(a[k])}if(this.G instanceof
f.N)for(b=0;b<this.G.td.length;b++)e=this.G.Id[b],g=1/e.Ss(),Infinity!==g?e.qa(g):e.set(1);this.xb(!0);this.bind(new f.Lq(a,void 0,c))};f.Nd.prototype=Object.create(f.za.prototype);f.Nd.prototype.constructor=f.Nd;f.Nd.prototype.bind=function(a,b){this.dc=a;void 0===b&&(this.xb(!0),b=this.M);this.Oh.A(b);this.Og.Ud(b)};
f.Nd.prototype.xb=function(){f.za.prototype.xb.call(this,!0);"attached"===this.bo?this.Og.Ud(this.M):"detached"===this.bo?this.Og.Ud(this.Oh):f.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bo)};f.Nd.prototype.clone=function(a){void 0===a&&(a=new f.Nd(this.G,this.aa,this.Ef));f.za.prototype.clone.call(this,a);return a};
f.Xi=function(a,b){f.za.call(this,a,b);this.type="MorphAnimMesh";this.duration=1E3;this.Ql=!1;this.Wr=this.Rs=this.time=0;this.direction=1;this.Wh=!1;var c=this.G.$.length-1;this.Tz=0;this.lx=c;this.length=this.lx-this.Tz+1};f.Xi.prototype=Object.create(f.za.prototype);f.Xi.prototype.constructor=f.Xi;
f.Xi.prototype.clone=function(a){void 0===a&&(a=new f.Xi(this.G,this.aa));a.duration=this.duration;a.Ql=this.Ql;a.time=this.time;a.Rs=this.Rs;a.Wr=this.Wr;a.direction=this.direction;a.Wh=this.Wh;f.za.prototype.clone.call(this,a);return a};f.zh=function(){f.P.call(this);this.qd=[]};f.zh.prototype=Object.create(f.P.prototype);f.zh.prototype.constructor=f.zh;
f.zh.prototype.update=function(){var a=new f.g,b=new f.g;return function(c){if(1<this.qd.length){Ce(a,c.M);Ce(b,this.M);c=a.sf(b);this.qd[0].object.visible=!0;for(var e=1,g=this.qd.length;e<g;e++)if(c>=this.qd[e].lb)this.qd[e-1].object.visible=!1,this.qd[e].object.visible=!0;else break;for(;e<g;e++)this.qd[e].object.visible=!1}}}();
f.zh.prototype.clone=function(a){void 0===a&&(a=new f.zh);f.P.prototype.clone.call(this,a);for(var b=0,c=this.qd.length;b<c;b++){var e=this.qd[b].object.clone();e.visible=0===b;var g=a,d=this.qd[b].lb;void 0===d&&(d=0);for(var d=Math.abs(d),h=0;h<g.qd.length&&!(d<g.qd[h].lb);h++);g.qd.splice(h,0,{lb:d,object:e});g.add(e)}return a};
f.af=function(){var a=new Uint16Array([0,1,2,0,2,3]),b=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),c=new Float32Array([0,0,1,0,1,1,0,1]),e=new f.qb;Se(e,"index",new f.Ia(a,1));Se(e,"position",new f.Ia(b,3));Se(e,"uv",new f.Ia(c,2));return function(a){f.P.call(this);this.type="Sprite";this.G=e;this.aa=void 0!==a?a:new f.Dg}}();f.af.prototype=Object.create(f.P.prototype);f.af.prototype.constructor=f.af;
f.af.prototype.clone=function(a){void 0===a&&(a=new f.af(this.aa));f.P.prototype.clone.call(this,a);return a};f.WA=f.af;f.Wi=function(a,b,c,e,g){f.P.call(this);this.Tj=[];this.jk=new f.g;this.Xr=void 0;void 0!==a&&this.add(a,b,c,e,g)};f.Wi.prototype=Object.create(f.P.prototype);f.Wi.prototype.constructor=f.Wi;
f.Wi.prototype.add=function(a,b,c,e,g,d){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===d&&(d=1);void 0===g&&(g=new f.Z(16777215));void 0===e&&(e=f.If);c=Math.min(c,Math.max(0,c));this.Tj.push({Xz:a,size:b,lb:c,x:0,y:0,z:0,scale:1,rotation:1,opacity:d,color:g,Ba:e})};f.Cg=function(){f.P.call(this);this.type="Scene";this.hk=this.fa=null;this.jl=!0};f.Cg.prototype=Object.create(f.P.prototype);f.Cg.prototype.constructor=f.Cg;
f.Cg.prototype.clone=function(a){void 0===a&&(a=new f.Cg);f.P.prototype.clone.call(this,a);null!==this.fa&&(a.fa=this.fa.clone());null!==this.hk&&(a.hk=this.hk.clone());a.jl=this.jl;a.Bb=this.Bb;return a};f.Hk=function(a,b,c){this.name="";this.color=new f.Z(a);this.Ib=void 0!==b?b:1;this.Gb=void 0!==c?c:1E3};f.Hk.prototype.clone=function(){return new f.Hk(ye(this.color),this.Ib,this.Gb)};f.Ni=function(a,b){this.name="";this.color=new f.Z(a);this.wo=void 0!==b?b:2.5E-4};
f.Ni.prototype.clone=function(){return new f.Ni(ye(this.color),this.wo)};f.a={};f.a.gb="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\nfloat square( in float a ) { return a*a; }\nvec2  square( in vec2 a )  { return vec2( a.x*a.x, a.y*a.y ); }\nvec3  square( in vec3 a )  { return vec3( a.x*a.x, a.y*a.y, a.z*a.z ); }\nvec4  square( in vec4 a )  { return vec4( a.x*a.x, a.y*a.y, a.z*a.z, a.w*a.w ); }\nfloat saturate( in float a ) { return clamp( a, 0.0, 1.0 ); }\nvec2  saturate( in vec2 a )  { return clamp( a, 0.0, 1.0 ); }\nvec3  saturate( in vec3 a )  { return clamp( a, 0.0, 1.0 ); }\nvec4  saturate( in vec4 a )  { return clamp( a, 0.0, 1.0 ); }\nfloat average( in float a ) { return a; }\nfloat average( in vec2 a )  { return ( a.x + a.y) * 0.5; }\nfloat average( in vec3 a )  { return ( a.x + a.y + a.z) / 3.0; }\nfloat average( in vec4 a )  { return ( a.x + a.y + a.z + a.w) * 0.25; }\nfloat whiteCompliment( in float a ) { return saturate( 1.0 - a ); }\nvec2  whiteCompliment( in vec2 a )  { return saturate( vec2(1.0) - a ); }\nvec3  whiteCompliment( in vec3 a )  { return saturate( vec3(1.0) - a ); }\nvec4  whiteCompliment( in vec4 a )  { return saturate( vec4(1.0) - a ); }\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n}\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal) {\n\tfloat distance = dot( planeNormal, point-pointOnPlane );\n\treturn point - distance * planeNormal;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn pointOnLine + lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) );\n}\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\tif ( decayExponent > 0.0 ) {\n\t  return pow( saturate( 1.0 - lightDistance / cutoffDistance ), decayExponent );\n\t}\n\treturn 1.0;\n}\n\nvec3 inputToLinear( in vec3 a ) {\n#ifdef GAMMA_INPUT\n\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\n#else\n\treturn a;\n#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n#ifdef GAMMA_OUTPUT\n\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n#else\n\treturn a;\n#endif\n}\n";
f.a.fl="#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n";f.a.iy="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n\tfloat dotProduct = dot( transformedNormal, dirVector );\n\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t#endif\n\n\t#endif\n\n\t#ifdef WRAP_AROUND\n\n\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n\t\t#endif\n\n\t#endif\n\n\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n\t#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * attenuation;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * attenuation;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tlVector = normalize( lVector );\n\n\t\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n\t\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * attenuation * spotEffect;\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * attenuation * spotEffect;\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n\nvLightFront += ambientLightColor;\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack += ambientLightColor;\n\n#endif\n";
f.a.Ay="#ifdef USE_MAP\n\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n\n#endif\n";f.a.Sh="#ifdef USE_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n\tvec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n";f.a.kp="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif";
f.a.Rp="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\t#ifdef USE_MORPHNORMALS\n\n\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n\t#else\n\n\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n\t#endif\n\n#endif\n";f.a.Le="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif";
f.a.gp="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\n#endif";f.a.jy="#ifndef FLAT_SHADED\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n\t#endif\n\n#else\n\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\ttotalDiffuseLight += pointLightColor[ i ] * pointDiffuseWeight * attenuation;\n\n\t\t\t\t// specular\n\n\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );\n\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * attenuation * specularNormalization;\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\t// diffuse\n\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n\t\t\t#else\n\n\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t\t#endif\n\n\t\t\ttotalDiffuseLight += spotLightColor[ i ] * spotDiffuseWeight * attenuation * spotEffect;\n\n\t\t\t// specular\n\n\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );\n\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n\t\t\ttotalSpecularLight += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * attenuation * specularNormalization * spotEffect;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, dirVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\ttotalDiffuseLight += directionalLightColor[ i ] * dirDiffuseWeight;\n\n\t\t// specular\n\n\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n\t\t/*\n\t\t// fresnel term from skin shader\n\t\tconst float F0 = 0.128;\n\n\t\tfloat base = 1.0 - dot( viewPosition, dirHalfVector );\n\t\tfloat exponential = pow( base, 5.0 );\n\n\t\tfloat fresnel = exponential + F0 * ( 1.0 - exponential );\n\t\t*/\n\n\t\t/*\n\t\t// fresnel term from fresnel shader\n\t\tconst float mFresnelBias = 0.08;\n\t\tconst float mFresnelScale = 0.3;\n\t\tconst float mFresnelPower = 5.0;\n\n\t\tfloat fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n\t\t*/\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t// \t\tdirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\ttotalDiffuseLight += hemiColor;\n\n\t\t// specular (sky light)\n\n\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n\t\t// specular (ground light)\n\n\t\tvec3 lVectorGround = -lVector;\n\n\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n\t}\n\n#endif\n\n#ifdef METAL\n\n\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) * specular + totalSpecularLight + emissive;\n\n#else\n\n\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) + totalSpecularLight + emissive;\n\n#endif\n";
f.a.Kj="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif";f.a.rp="#ifdef USE_MORPHNORMALS\n\n\tvec3 morphedNormal = vec3( 0.0 );\n\n\tmorphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tmorphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tmorphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tmorphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n\tmorphedNormal += normal;\n\n#endif";
f.a.Do="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n";f.a.Je="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif";
f.a.Qy="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t// Per-Pixel Tangent Space Normal Mapping\n\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n";
f.a.ly="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n";f.a.fp="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\tuniform sampler2D lightMap;\n\n#endif";f.a.om="#ifdef USE_SHADOWMAP\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif";f.a.my="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif";
f.a.jp="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\n\tdiffuseColor *= texelColor;\n\n#endif";f.a.hp="#ifdef USE_LIGHTMAP\n\n\tvUv2 = uv2;\n\n#endif";f.a.zy="#ifdef USE_MAP\n\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n";f.a.uj="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n";f.a.wj="#ifdef USE_COLOR\n\n\tvColor.xyz = inputToLinear( color.xyz );\n\n#endif";
f.a.um="#ifdef USE_SKINNING\n\n\t#ifdef USE_MORPHTARGETS\n\n\tvec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n";
f.a.Eo="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n";f.a.ip="\n\toutgoingLight = linearToOutput( outgoingLight );\n";f.a.vj="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif";f.a.hy="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n";
f.a.lp="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n";f.a.Co="#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n";
f.a.Tp="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif";f.a.Me="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif";f.a.mi="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif";
f.a.Sp="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif";f.a.Jj="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = exp2( - square( fogDensity ) * square( depth ) * LOG2 );\n\t\tfogFactor = whiteCompliment( fogFactor );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif";
f.a.Kw="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n\t// http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n";
f.a.uo="#ifdef USE_SKINNING\n\n\tvec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n\tvec3 objectNormal = morphedNormal;\n\n#else\n\n\tvec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n";f.a.ky="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n";
f.a.qm="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif";f.a.mp="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif";f.a.ep="#ifdef USE_LIGHTMAP\n\n\toutgoingLight *= diffuseColor.xyz * texture2D( lightMap, vUv2 ).xyz;\n\n#endif";
f.a.nm="#ifdef USE_SHADOWMAP\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif";f.a.tj="#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif";f.a.oi="#ifdef USE_MORPHTARGETS\n\n\tvec3 morphed = vec3( 0.0 );\n\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n\tmorphed += position;\n\n#endif";
f.a.Fo="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 worldNormal = transformDirection( objectNormal, modelMatrix );\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n";f.a.lm="#ifdef USE_SHADOWMAP\n\n\t#ifdef SHADOWMAP_DEBUG\n\n\t\tvec3 frustumColors[3];\n\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n\t#endif\n\n\t#ifdef SHADOWMAP_CASCADE\n\n\t\tint inFrustumCount = 0;\n\n\t#endif\n\n\tfloat fDepth;\n\tvec3 shadowColor = vec3( 1.0 );\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\t\t\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\t\t// don't shadow pixels outside of light frustum\n\t\t\t\t// use just first frustum (for cascades)\n\t\t\t\t// don't shadow pixels behind far plane of light frustum\n\n\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\tinFrustumCount += int( inFrustum );\n\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n\t\t#else\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t#endif\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t/*\n\t\t\t\t\t\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n\t\t\t\t\t\t// must enroll loop manually\n\n\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n\t\t\t\t\t\t\t\t// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n\t\t\t\t\t\t\t\t//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\tshadow += 1.0;\n\n\t\t\t\t}\n\n\t\t\t\tshadow /= 9.0;\n\n\t\t*/\n\n\t\t\t\tconst float shadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n\t\t\t\tshadowKernel[0] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n\t\t\t\tshadowKernel[1] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n\t\t\t\tshadowKernel[2] *= vec3(0.25);\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#else\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\n\t\t// spot with multiple shadows is darker\n\n\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n\t\t// spot with multiple shadows has the same color as single shadow spot\n\n\t\t// \t\t\t\t\tshadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n\t\t\t#endif\n\n\t\t}\n\n\n\t\t#ifdef SHADOWMAP_DEBUG\n\n\t\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) outgoingLight *= frustumColors[ i ];\n\n\t\t\t#else\n\n\t\t\t\tif ( inFrustum ) outgoingLight *= frustumColors[ i ];\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t}\n\n\t// NOTE: I am unsure if this is correct in linear space.  -bhouston, Dec 29, 2014\n\tshadowColor = inputToLinear( shadowColor );\n\n\toutgoingLight = outgoingLight * shadowColor;\n\n#endif\n";
f.a.Im="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#elif defined( USE_MORPHTARGETS )\n\n\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n#endif\n";f.a.mm="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n#endif";
f.a.rm="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n";
f.a.Ke="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\t#extension GL_EXT_frag_depth : enable\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif";f.a.Tn="#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n";f.a.Un="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n";
f.Lf={Hb:function(a){for(var b={},c=0;c<a.length;c++){var e=this.clone(a[c]),g;for(g in e)b[g]=e[g]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var e in a[c]){var g=a[c][e];b[c][e]=g instanceof f.Z||g instanceof f.C||g instanceof f.g||g instanceof f.df||g instanceof f.Ea||g instanceof f.fb?g.clone():g instanceof Array?g.slice():g}}return b}};
f.ic={gb:{xo:{type:"c",value:new f.Z(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},sp:{type:"v4",value:new f.df(0,0,1,1)},Sb:{type:"t",value:null},Mb:{type:"t",value:null},Kb:{type:"t",value:null},Ua:{type:"t",value:null},ux:{type:"f",value:-1},Yd:{type:"f",value:1},Zd:{type:"f",value:.98},od:{type:"f",value:0}},Jw:{lc:{type:"t",value:null},Ae:{type:"f",value:1}},Py:{oc:{type:"t",value:null},Ne:{type:"v2",value:new f.C(1,1)}},fa:{ps:{type:"f",value:2.5E-4},rs:{type:"f",value:1},
qs:{type:"f",value:2E3},ns:{type:"c",value:new f.Z(16777215)}},ji:{Lr:{type:"fv",value:[]},bs:{type:"fv",value:[]},$r:{type:"fv",value:[]},Gs:{type:"fv",value:[]},Is:{type:"fv",value:[]},Hs:{type:"fv",value:[]},ut:{type:"fv",value:[]},xt:{type:"fv",value:[]},wt:{type:"fv1",value:[]},vt:{type:"fv1",value:[]},du:{type:"fv",value:[]},ju:{type:"fv",value:[]},gu:{type:"fv",value:[]},hu:{type:"fv1",value:[]},bu:{type:"fv1",value:[]},iu:{type:"fv1",value:[]},fu:{type:"fv1",value:[]}},bz:{jz:{type:"c",value:new f.Z(15658734)},
opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},sp:{type:"v4",value:new f.df(0,0,1,1)},ps:{type:"f",value:2.5E-4},rs:{type:"f",value:1},qs:{type:"f",value:2E3},ns:{type:"c",value:new f.Z(16777215)}},km:{jh:{type:"tv",value:[]},uk:{type:"v2v",value:[]},Oe:{type:"fv1",value:[]},Hd:{type:"fv1",value:[]},lh:{type:"m4v",value:[]}}};
f.Kq={BB:{xa:f.Lf.Hb([f.ic.gb,f.ic.fa,f.ic.km]),ya:[f.a.gb,f.a.lp,f.a.gp,f.a.Eo,f.a.vj,f.a.mi,f.a.rm,f.a.nm,f.a.Le,"void main() {",f.a.mp,f.a.hp,f.a.wj,f.a.qm,"\t#ifdef USE_ENVMAP",f.a.rp,f.a.Rp,f.a.uo,"\t#endif",f.a.oi,f.a.um,f.a.Sh,f.a.Me,f.a.Im,f.a.Fo,f.a.om,"}"].join("\n"),va:["uniform vec3 diffuse;\nuniform float opacity;",f.a.gb,f.a.uj,f.a.kp,f.a.Un,f.a.fp,f.a.Do,f.a.Kj,f.a.mm,f.a.Tp,f.a.Ke,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",
f.a.Je,f.a.jp,f.a.tj,f.a.Tn,f.a.fl,f.a.Sp,"\toutgoingLight = diffuseColor.rgb;",f.a.ep,f.a.Co,f.a.lm,f.a.ip,f.a.Jj,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},oE:{xa:f.Lf.Hb([f.ic.gb,f.ic.fa,f.ic.ji,f.ic.km,{Qb:{type:"c",value:new f.Z(0)},ie:{type:"v3",value:new f.g(1,1,1)}}]),ya:["#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif",f.a.gb,f.a.lp,f.a.gp,f.a.Eo,f.a.hy,f.a.vj,f.a.mi,f.a.rm,f.a.nm,f.a.Le,"void main() {",f.a.mp,
f.a.hp,f.a.wj,f.a.rp,f.a.qm,f.a.Rp,f.a.uo,f.a.oi,f.a.um,f.a.Sh,f.a.Me,f.a.Im,f.a.Fo,f.a.iy,f.a.om,"}"].join("\n"),va:["uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif",f.a.gb,f.a.uj,f.a.kp,f.a.Un,f.a.fp,f.a.Do,f.a.Kj,f.a.mm,f.a.Tp,f.a.Ke,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",f.a.Je,f.a.jp,f.a.tj,f.a.Tn,f.a.fl,f.a.Sp,"\t#ifdef DOUBLE_SIDED\n\t\tif ( gl_FrontFacing )\n\t\t\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;\n\t\telse\n\t\t\toutgoingLight += diffuseColor.rgb * vLightBack + emissive;\n\t#else\n\t\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;\n\t#endif",
f.a.ep,f.a.Co,f.a.lm,f.a.ip,f.a.Jj,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},nG:{xa:f.Lf.Hb([f.ic.gb,f.ic.Jw,f.ic.Py,f.ic.fa,f.ic.ji,f.ic.km,{Qb:{type:"c",value:new f.Z(0)},ae:{type:"c",value:new f.Z(1118481)},$d:{type:"f",value:30},ie:{type:"v3",value:new f.g(1,1,1)}}]),ya:["#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif",f.a.gb,f.a.lp,f.a.gp,f.a.Eo,f.a.ly,f.a.vj,f.a.mi,f.a.rm,f.a.nm,f.a.Le,"void main() {",f.a.mp,f.a.hp,
f.a.wj,f.a.rp,f.a.qm,f.a.Rp,f.a.uo,"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif",f.a.oi,f.a.um,f.a.Sh,f.a.Me,"\tvViewPosition = -mvPosition.xyz;",f.a.Im,f.a.Fo,f.a.my,f.a.om,"}"].join("\n"),va:["#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;",f.a.gb,f.a.uj,f.a.kp,f.a.Un,f.a.fp,f.a.Do,f.a.Kj,f.a.ky,f.a.mm,f.a.Kw,f.a.Qy,f.a.Tp,f.a.Ke,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",
f.a.Je,f.a.jp,f.a.tj,f.a.Tn,f.a.fl,f.a.Sp,f.a.jy,f.a.ep,f.a.Co,f.a.lm,f.a.ip,f.a.Jj,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},jG:{xa:f.Lf.Hb([f.ic.bz,f.ic.km]),ya:["uniform float size;\nuniform float scale;",f.a.gb,f.a.vj,f.a.nm,f.a.Le,"void main() {",f.a.wj,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\tgl_Position = projectionMatrix * mvPosition;",
f.a.Me,f.a.Im,f.a.om,"}"].join("\n"),va:["uniform vec3 psColor;\nuniform float opacity;",f.a.gb,f.a.uj,f.a.Ay,f.a.Kj,f.a.mm,f.a.Ke,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( psColor, opacity );",f.a.Je,f.a.zy,f.a.tj,f.a.fl,"\toutgoingLight = diffuseColor.rgb;",f.a.lm,f.a.Jj,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},CC:{xa:f.Lf.Hb([f.ic.gb,f.ic.fa,{scale:{type:"f",value:1},Qh:{type:"f",value:1},Zz:{type:"f",value:2}}]),ya:["uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",
f.a.gb,f.a.vj,f.a.Le,"void main() {",f.a.wj,"\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;",f.a.Me,"}"].join("\n"),va:["uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",f.a.gb,f.a.uj,f.a.Kj,f.a.Ke,"void main() {\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",
f.a.Je,f.a.tj,"\toutgoingLight = diffuseColor.rgb;",f.a.Jj,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},depth:{xa:{ry:{type:"f",value:1},qy:{type:"f",value:2E3},opacity:{type:"f",value:1}},ya:[f.a.gb,f.a.mi,f.a.Le,"void main() {",f.a.oi,f.a.Sh,f.a.Me,"}"].join("\n"),va:["uniform float mNear;\nuniform float mFar;\nuniform float opacity;",f.a.gb,f.a.Ke,"void main() {",f.a.Je,"\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\n\tgl_FragColor = vec4( vec3( color ), opacity );\n}"].join("\n")},
X:{xa:{opacity:{type:"f",value:1}},ya:["varying vec3 vNormal;",f.a.gb,f.a.mi,f.a.Le,"void main() {\n\tvNormal = normalize( normalMatrix * normal );",f.a.oi,f.a.Sh,f.a.Me,"}"].join("\n"),va:["uniform float opacity;\nvarying vec3 vNormal;",f.a.gb,f.a.Ke,"void main() {\n\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",f.a.Je,"}"].join("\n")},hC:{xa:{uH:{type:"t",value:null},Vz:{type:"f",value:-1}},ya:["varying vec3 vWorldPosition;",f.a.gb,f.a.Le,"void main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
f.a.Me,"}"].join("\n"),va:["uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",f.a.gb,f.a.Ke,"void main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",f.a.Je,"}"].join("\n")},rD:{xa:{vH:{type:"t",value:null},Vz:{type:"f",value:-1}},ya:["varying vec3 vWorldPosition;",f.a.gb,f.a.Le,"void main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
f.a.Me,"}"].join("\n"),va:["uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",f.a.gb,f.a.Ke,"void main() {\nvec3 direction = normalize( vWorldPosition );\nvec2 sampleUV;\nsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\nsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\ngl_FragColor = texture2D( tEquirect, sampleUV );",f.a.Je,"}"].join("\n")},gx:{xa:{},ya:[f.a.gb,f.a.mi,f.a.rm,f.a.Le,"void main() {",f.a.qm,f.a.oi,f.a.um,f.a.Sh,f.a.Me,
"}"].join("\n"),va:[f.a.gb,f.a.Ke,"vec4 pack_depth( const in float depth ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nvoid main() {",f.a.Je,"\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n\t#else\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n\t#endif\n}"].join("\n")}};
f.lB=function(a){function b(a){var b=a.sd.sd;if(void 0!==b){a.sd=void 0;var c,d,e=!1;a=0;for(c=Pa.length;a<c;a++)if(d=Pa[a],d.sd===b){d.cq--;0===d.cq&&(e=!0);break}if(!0===e){e=[];a=0;for(c=Pa.length;a<c;a++)d=Pa[a],d.sd!==b&&e.push(d);Pa=e;n.deleteProgram(b);K.info.memory.Bt--}}}function c(a){for(var b="__webglVertexBuffer __webglNormalBuffer __webglTangentBuffer __webglColorBuffer __webglUVBuffer __webglUV2Buffer __webglSkinIndicesBuffer __webglSkinWeightsBuffer __webglFaceBuffer __webglLineBuffer __webglLineDistanceBuffer".split(" "),
c=0,d=b.length;c<d;c++){var e=b[c];void 0!==a[e]&&(n.deleteBuffer(a[e]),delete a[e])}if(void 0!==a.Fc){for(e in a.Fc)n.deleteBuffer(a.Fc[e].buffer);delete a.Fc}K.info.memory.Fe--}function e(a){a=a.target;a.removeEventListener("dispose",e);b(a)}function g(a){a=a.target;a.removeEventListener("dispose",g);if(a&&void 0!==a.Gc){n.deleteTexture(a.Gc);delete a.Gc;if(a instanceof f.Mf)for(var b=0;6>b;b++)n.deleteFramebuffer(a.ve[b]),n.deleteRenderbuffer(a.we[b]);else n.deleteFramebuffer(a.ve),n.deleteRenderbuffer(a.we);
delete a.ve;delete a.we}K.info.memory.Ei--}function d(a){a=a.target;a.removeEventListener("dispose",d);a.ha&&a.ha.Jh?(n.deleteTexture(a.ha.Jh),delete a.ha.Jh):void 0!==a.ff&&(n.deleteTexture(a.Gc),delete a.Gc,delete a.ff);K.info.memory.Ei--}function h(a){a=a.target;a.removeEventListener("dispose",h);delete a.ff;if(a instanceof f.qb){for(var b in a.attributes){var d=a.attributes[b];void 0!==d.buffer&&(n.deleteBuffer(d.buffer),delete d.buffer)}K.info.memory.Fe--}else if(b=ob[a.id],void 0!==b){for(var d=
0,e=b.length;d<e;d++){var g=b[d];if(void 0!==g.ek){for(var k=0,l=g.ek;k<l;k++)n.deleteBuffer(g.Fg[k]);delete g.Fg}if(void 0!==g.dk){k=0;for(l=g.dk;k<l;k++)n.deleteBuffer(g.Ih[k]);delete g.Ih}c(g)}delete ob[a.id]}else c(a);lb=""}function k(a){He(a.target,function(a){a.removeEventListener("remove",k);if(a instanceof f.za||a instanceof f.Ec||a instanceof f.ia)delete Ra[a.id];else if(a instanceof f.Vi||a.Uo)for(var b=ga,c=b.length-1;0<=c;c--)b[c].object===a&&b.splice(c,1);delete a.ff;delete a.kf;delete a.Kn;
delete a.Vk})}function l(){cc=nc=null;lb="";zb=-1;ec=!0;ba.reset()}function m(){n.clearColor(0,0,0,1);n.clearDepth(1);n.clearStencil(0);n.enable(n.DEPTH_TEST);n.depthFunc(n.LEQUAL);n.frontFace(n.CCW);n.cullFace(n.BACK);n.enable(n.CULL_FACE);n.enable(n.BLEND);n.blendEquation(n.FUNC_ADD);n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA);n.viewport(ta,vb,Ya,Ma);var a=Na.r,b=Na.ka,c=Na.K;!0===Fa&&(a*=0,b*=0,c*=0);n.clearColor(a,b,c,0)}function q(a){var b=a.G;a=a.aa;var c=b.j.length;if(a.attributes){void 0===
b.Fc&&(b.Fc=[]);for(var d in a.attributes){var e=a.attributes[d];if(!e.En||e.bx){e.En=!0;var g=1;"v2"===e.type?g=2:"v3"===e.type?g=3:"v4"===e.type?g=4:"c"===e.type&&(g=3);e.size=g;e.l=new Float32Array(c*g);e.buffer=n.createBuffer();e.buffer.kl=d;e.V=!0}b.Fc.push(e)}}}function r(a,b){return a.aa instanceof f.Ag?a.aa.vb[b.Wc]:a.aa}function p(a,b,c,d){c=c.attributes;var e=b.attributes;b=b.il;for(var g=0,h=b.length;g<h;g++){var k=b[g],l=e[k];if(0<=l){var m=c[k];void 0!==m?(k=m.Ed,n.bindBuffer(n.ARRAY_BUFFER,
m.buffer),ba.Fb(l),n.vertexAttribPointer(l,k,n.FLOAT,!1,0,d*k*4)):void 0!==a.Sd&&(2===a.Sd[k].length?n.vertexAttrib2fv(l,a.Sd[k]):3===a.Sd[k].length&&n.vertexAttrib3fv(l,a.Sd[k]))}}ba.yo()}function u(a,b){return a.object.bg!==b.object.bg?a.object.bg-b.object.bg:a.aa.id!==b.aa.id?a.aa.id-b.aa.id:a.z!==b.z?a.z-b.z:a.id-b.id}function v(a,b){return a.object.bg!==b.object.bg?a.object.bg-b.object.bg:a.z!==b.z?b.z-a.z:a.id-b.id}function t(a,b){return b[0]-a[0]}function w(a){if(!1!==a.visible){if(!(a instanceof
f.Cg||a instanceof f.Qi)){void 0===a.ff&&(a.ff=!0,a.kf=new f.Ea,a.Kn=new f.pe,a.addEventListener("removed",k));var b=a.G;if(void 0!==b&&void 0===b.ff)if(b.ff=!0,b.addEventListener("dispose",h),b instanceof f.qb)K.info.memory.Fe++;else if(a instanceof f.za)B(a,b);else if(a instanceof f.ia){if(void 0===b.bd){b.bd=n.createBuffer();b.ef=n.createBuffer();b.dr=n.createBuffer();K.info.memory.Fe++;var c=b.j.length;b.Hh=new Float32Array(3*c);b.Gh=new Float32Array(3*c);b.Sv=new Float32Array(1*c);b.Fn=c;q(a);
b.Yb=!0;b.fd=!0;b.Ol=!0}}else a instanceof f.Ec&&void 0===b.bd&&(b.bd=n.createBuffer(),b.ef=n.createBuffer(),K.info.memory.Fe++,c=b.j.length,b.Hh=new Float32Array(3*c),b.Gh=new Float32Array(3*c),b.gr=c,q(a),b.Yb=!0,b.fd=!0);if(void 0===a.Vk)if(a.Vk=!0,a instanceof f.za)if(b instanceof f.qb)E(Ra,b,a);else{if(b instanceof f.N)for(var b=ob[b.id],c=0,d=b.length;c<d;c++)E(Ra,b[c],a)}else a instanceof f.ia||a instanceof f.Ec?E(Ra,b,a):(a instanceof f.Vi||a.Uo)&&ga.push({id:null,object:a,kt:null,Jb:null,
z:0});if(a instanceof f.ub)Ga.push(a);else if(a instanceof f.af)qb.push(a);else if(a instanceof f.Wi)$b.push(a);else if((b=Ra[a.id])&&(!1===a.Dl||!0===Gb.Ls(a)))for(c=0,d=b.length;c<d;c++){var e=b[c],g=e,l=g.object,m=g.buffer,p=l.G,l=l.aa;l instanceof f.Ag?(l=l.vb[p instanceof f.qb?0:m.Wc],g.aa=l,l.Jb?Za.push(g):ca.push(g)):l&&(g.aa=l,l.Jb?Za.push(g):ca.push(g));e.L=!0;!0===K.Zt&&(Ce(Ha,a.M),Be(Ha,Fb),e.z=Ha.z)}}c=0;for(d=a.children.length;c<d;c++)w(a.children[c])}}function z(a,b,c,d,e){for(var g,
h=0,k=a.length;h<k;h++){g=a[h];var l=g.object,m=g.buffer;Q(l,b);if(e)g=e;else{g=g.aa;if(!g)continue;y(g)}K.Kp(g);m instanceof f.qb?K.Et(b,c,d,g,m,l):K.Dt(b,c,d,g,m,l)}}function x(a,b,c,d,e,g){for(var h,k=0,l=a.length;k<l;k++){h=a[k];var m=h.object;if(m.visible){if(g)h=g;else{h=h[b];if(!h)continue;y(h)}K.Ft(c,d,e,h,m)}}}function D(a){var b=a.object.aa;b.Jb?(a.Jb=b,a.kt=null):(a.kt=b,a.Jb=null)}function B(a,b){var c=a.aa,d=!1;if(void 0===ob[b.id]||!0===b.Ro){delete Ra[a.id];for(var e=ob,g=b.id,c=c instanceof
f.Ag,h=Ea.get("OES_element_index_uint")?4294967296:65535,k,d={},l=b.$.length,m=b.Ub.length,p,q={},u=[],t=0,v=b.F.length;t<v;t++){k=b.F[t];var B=c?k.Wc:0;B in d||(d[B]={hash:B,sl:0});k=d[B].hash+"_"+d[B].sl;k in q||(p={id:Jb++,zl:[],Wc:B,j:0,ek:l,dk:m},q[k]=p,u.push(p));q[k].j+3>h&&(d[B].sl+=1,k=d[B].hash+"_"+d[B].sl,k in q||(p={id:Jb++,zl:[],Wc:B,j:0,ek:l,dk:m},q[k]=p,u.push(p)));q[k].zl.push(t);q[k].j+=3}e[g]=u;b.Ro=!1}e=ob[b.id];g=0;for(c=e.length;g<c;g++){h=e[g];if(void 0===h.bd){d=h;d.bd=n.createBuffer();
d.dj=n.createBuffer();d.mr=n.createBuffer();d.ef=n.createBuffer();d.or=n.createBuffer();d.nr=n.createBuffer();d.hr=n.createBuffer();d.jr=n.createBuffer();d.Zq=n.createBuffer();d.$q=n.createBuffer();if(m=d.ek)for(d.Fg=[],l=0;l<m;l++)d.Fg.push(n.createBuffer());if(m=d.dk)for(d.Ih=[],l=0;l<m;l++)d.Ih.push(n.createBuffer());K.info.memory.Fe++;d=h;t=a;v=t.G;m=d.zl;l=3*m.length;q=1*m.length;u=3*m.length;m=r(t,d);d.Hh=new Float32Array(3*l);d.Tq=new Float32Array(3*l);d.Gh=new Float32Array(3*l);d.Yq=new Float32Array(2*
l);1<v.Y.length&&(d.Xq=new Float32Array(2*l));v.So&&(d.Wq=new Float32Array(4*l));t.G.Id.length&&t.G.td.length&&(d.Uq=new Float32Array(4*l),d.Vq=new Float32Array(4*l));t=null!==Ea.get("OES_element_index_uint")&&21845<q?Uint32Array:Uint16Array;d.Uv=t;d.Oq=new t(3*q);d.Qq=new t(2*u);if(v=d.ek)for(d.Sq=[],t=0;t<v;t++)d.Sq.push(new Float32Array(3*l));if(v=d.dk)for(d.Rq=[],t=0;t<v;t++)d.Rq.push(new Float32Array(3*l));d.Dn=3*q;d.Fn=2*u;if(m.attributes)for(q in void 0===d.Fc&&(d.Fc=[]),q=void 0,m.attributes){var u=
m.attributes[q],t={},y;for(y in u)t[y]=u[y];if(!t.En||t.bx)t.En=!0,v=1,"v2"===t.type?v=2:"v3"===t.type?v=3:"v4"===t.type?v=4:"c"===t.type&&(v=3),t.size=v,t.l=new Float32Array(l*v),t.buffer=n.createBuffer(),t.buffer.kl=q,u.V=!0,t.Tv=u;d.Fc.push(t)}d.Pq=!0;b.Yb=!0;b.qp=!0;b.yl=!0;b.Gm=!0;b.ck=!0;b.Am=!0;d=b.fd=!0}else d=!1;(d||void 0===a.Vk)&&E(Ra,h,a)}a.Vk=!0}function E(a,b,c){var d=c.id;a[d]=a[d]||[];a[d].push({id:d,buffer:b,object:c,aa:null,z:0})}function A(a){var b=a.G;if(b instanceof f.qb)for(var c=
b.attributes,d=b.il,e=0,g=d.length;e<g;e++){var h=d[e],k=c[h],l="index"===h?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;void 0===k.buffer?(k.buffer=n.createBuffer(),n.bindBuffer(l,k.buffer),n.bufferData(l,k.l,k instanceof f.wh?n.DYNAMIC_DRAW:n.STATIC_DRAW),k.V=!1):!0===k.V&&(n.bindBuffer(l,k.buffer),void 0===k.fg||-1===k.fg.count?n.bufferSubData(l,0,k.l):0===k.fg.count?console.error("THREE.WebGLRenderer.updateObject: using updateRange for THREE.DynamicBufferAttribute and marked as needsUpdate but count is 0, ensure you are using set methods or updating manually."):
(n.bufferSubData(l,k.fg.offset*k.l.BYTES_PER_ELEMENT,k.l.subarray(k.fg.offset,k.fg.offset+k.fg.count)),k.fg.count=0),k.V=!1)}else if(a instanceof f.za){!0===b.Ro&&B(a,b);for(var m=ob[b.id],e=0,p=m.length;e<p;e++){var q=m[e],t=r(a,q),u=t.attributes&&F(t);if(b.Yb||b.qp||b.yl||b.Gm||b.ck||b.fd||b.Am||u){var v=q,y=a,z=n.DYNAMIC_DRAW,C=!b.kx,w=t;if(v.Pq){var A=!1===w instanceof f.Cc&&w.ib===f.en,x=void 0,D=void 0,I=void 0,E=void 0,Q=void 0,L=void 0,V=void 0,S=void 0,T=void 0,K=void 0,R=void 0,N=void 0,
M=void 0,J=void 0,Fa=void 0,da=void 0,ca=void 0,ga=void 0,aa=void 0,ba=void 0,fa=void 0,Na=void 0,ib=void 0,la=void 0,va=void 0,U=void 0,qa=void 0,P=void 0,ja=void 0,Y=void 0,Kb=void 0,Ga=void 0,Ra=void 0,Za=void 0,ia=void 0,Ea=void 0,ua=void 0,pa=void 0,Da=void 0,Ha=void 0,ra=0,ta=0,Ia=0,qb=0,Ma=0,wb=0,$a=0,Pa=0,kb=0,Ca=0,La=0,O=0,Xa=void 0,xb=v.Hh,Ja=v.Yq,zb=v.Xq,sb=v.Tq,Ka=v.Wq,db=v.Gh,eb=v.Uq,bb=v.Vq,lb=v.Sq,Ya=v.Rq,ac=v.Fc,H=void 0,Cb=v.Oq,yb=v.Qq,sa=y.G,Qb=sa.yl,vb=sa.Gm,cc=sa.ck,ec=sa.Am,nc=
sa.fd,mc=sa.qp,xc=sa.j,ka=v.zl,Sa=sa.F,dc=sa.Y[0],rb=sa.Y[1],Lb=sa.td,cb=sa.Id,bc=sa.$,Fb=sa.Ub;if(sa.Yb){x=0;for(D=ka.length;x<D;x++)E=Sa[ka[x]],N=xc[E.Ja],M=xc[E.K],J=xc[E.La],xb[ta]=N.x,xb[ta+1]=N.y,xb[ta+2]=N.z,xb[ta+3]=M.x,xb[ta+4]=M.y,xb[ta+5]=M.z,xb[ta+6]=J.x,xb[ta+7]=J.y,xb[ta+8]=J.z,ta+=9;n.bindBuffer(n.ARRAY_BUFFER,v.bd);n.bufferData(n.ARRAY_BUFFER,xb,z)}if(mc)for(ia=0,Ea=bc.length;ia<Ea;ia++){x=La=0;for(D=ka.length;x<D;x++)Da=ka[x],E=Sa[Da],N=bc[ia].j[E.Ja],M=bc[ia].j[E.K],J=bc[ia].j[E.La],
ua=lb[ia],ua[La]=N.x,ua[La+1]=N.y,ua[La+2]=N.z,ua[La+3]=M.x,ua[La+4]=M.y,ua[La+5]=M.z,ua[La+6]=J.x,ua[La+7]=J.y,ua[La+8]=J.z,w.Ub&&(A?ba=aa=ga=Fb[ia].vD[Da]:(Ha=Fb[ia].jb[Da],ga=Ha.Ja,aa=Ha.K,ba=Ha.La),pa=Ya[ia],pa[La]=ga.x,pa[La+1]=ga.y,pa[La+2]=ga.z,pa[La+3]=aa.x,pa[La+4]=aa.y,pa[La+5]=aa.z,pa[La+6]=ba.x,pa[La+7]=ba.y,pa[La+8]=ba.z),La+=9;n.bindBuffer(n.ARRAY_BUFFER,v.Fg[ia]);n.bufferData(n.ARRAY_BUFFER,lb[ia],z);w.Ub&&(n.bindBuffer(n.ARRAY_BUFFER,v.Ih[ia]),n.bufferData(n.ARRAY_BUFFER,Ya[ia],z))}if(cb.length){x=
0;for(D=ka.length;x<D;x++)E=Sa[ka[x]],la=cb[E.Ja],va=cb[E.K],U=cb[E.La],bb[Ca]=la.x,bb[Ca+1]=la.y,bb[Ca+2]=la.z,bb[Ca+3]=la.H,bb[Ca+4]=va.x,bb[Ca+5]=va.y,bb[Ca+6]=va.z,bb[Ca+7]=va.H,bb[Ca+8]=U.x,bb[Ca+9]=U.y,bb[Ca+10]=U.z,bb[Ca+11]=U.H,qa=Lb[E.Ja],P=Lb[E.K],ja=Lb[E.La],eb[Ca]=qa.x,eb[Ca+1]=qa.y,eb[Ca+2]=qa.z,eb[Ca+3]=qa.H,eb[Ca+4]=P.x,eb[Ca+5]=P.y,eb[Ca+6]=P.z,eb[Ca+7]=P.H,eb[Ca+8]=ja.x,eb[Ca+9]=ja.y,eb[Ca+10]=ja.z,eb[Ca+11]=ja.H,Ca+=12;0<Ca&&(n.bindBuffer(n.ARRAY_BUFFER,v.hr),n.bufferData(n.ARRAY_BUFFER,
eb,z),n.bindBuffer(n.ARRAY_BUFFER,v.jr),n.bufferData(n.ARRAY_BUFFER,bb,z))}if(nc){x=0;for(D=ka.length;x<D;x++)E=Sa[ka[x]],V=E.O,S=E.color,3===V.length&&w.O===f.Fh?(fa=V[0],Na=V[1],ib=V[2]):ib=Na=fa=S,db[kb]=fa.r,db[kb+1]=fa.ka,db[kb+2]=fa.K,db[kb+3]=Na.r,db[kb+4]=Na.ka,db[kb+5]=Na.K,db[kb+6]=ib.r,db[kb+7]=ib.ka,db[kb+8]=ib.K,kb+=9;0<kb&&(n.bindBuffer(n.ARRAY_BUFFER,v.ef),n.bufferData(n.ARRAY_BUFFER,db,z))}if(ec&&sa.So){x=0;for(D=ka.length;x<D;x++)E=Sa[ka[x]],T=E.jg,Fa=T[0],da=T[1],ca=T[2],Ka[$a]=
Fa.x,Ka[$a+1]=Fa.y,Ka[$a+2]=Fa.z,Ka[$a+3]=Fa.H,Ka[$a+4]=da.x,Ka[$a+5]=da.y,Ka[$a+6]=da.z,Ka[$a+7]=da.H,Ka[$a+8]=ca.x,Ka[$a+9]=ca.y,Ka[$a+10]=ca.z,Ka[$a+11]=ca.H,$a+=12;n.bindBuffer(n.ARRAY_BUFFER,v.mr);n.bufferData(n.ARRAY_BUFFER,Ka,z)}if(cc){x=0;for(D=ka.length;x<D;x++)if(E=Sa[ka[x]],Q=E.jb,L=E.X,3===Q.length&&!1===A)for(Y=0;3>Y;Y++)Ga=Q[Y],sb[wb]=Ga.x,sb[wb+1]=Ga.y,sb[wb+2]=Ga.z,wb+=3;else for(Y=0;3>Y;Y++)sb[wb]=L.x,sb[wb+1]=L.y,sb[wb+2]=L.z,wb+=3;n.bindBuffer(n.ARRAY_BUFFER,v.dj);n.bufferData(n.ARRAY_BUFFER,
sb,z)}if(vb&&dc){x=0;for(D=ka.length;x<D;x++)if(I=ka[x],K=dc[I],void 0!==K)for(Y=0;3>Y;Y++)Ra=K[Y],Ja[Ia]=Ra.x,Ja[Ia+1]=Ra.y,Ia+=2;0<Ia&&(n.bindBuffer(n.ARRAY_BUFFER,v.or),n.bufferData(n.ARRAY_BUFFER,Ja,z))}if(vb&&rb){x=0;for(D=ka.length;x<D;x++)if(I=ka[x],R=rb[I],void 0!==R)for(Y=0;3>Y;Y++)Za=R[Y],zb[qb]=Za.x,zb[qb+1]=Za.y,qb+=2;0<qb&&(n.bindBuffer(n.ARRAY_BUFFER,v.nr),n.bufferData(n.ARRAY_BUFFER,zb,z))}if(Qb){x=0;for(D=ka.length;x<D;x++)Cb[Ma]=ra,Cb[Ma+1]=ra+1,Cb[Ma+2]=ra+2,Ma+=3,yb[Pa]=ra,yb[Pa+
1]=ra+1,yb[Pa+2]=ra,yb[Pa+3]=ra+2,yb[Pa+4]=ra+1,yb[Pa+5]=ra+2,Pa+=6,ra+=3;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,v.Zq);n.bufferData(n.ELEMENT_ARRAY_BUFFER,Cb,z);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,v.$q);n.bufferData(n.ELEMENT_ARRAY_BUFFER,yb,z)}if(ac)for(Y=0,Kb=ac.length;Y<Kb;Y++)if(H=ac[Y],H.Tv.V){O=0;if(1===H.size)if(void 0===H.kc||"vertices"===H.kc)for(x=0,D=ka.length;x<D;x++)E=Sa[ka[x]],H.l[O]=H.value[E.Ja],H.l[O+1]=H.value[E.K],H.l[O+2]=H.value[E.La],O+=3;else{if("faces"===H.kc)for(x=0,D=ka.length;x<
D;x++)Xa=H.value[ka[x]],H.l[O]=Xa,H.l[O+1]=Xa,H.l[O+2]=Xa,O+=3}else if(2===H.size)if(void 0===H.kc||"vertices"===H.kc)for(x=0,D=ka.length;x<D;x++)E=Sa[ka[x]],N=H.value[E.Ja],M=H.value[E.K],J=H.value[E.La],H.l[O]=N.x,H.l[O+1]=N.y,H.l[O+2]=M.x,H.l[O+3]=M.y,H.l[O+4]=J.x,H.l[O+5]=J.y,O+=6;else{if("faces"===H.kc)for(x=0,D=ka.length;x<D;x++)J=M=N=Xa=H.value[ka[x]],H.l[O]=N.x,H.l[O+1]=N.y,H.l[O+2]=M.x,H.l[O+3]=M.y,H.l[O+4]=J.x,H.l[O+5]=J.y,O+=6}else if(3===H.size){var W;W="c"===H.type?["r","g","b"]:["x",
"y","z"];if(void 0===H.kc||"vertices"===H.kc)for(x=0,D=ka.length;x<D;x++)E=Sa[ka[x]],N=H.value[E.Ja],M=H.value[E.K],J=H.value[E.La],H.l[O]=N[W[0]],H.l[O+1]=N[W[1]],H.l[O+2]=N[W[2]],H.l[O+3]=M[W[0]],H.l[O+4]=M[W[1]],H.l[O+5]=M[W[2]],H.l[O+6]=J[W[0]],H.l[O+7]=J[W[1]],H.l[O+8]=J[W[2]],O+=9;else if("faces"===H.kc)for(x=0,D=ka.length;x<D;x++)J=M=N=Xa=H.value[ka[x]],H.l[O]=N[W[0]],H.l[O+1]=N[W[1]],H.l[O+2]=N[W[2]],H.l[O+3]=M[W[0]],H.l[O+4]=M[W[1]],H.l[O+5]=M[W[2]],H.l[O+6]=J[W[0]],H.l[O+7]=J[W[1]],H.l[O+
8]=J[W[2]],O+=9;else if("faceVertices"===H.kc)for(x=0,D=ka.length;x<D;x++)Xa=H.value[ka[x]],N=Xa[0],M=Xa[1],J=Xa[2],H.l[O]=N[W[0]],H.l[O+1]=N[W[1]],H.l[O+2]=N[W[2]],H.l[O+3]=M[W[0]],H.l[O+4]=M[W[1]],H.l[O+5]=M[W[2]],H.l[O+6]=J[W[0]],H.l[O+7]=J[W[1]],H.l[O+8]=J[W[2]],O+=9}else if(4===H.size)if(void 0===H.kc||"vertices"===H.kc)for(x=0,D=ka.length;x<D;x++)E=Sa[ka[x]],N=H.value[E.Ja],M=H.value[E.K],J=H.value[E.La],H.l[O]=N.x,H.l[O+1]=N.y,H.l[O+2]=N.z,H.l[O+3]=N.H,H.l[O+4]=M.x,H.l[O+5]=M.y,H.l[O+6]=M.z,
H.l[O+7]=M.H,H.l[O+8]=J.x,H.l[O+9]=J.y,H.l[O+10]=J.z,H.l[O+11]=J.H,O+=12;else if("faces"===H.kc)for(x=0,D=ka.length;x<D;x++)J=M=N=Xa=H.value[ka[x]],H.l[O]=N.x,H.l[O+1]=N.y,H.l[O+2]=N.z,H.l[O+3]=N.H,H.l[O+4]=M.x,H.l[O+5]=M.y,H.l[O+6]=M.z,H.l[O+7]=M.H,H.l[O+8]=J.x,H.l[O+9]=J.y,H.l[O+10]=J.z,H.l[O+11]=J.H,O+=12;else if("faceVertices"===H.kc)for(x=0,D=ka.length;x<D;x++)Xa=H.value[ka[x]],N=Xa[0],M=Xa[1],J=Xa[2],H.l[O]=N.x,H.l[O+1]=N.y,H.l[O+2]=N.z,H.l[O+3]=N.H,H.l[O+4]=M.x,H.l[O+5]=M.y,H.l[O+6]=M.z,H.l[O+
7]=M.H,H.l[O+8]=J.x,H.l[O+9]=J.y,H.l[O+10]=J.z,H.l[O+11]=J.H,O+=12;n.bindBuffer(n.ARRAY_BUFFER,H.buffer);n.bufferData(n.ARRAY_BUFFER,H.l,z)}C&&(delete v.Pq,delete v.Gh,delete v.Tq,delete v.Wq,delete v.Yq,delete v.Xq,delete v.Oq,delete v.Hh,delete v.Qq,delete v.Uq,delete v.Vq)}}}b.Yb=!1;b.qp=!1;b.yl=!1;b.Gm=!1;b.ck=!1;b.fd=!1;b.Am=!1;t.attributes&&G(t)}else if(a instanceof f.ia){t=r(a,b);u=t.attributes&&F(t);if(b.Yb||b.fd||b.Ol||u){var yc=n.DYNAMIC_DRAW,X,ma,ha,ab,ea,zc,Gb=b.j,Jc=b.ja,Rb=b.ny,Ta=Gb.length,
Jb=Jc.length,$b=Rb.length,Db=b.Hh,lc=b.Gh,Sb=b.Sv,fc=b.fd,wc=b.Ol,gc=b.Fc,Hc,oc,Oa,Ic,jb,xa;if(b.Yb){for(X=0;X<Ta;X++)ab=Gb[X],ea=3*X,Db[ea]=ab.x,Db[ea+1]=ab.y,Db[ea+2]=ab.z;n.bindBuffer(n.ARRAY_BUFFER,b.bd);n.bufferData(n.ARRAY_BUFFER,Db,yc)}if(fc){for(ma=0;ma<Jb;ma++)zc=Jc[ma],ea=3*ma,lc[ea]=zc.r,lc[ea+1]=zc.ka,lc[ea+2]=zc.K;n.bindBuffer(n.ARRAY_BUFFER,b.ef);n.bufferData(n.ARRAY_BUFFER,lc,yc)}if(wc){for(ha=0;ha<$b;ha++)Sb[ha]=Rb[ha];n.bindBuffer(n.ARRAY_BUFFER,b.dr);n.bufferData(n.ARRAY_BUFFER,
Sb,yc)}if(gc)for(Hc=0,oc=gc.length;Hc<oc;Hc++)if(xa=gc[Hc],xa.V&&(void 0===xa.kc||"vertices"===xa.kc)){ea=0;Ic=xa.value.length;if(1===xa.size)for(Oa=0;Oa<Ic;Oa++)xa.l[Oa]=xa.value[Oa];else if(2===xa.size)for(Oa=0;Oa<Ic;Oa++)jb=xa.value[Oa],xa.l[ea]=jb.x,xa.l[ea+1]=jb.y,ea+=2;else if(3===xa.size)if("c"===xa.type)for(Oa=0;Oa<Ic;Oa++)jb=xa.value[Oa],xa.l[ea]=jb.r,xa.l[ea+1]=jb.ka,xa.l[ea+2]=jb.K,ea+=3;else for(Oa=0;Oa<Ic;Oa++)jb=xa.value[Oa],xa.l[ea]=jb.x,xa.l[ea+1]=jb.y,xa.l[ea+2]=jb.z,ea+=3;else if(4===
xa.size)for(Oa=0;Oa<Ic;Oa++)jb=xa.value[Oa],xa.l[ea]=jb.x,xa.l[ea+1]=jb.y,xa.l[ea+2]=jb.z,xa.l[ea+3]=jb.H,ea+=4;n.bindBuffer(n.ARRAY_BUFFER,xa.buffer);n.bufferData(n.ARRAY_BUFFER,xa.l,yc);xa.V=!1}}b.Yb=!1;b.fd=!1;b.Ol=!1;t.attributes&&G(t)}else if(a instanceof f.Ec){t=r(a,b);u=t.attributes&&F(t);if(b.Yb||b.fd||u){var hc=n.DYNAMIC_DRAW,Pc,Qc,Bb,Ba,Yb,Ac=b.j,Tb=Ac.length,kc=b.ja,Rc=kc.length,gd=b.Hh,hd=b.Gh,Mb=b.fd,Od=b.Fc,qd,Re,Qa,Nc,nb,ya;if(b.Yb){for(Pc=0;Pc<Tb;Pc++)Bb=Ac[Pc],Ba=3*Pc,gd[Ba]=Bb.x,
gd[Ba+1]=Bb.y,gd[Ba+2]=Bb.z;n.bindBuffer(n.ARRAY_BUFFER,b.bd);n.bufferData(n.ARRAY_BUFFER,gd,hc)}if(Mb){for(Qc=0;Qc<Rc;Qc++)Yb=kc[Qc],Ba=3*Qc,hd[Ba]=Yb.r,hd[Ba+1]=Yb.ka,hd[Ba+2]=Yb.K;n.bindBuffer(n.ARRAY_BUFFER,b.ef);n.bufferData(n.ARRAY_BUFFER,hd,hc)}if(Od)for(qd=0,Re=Od.length;qd<Re;qd++){ya=Od[qd];if(ya.V&&(void 0===ya.kc||"vertices"===ya.kc))if(Nc=ya.value.length,Ba=0,1===ya.size)for(Qa=0;Qa<Nc;Qa++)ya.l[Qa]=ya.value[Qa];else if(2===ya.size)for(Qa=0;Qa<Nc;Qa++)nb=ya.value[Qa],ya.l[Ba]=nb.x,ya.l[Ba+
1]=nb.y,Ba+=2;else if(3===ya.size)if("c"===ya.type)for(Qa=0;Qa<Nc;Qa++)nb=ya.value[Qa],ya.l[Ba]=nb.r,ya.l[Ba+1]=nb.ka,ya.l[Ba+2]=nb.K,Ba+=3;else for(Qa=0;Qa<Nc;Qa++)nb=ya.value[Qa],ya.l[Ba]=nb.x,ya.l[Ba+1]=nb.y,ya.l[Ba+2]=nb.z,Ba+=3;else if(4===ya.size)for(Qa=0;Qa<Nc;Qa++)nb=ya.value[Qa],ya.l[Ba]=nb.x,ya.l[Ba+1]=nb.y,ya.l[Ba+2]=nb.z,ya.l[Ba+3]=nb.H,Ba+=4;n.bindBuffer(n.ARRAY_BUFFER,ya.buffer);n.bufferData(n.ARRAY_BUFFER,ya.l,hc);ya.V=!1}}b.Yb=!1;b.fd=!1;t.attributes&&G(t)}}function F(a){for(var b in a.attributes)if(a.attributes[b].V)return!0;
return!1}function G(a){for(var b in a.attributes)a.attributes[b].V=!1}function y(a){!0===a.Jb?ba.lk(a.Ba,a.blendEquation,a.mj,a.lj,a.fo,a.io,a.eo):ba.lk(f.nn);ba.$l(a.pf);ba.Ip(a.qf);ba.Lt(a.Yw);ba.Jz(a.polygonOffset,a.yp,a.zp)}function C(a,c,g,h,k){var l,m,p,q;dc=0;if(h.V){h.sd&&b(h);h.addEventListener("dispose",e);var r=Yb[h.type];if(r){var t=f.Kq[r];h.Gg={xa:f.Lf.clone(t.xa),ya:t.ya,va:t.va}}else h.Gg={xa:h.xa,ya:h.ya,va:h.va};for(var u=0,v=0,B=0,x=0,y=0,z=c.length;y<z;y++){var w=c[y];w.Xf||!1===
w.visible||(w instanceof f.Rc&&u++,w instanceof f.Ze&&v++,w instanceof f.zd&&B++,w instanceof f.We&&x++)}l=u;m=v;p=B;q=x;for(var C,A=0,D=0,E=c.length;D<E;D++){var G=c[D];G.Vc&&(G instanceof f.zd&&A++,G instanceof f.Rc&&!G.tk&&A++)}C=A;var F;if(oc&&k&&k.dc&&k.dc.Ef)F=1024;else{var Q=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),N=Math.floor((Q-20)/4);void 0!==k&&k instanceof f.Nd&&(N=Math.min(k.dc.Ka.length,N),N<k.dc.Ka.length&&f.warn("WebGLRenderer: too many bones - "+k.dc.Ka.length+", this GPU supports just "+
N+" (try OpenGL instead of ANGLE)"));F=N}var M={precision:ua,ou:gc,map:!!h.map,Ua:!!h.Ua,qD:h.Ua&&h.Ua.Xj,Sb:!!h.Sb,lc:!!h.lc,oc:!!h.oc,Mb:!!h.Mb,Kb:!!h.Kb,Pd:h.Pd,O:h.O,fa:g,Eu:h.fa,wx:g instanceof f.Ni,Jo:h.ib===f.en,Pe:h.Pe,Vj:ib,Lb:h.Lb,Cy:F,Ef:oc&&k&&k.dc&&k.dc.Ef,$:h.$,Ub:h.Ub,Yj:K.Yj,Pl:K.Pl,Zs:l,bt:m,dt:p,$s:q,ct:C,kh:K.kh&&k.Vl&&0<C,vk:K.vk,jm:K.jm,im:K.im,Kg:h.Kg,Zj:h.Zj,ee:h.ee,Ao:h.cb===f.an,Ko:h.cb===f.Tm},J=[];r?J.push(r):(J.push(h.va),J.push(h.ya));if(void 0!==h.Th)for(var Fa in h.Th)J.push(Fa),
J.push(h.Th[Fa]);for(Fa in M)J.push(Fa),J.push(M[Fa]);for(var da=J.join(),ca,ga=0,aa=Pa.length;ga<aa;ga++){var ba=Pa[ga];if(ba.code===da){ca=ba;ca.cq++;break}}void 0===ca&&(ca=new f.WebGLProgram(K,da,h,M),Pa.push(ca),K.info.memory.Bt=Pa.length);h.sd=ca;var fa=ca.attributes;if(h.$){h.fk=0;for(var Na,ia="morphTarget",Ga=0;Ga<K.Yj;Ga++)Na=ia+Ga,0<=fa[Na]&&h.fk++}if(h.Ub)for(h.gt=0,ia="morphNormal",Ga=0;Ga<K.Pl;Ga++)Na=ia+Ga,0<=fa[Na]&&h.gt++;h.Au=[];for(var pa in h.Gg.xa){var Kb=h.sd.xa[pa];Kb&&h.Au.push([h.Gg.xa[pa],
Kb])}h.V=!1}h.$&&!k.cj&&(k.cj=new Float32Array(K.Yj));var Ra=!1,ra=!1,ta=!1,Za=h.sd,va=Za.xa,U=h.Gg.xa;Za.id!==nc&&(n.useProgram(Za.sd),nc=Za.id,ta=ra=Ra=!0);h.id!==zb&&(-1===zb&&(ta=!0),zb=h.id,ra=!0);if(Ra||a!==cc)n.uniformMatrix4fv(va.Wb,!1,a.Wb.elements),ib&&n.uniform1f(va.QE,2/(Math.log(a.Gb+1)/Math.LN2)),a!==cc&&(cc=a),(h instanceof f.hc||h instanceof f.Cc||h.Ua)&&null!==va.Nw&&(Ce(Ha,a.M),n.uniform3f(va.Nw,Ha.x,Ha.y,Ha.z)),(h instanceof f.Cc||h instanceof f.yd||h instanceof f.Bc||h instanceof
f.hc||h.Lb)&&null!==va.jA&&n.uniformMatrix4fv(va.jA,!1,a.Xc.elements);if(h.Lb)if(k.Oh&&null!==va.Oh&&n.uniformMatrix4fv(va.Oh,!1,k.Oh.elements),k.Og&&null!==va.Og&&n.uniformMatrix4fv(va.Og,!1,k.Og.elements),oc&&k.dc&&k.dc.Ef){if(null!==va.Rf){var Ea=V();n.uniform1i(va.Rf,Ea);K.Ci(k.dc.Rf,Ea)}null!==va.qj&&n.uniform1i(va.qj,k.dc.qj);null!==va.pj&&n.uniform1i(va.pj,k.dc.pj)}else k.dc&&k.dc.oj&&null!==va.Hw&&n.uniformMatrix4fv(va.Hw,!1,k.dc.oj);if(ra){g&&h.fa&&(U.ns.value=g.color,g instanceof f.Hk?(U.rs.value=
g.Ib,U.qs.value=g.Gb):g instanceof f.Ni&&(U.ps.value=g.wo));if(h instanceof f.Cc||h instanceof f.yd||h.ji){if(ec){var ta=!0,P,ja,Y,Ia=0,qb=0,Ma=0,Ja,lb,ob,Ya,vb,Da=Ac,Bb=Da.Ej.ja,Fb=Da.Ej.Wd,Gb=Da.yf.ja,Jb=Da.yf.Wd,$b=Da.yf.Gj,fc=Da.yf.Dj,wb=Da.Mc.ja,$a=Da.Mc.Wd,kc=Da.Mc.Gj,kb=Da.Mc.fs,Ca=Da.Mc.Nr,La=Da.Mc.ks,O=Da.Mc.Dj,Xa=Da.Wg.Yt,xb=Da.Wg.Es,Tb=Da.Wg.Wd,Mb=0,sb=0,Ka=0,db=0,eb=0,bb=0,td=0,fd=0,ac=0,H=0,Cb=0,yb=0;P=0;for(ja=c.length;P<ja;P++)Y=c[P],Y.Xf||(Ja=Y.color,Ya=Y.Ma,vb=Y.lb,Y instanceof f.Ff?
Y.visible&&(Ia+=Ja.r,qb+=Ja.ka,Ma+=Ja.K):Y instanceof f.Rc?(eb+=1,Y.visible&&(Ce(qa,Y.M),Ce(Ha,Y.target.M),qa.sub(Ha),qa.normalize(),ac=3*Mb,Fb[ac]=qa.x,Fb[ac+1]=qa.y,Fb[ac+2]=qa.z,L(Bb,ac,Ja,Ya),Mb+=1)):Y instanceof f.Ze?(bb+=1,Y.visible&&(H=3*sb,L(Gb,H,Ja,Ya),Ce(Ha,Y.M),Jb[H]=Ha.x,Jb[H+1]=Ha.y,Jb[H+2]=Ha.z,$b[sb]=vb,fc[sb]=0===Y.lb?0:Y.hd,sb+=1)):Y instanceof f.zd?(td+=1,Y.visible&&(Cb=3*Ka,L(wb,Cb,Ja,Ya),Ce(qa,Y.M),$a[Cb]=qa.x,$a[Cb+1]=qa.y,$a[Cb+2]=qa.z,kc[Ka]=vb,Ce(Ha,Y.target.M),qa.sub(Ha),
qa.normalize(),kb[Cb]=qa.x,kb[Cb+1]=qa.y,kb[Cb+2]=qa.z,Ca[Ka]=Math.cos(Y.Lg),La[Ka]=Y.$h,O[Ka]=0===Y.lb?0:Y.hd,Ka+=1)):Y instanceof f.We&&(fd+=1,Y.visible&&(Ce(qa,Y.M),qa.normalize(),yb=3*db,Tb[yb]=qa.x,Tb[yb+1]=qa.y,Tb[yb+2]=qa.z,lb=Y.color,ob=Y.Vg,L(Xa,yb,lb,Ya),L(xb,yb,ob,Ya),db+=1)));P=3*Mb;for(ja=Math.max(Bb.length,3*eb);P<ja;P++)Bb[P]=0;P=3*sb;for(ja=Math.max(Gb.length,3*bb);P<ja;P++)Gb[P]=0;P=3*Ka;for(ja=Math.max(wb.length,3*td);P<ja;P++)wb[P]=0;P=3*db;for(ja=Math.max(Xa.length,3*fd);P<ja;P++)Xa[P]=
0;P=3*db;for(ja=Math.max(xb.length,3*fd);P<ja;P++)xb[P]=0;Da.Ej.length=Mb;Da.yf.length=sb;Da.Mc.length=Ka;Da.Wg.length=db;Da.gl[0]=Ia;Da.gl[1]=qb;Da.gl[2]=Ma;ec=!1}if(ta){var sa=Ac;U.Lr.value=sa.gl;U.$r.value=sa.Ej.ja;U.bs.value=sa.Ej.Wd;U.ut.value=sa.yf.ja;U.xt.value=sa.yf.Wd;U.wt.value=sa.yf.Gj;U.vt.value=sa.yf.Dj;U.du.value=sa.Mc.ja;U.ju.value=sa.Mc.Wd;U.hu.value=sa.Mc.Gj;U.gu.value=sa.Mc.fs;U.bu.value=sa.Mc.Nr;U.iu.value=sa.Mc.ks;U.fu.value=sa.Mc.Dj;U.Is.value=sa.Wg.Yt;U.Hs.value=sa.Wg.Es;U.Gs.value=
sa.Wg.Wd;I(U,!0)}else I(U,!1)}if(h instanceof f.Bc||h instanceof f.yd||h instanceof f.Cc){U.opacity.value=h.opacity;U.xo.value=h.color;U.map.value=h.map;U.Sb.value=h.Sb;U.Mb.value=h.Mb;U.Kb.value=h.Kb;h.lc&&(U.lc.value=h.lc,U.Ae.value=h.Ae);h.oc&&(U.oc.value=h.oc,U.Ne.value.A(h.Ne));var Qb;h.map?Qb=h.map:h.Mb?Qb=h.Mb:h.oc?Qb=h.oc:h.lc?Qb=h.lc:h.Kb&&(Qb=h.Kb);if(void 0!==Qb){var $d=Qb.offset,Yd=Qb.repeat;U.sp.value.set($d.x,$d.y,Yd.x,Yd.y)}U.Ua.value=h.Ua;U.ux.value=h.Ua instanceof f.Mf?1:-1;U.Yd.value=
h.Yd;U.Zd.value=h.Zd}if(h instanceof f.zb)U.xo.value=h.color,U.opacity.value=h.opacity;else if(h instanceof f.zg)U.xo.value=h.color,U.opacity.value=h.opacity,U.Qh.value=h.Qh,U.Zz.value=h.Qh+h.Mo,U.scale.value=h.scale;else if(h instanceof f.Md){if(U.jz.value=h.color,U.opacity.value=h.opacity,U.size.value=h.size,U.scale.value=la.height/2,U.map.value=h.map,null!==h.map){var be=h.map.offset,ae=h.map.repeat;U.sp.value.set(be.x,be.y,ae.x,ae.y)}}else h instanceof f.Cc?(U.$d.value=h.$d,U.Qb.value=h.Qb,U.ae.value=
h.ae,h.ee&&U.ie.value.A(h.ie)):h instanceof f.yd?(U.Qb.value=h.Qb,h.ee&&U.ie.value.A(h.ie)):h instanceof f.Hf?(U.ry.value=a.Ib,U.qy.value=a.Gb,U.opacity.value=h.opacity):h instanceof f.qe&&(U.opacity.value=h.opacity);if(k.Vl&&!h.$k&&U.lh)for(var mc=0,xc=0,ka=c.length;xc<ka;xc++){var Sa=c[xc];Sa.Vc&&(Sa instanceof f.zd||Sa instanceof f.Rc&&!Sa.tk)&&(U.jh.value[mc]=Sa.jh,U.uk.value[mc]=Sa.uk,U.lh.value[mc]=Sa.lh,U.Hd.value[mc]=Sa.Hd,U.Oe.value[mc]=Sa.Oe,mc++)}for(var vd=h.Au,rb,Lb,cb,bc=0,ff=vd.length;bc<
ff;bc++){var W=vd[bc][0];if(!1!==W.V){var yc=W.type,X=W.value,ma=vd[bc][1];switch(yc){case "1i":n.uniform1i(ma,X);break;case "1f":n.uniform1f(ma,X);break;case "2f":n.uniform2f(ma,X[0],X[1]);break;case "3f":n.uniform3f(ma,X[0],X[1],X[2]);break;case "4f":n.uniform4f(ma,X[0],X[1],X[2],X[3]);break;case "1iv":n.uniform1iv(ma,X);break;case "3iv":n.uniform3iv(ma,X);break;case "1fv":n.uniform1fv(ma,X);break;case "2fv":n.uniform2fv(ma,X);break;case "3fv":n.uniform3fv(ma,X);break;case "4fv":n.uniform4fv(ma,
X);break;case "Matrix3fv":n.uniformMatrix3fv(ma,!1,X);break;case "Matrix4fv":n.uniformMatrix4fv(ma,!1,X);break;case "i":n.uniform1i(ma,X);break;case "f":n.uniform1f(ma,X);break;case "v2":n.uniform2f(ma,X.x,X.y);break;case "v3":n.uniform3f(ma,X.x,X.y,X.z);break;case "v4":n.uniform4f(ma,X.x,X.y,X.z,X.H);break;case "c":n.uniform3f(ma,X.r,X.ka,X.K);break;case "iv1":n.uniform1iv(ma,X);break;case "iv":n.uniform3iv(ma,X);break;case "fv1":n.uniform1fv(ma,X);break;case "fv":n.uniform3fv(ma,X);break;case "v2v":void 0===
W.Oa&&(W.Oa=new Float32Array(2*X.length));for(var ha=0,ab=X.length;ha<ab;ha++)cb=2*ha,W.Oa[cb]=X[ha].x,W.Oa[cb+1]=X[ha].y;n.uniform2fv(ma,W.Oa);break;case "v3v":void 0===W.Oa&&(W.Oa=new Float32Array(3*X.length));ha=0;for(ab=X.length;ha<ab;ha++)cb=3*ha,W.Oa[cb]=X[ha].x,W.Oa[cb+1]=X[ha].y,W.Oa[cb+2]=X[ha].z;n.uniform3fv(ma,W.Oa);break;case "v4v":void 0===W.Oa&&(W.Oa=new Float32Array(4*X.length));ha=0;for(ab=X.length;ha<ab;ha++)cb=4*ha,W.Oa[cb]=X[ha].x,W.Oa[cb+1]=X[ha].y,W.Oa[cb+2]=X[ha].z,W.Oa[cb+3]=
X[ha].H;n.uniform4fv(ma,W.Oa);break;case "m3":n.uniformMatrix3fv(ma,!1,X.elements);break;case "m3v":void 0===W.Oa&&(W.Oa=new Float32Array(9*X.length));ha=0;for(ab=X.length;ha<ab;ha++)X[ha].Bl(W.Oa,9*ha);n.uniformMatrix3fv(ma,!1,W.Oa);break;case "m4":n.uniformMatrix4fv(ma,!1,X.elements);break;case "m4v":void 0===W.Oa&&(W.Oa=new Float32Array(16*X.length));ha=0;for(ab=X.length;ha<ab;ha++)X[ha].Bl(W.Oa,16*ha);n.uniformMatrix4fv(ma,!1,W.Oa);break;case "t":rb=X;Lb=V();n.uniform1i(ma,Lb);if(!rb)continue;
if(rb instanceof f.tg||rb.ha instanceof Array&&6===rb.ha.length){var ea=rb,zc=Lb;if(6===ea.ha.length)if(ea.V){ea.ha.Jh||(ea.addEventListener("dispose",d),ea.ha.Jh=n.createTexture(),K.info.memory.Ei++);n.activeTexture(n.TEXTURE0+zc);n.bindTexture(n.TEXTURE_CUBE_MAP,ea.ha.Jh);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ea.Tg);for(var ce=ea instanceof f.Gf,Jc=ea.ha[0]instanceof f.wd,Rb=[],Ta=0;6>Ta;Ta++)Rb[Ta]=!K.vw||ce||Jc?Jc?ea.ha[Ta].ha:ea.ha[Ta]:S(ea.ha[Ta],Rc);var de=Rb[0],Zd=f.Math.Vf(de.width)&&f.Math.Vf(de.height),
Db=R(ea.format),lc=R(ea.type);T(n.TEXTURE_CUBE_MAP,ea,Zd);for(Ta=0;6>Ta;Ta++)if(ce)for(var Sb,ud=Rb[Ta].xc,wc=0,df=ud.length;wc<df;wc++)Sb=ud[wc],ea.format!==f.$e&&ea.format!==f.Zi?-1<hc().indexOf(Db)?n.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,wc,Db,Sb.width,Sb.height,0,Sb.data):f.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,wc,Db,Sb.width,Sb.height,0,Db,lc,Sb.data);else Jc?n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+
Ta,0,Db,Rb[Ta].width,Rb[Ta].height,0,Db,lc,Rb[Ta].data):n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,0,Db,Db,lc,Rb[Ta]);ea.jd&&Zd&&n.generateMipmap(n.TEXTURE_CUBE_MAP);ea.V=!1;ea.Rl&&ea.Rl()}else n.activeTexture(n.TEXTURE0+zc),n.bindTexture(n.TEXTURE_CUBE_MAP,ea.ha.Jh)}else if(rb instanceof f.Mf){var Hc=rb;n.activeTexture(n.TEXTURE0+Lb);n.bindTexture(n.TEXTURE_CUBE_MAP,Hc.Gc)}else K.Ci(rb,Lb);break;case "tv":void 0===W.Oa&&(W.Oa=[]);ha=0;for(ab=W.value.length;ha<ab;ha++)W.Oa[ha]=V();n.uniform1iv(ma,
W.Oa);ha=0;for(ab=W.value.length;ha<ab;ha++)rb=W.value[ha],Lb=W.Oa[ha],rb&&K.Ci(rb,Lb);break;default:f.warn("THREE.WebGLRenderer: Unknown uniform type: "+yc)}}}}n.uniformMatrix4fv(va.LF,!1,k.kf.elements);va.gh&&n.uniformMatrix3fv(va.gh,!1,k.Kn.elements);null!==va.Gy&&n.uniformMatrix4fv(va.Gy,!1,k.M.elements);return Za}function I(a,b){a.Lr.V=b;a.$r.V=b;a.bs.V=b;a.ut.V=b;a.xt.V=b;a.wt.V=b;a.vt.V=b;a.du.V=b;a.ju.V=b;a.hu.V=b;a.gu.V=b;a.bu.V=b;a.iu.V=b;a.fu.V=b;a.Is.V=b;a.Hs.V=b;a.Gs.V=b}function V(){var a=
dc;a>=fc&&f.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+fc);dc+=1;return a}function Q(a,b){Ae(a.kf,b.Xc,a.M);Ie(a.Kn,a.kf)}function L(a,b,c,d){a[b]=c.r*d;a[b+1]=c.ka*d;a[b+2]=c.K*d}function T(a,b,c){c?(n.texParameteri(a,n.TEXTURE_WRAP_S,R(b.Oc)),n.texParameteri(a,n.TEXTURE_WRAP_T,R(b.Pc)),n.texParameteri(a,n.TEXTURE_MAG_FILTER,R(b.Tb)),n.texParameteri(a,n.TEXTURE_MIN_FILTER,R(b.bb))):(n.texParameteri(a,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(a,n.TEXTURE_WRAP_T,
n.CLAMP_TO_EDGE),b.Oc===f.Ue&&b.Pc===f.Ue||f.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping. ( "+b.xm+" )"),n.texParameteri(a,n.TEXTURE_MAG_FILTER,da(b.Tb)),n.texParameteri(a,n.TEXTURE_MIN_FILTER,da(b.bb)),b.bb!==f.Kd&&b.bb!==f.oe&&f.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter. ( "+b.xm+" )"));(c=Ea.get("EXT_texture_filter_anisotropic"))&&
b.type!==f.Mi&&b.type!==f.uq&&(1<b.jc||b.Rv)&&(n.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.jc,K.Fx())),b.Rv=b.jc)}function S(a,b){if(a.width>b||a.height>b){var c=b/Math.max(a.width,a.height),d=document.createElement("canvas");d.width=Math.floor(a.width*c);d.height=Math.floor(a.height*c);d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);f.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+d.width+"x"+d.height,a);return d}return a}
function N(a,b){n.bindRenderbuffer(n.RENDERBUFFER,a);b.De&&!b.Re?(n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,b.width,b.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,a)):b.De&&b.Re?(n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,b.width,b.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,a)):n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,b.width,b.height)}function M(a){a instanceof f.Mf?(n.bindTexture(n.TEXTURE_CUBE_MAP,
a.Gc),n.generateMipmap(n.TEXTURE_CUBE_MAP),n.bindTexture(n.TEXTURE_CUBE_MAP,null)):(n.bindTexture(n.TEXTURE_2D,a.Gc),n.generateMipmap(n.TEXTURE_2D),n.bindTexture(n.TEXTURE_2D,null))}function da(a){return a===f.Kd||a===f.Bq||a===f.Aq?n.NEAREST:n.LINEAR}function R(a){var b;if(a===f.Pk)return n.REPEAT;if(a===f.Ue)return n.CLAMP_TO_EDGE;if(a===f.yq)return n.MIRRORED_REPEAT;if(a===f.Kd)return n.NEAREST;if(a===f.Bq)return n.NEAREST_MIPMAP_NEAREST;if(a===f.Aq)return n.NEAREST_MIPMAP_LINEAR;if(a===f.oe)return n.LINEAR;
if(a===f.Xu)return n.LINEAR_MIPMAP_NEAREST;if(a===f.Kk)return n.LINEAR_MIPMAP_LINEAR;if(a===f.An)return n.UNSIGNED_BYTE;if(a===f.Jv)return n.UNSIGNED_SHORT_4_4_4_4;if(a===f.Kv)return n.UNSIGNED_SHORT_5_5_5_1;if(a===f.Lv)return n.UNSIGNED_SHORT_5_6_5;if(a===f.Lu)return n.BYTE;if(a===f.xv)return n.SHORT;if(a===f.Mv)return n.UNSIGNED_SHORT;if(a===f.Tu)return n.INT;if(a===f.Iv)return n.UNSIGNED_INT;if(a===f.Mi)return n.FLOAT;b=Ea.get("OES_texture_half_float");if(null!==b&&a===f.uq)return b.HALF_FLOAT_OES;
if(a===f.Ku)return n.ALPHA;if(a===f.Zi)return n.RGB;if(a===f.$e)return n.RGBA;if(a===f.Zu)return n.LUMINANCE;if(a===f.Yu)return n.LUMINANCE_ALPHA;if(a===f.iq)return n.FUNC_ADD;if(a===f.Dv)return n.FUNC_SUBTRACT;if(a===f.vv)return n.FUNC_REVERSE_SUBTRACT;if(a===f.Pv)return n.ZERO;if(a===f.iv)return n.ONE;if(a===f.Cv)return n.SRC_COLOR;if(a===f.lv)return n.ONE_MINUS_SRC_COLOR;if(a===f.Mq)return n.SRC_ALPHA;if(a===f.Dq)return n.ONE_MINUS_SRC_ALPHA;if(a===f.Qu)return n.DST_ALPHA;if(a===f.jv)return n.ONE_MINUS_DST_ALPHA;
if(a===f.Ru)return n.DST_COLOR;if(a===f.kv)return n.ONE_MINUS_DST_COLOR;if(a===f.Bv)return n.SRC_ALPHA_SATURATE;b=Ea.get("WEBGL_compressed_texture_s3tc");if(null!==b){if(a===f.uv)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===f.pv)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===f.qv)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===f.rv)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=Ea.get("WEBGL_compressed_texture_pvrtc");if(null!==b){if(a===f.tv)return b.sA;if(a===f.sv)return b.rA;if(a===f.ov)return b.qA;if(a===
f.nv)return b.pA}b=Ea.get("EXT_blend_minmax");if(null!==b){if(a===f.cv)return b.RA;if(a===f.bv)return b.PA}return 0}console.log("THREE.WebGLRenderer",f.mv);a=a||{};var la=void 0!==a.canvas?a.canvas:document.createElement("canvas"),fa=void 0!==a.context?a.context:null,ua=void 0!==a.precision?a.precision:"highp",J=void 0!==a.alpha?a.alpha:!1,Ja=void 0!==a.depth?a.depth:!0,ia=void 0!==a.stencil?a.stencil:!0,ra=void 0!==a.antialias?a.antialias:!1,Fa=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:
!0,Kb=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,ib=void 0!==a.Vj?a.Vj:!1,Na=new f.Z(0),Ga=[],Ra={},ga=[],ca=[],Za=[],qb=[],$b=[];this.context=null;this.Zt=this.uw=this.tw=this.sw=this.rw=!0;this.ts=2;this.kh=this.vs=this.us=!1;this.vk=f.Eq;this.Tt=f.Zm;this.im=this.jm=!1;this.Yj=8;this.Pl=4;this.vw=!0;this.info={memory:{Bt:0,Fe:0,Ei:0},L:{Ic:0,j:0,F:0,Na:0}};var K=this,Pa=[],nc=null,Bb=null,zb=-1,lb="",cc=null,dc=0,ta=0,vb=0,Ya=la.width,Ma=la.height,aa=0,pa=0,Gb=new f.Oi,Fb=new f.Ea,
Ha=new f.g,qa=new f.g,ec=!0,Ac={gl:[0,0,0],Ej:{length:0,ja:[],Wd:[]},yf:{length:0,ja:[],Wd:[],Gj:[],Dj:[]},Mc:{length:0,ja:[],Wd:[],Gj:[],fs:[],Nr:[],ks:[],Dj:[]},Wg:{length:0,Yt:[],Es:[],Wd:[]}},n;try{a={alpha:J,depth:Ja,stencil:ia,antialias:ra,premultipliedAlpha:Fa,preserveDrawingBuffer:Kb};n=fa||la.getContext("webgl",a)||la.getContext("experimental-webgl",a);if(null===n){if(null!==la.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context.";
}la.addEventListener("webglcontextlost",function(a){a.preventDefault();l();m();Ra={}},!1)}catch(Z){f.error("THREE.WebGLRenderer: "+Z)}var ba=new f.Ov(n,R);void 0===n.getShaderPrecisionFormat&&(n.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var Ea=new f.Nv(n);Ea.get("OES_texture_float");Ea.get("OES_texture_float_linear");Ea.get("OES_texture_half_float");Ea.get("OES_texture_half_float_linear");Ea.get("OES_standard_derivatives");ib&&Ea.get("EXT_frag_depth");m();this.context=
n;this.state=ba;var fc=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),fa=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Tb=n.getParameter(n.MAX_TEXTURE_SIZE),Rc=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),gc=0<fa,oc=gc&&Ea.get("OES_texture_float");a=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);var fa=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT),hc=function(){var a;return function(){if(void 0!==a)return a;a=[];if(Ea.get("WEBGL_compressed_texture_pvrtc")||Ea.get("WEBGL_compressed_texture_s3tc"))for(var b=
n.getParameter(n.COMPRESSED_TEXTURE_FORMATS),c=0;c<b.length;c++)a.push(b[c]);return a}}();a=0<n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision&&0<a.precision;fa=0<n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision&&0<fa.precision;"highp"!==ua||a||(fa?(ua="mediump",f.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(ua="lowp",f.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp.")));"mediump"!==ua||fa||(ua="lowp",f.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));
var kc=new f.wv(this,Ga,Ra,ga),Mb=new f.Av(this,qb),Ia=new f.Wu(this,$b);this.getContext=function(){return n};this.ou=function(){return gc};this.Fx=function(){var a;return function(){if(void 0!==a)return a;var b=Ea.get("EXT_texture_filter_anisotropic");return a=null!==b?n.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}();this.Qo=function(){return ua};this.Rt=function(a,b,c){la.width=1*a;la.height=1*b;!1!==c&&(la.style.width=a+"px",la.style.height=b+"px");this.Mz(a,b)};this.Mz=function(a,b){vb=
ta=0;Ya=1*a;Ma=1*b;n.viewport(ta,vb,Ya,Ma)};this.Bx=function(){return Na};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=n.COLOR_BUFFER_BIT;if(void 0===b||b)d|=n.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=n.STENCIL_BUFFER_BIT;n.clear(d)};this.clearColor=function(){n.clear(n.COLOR_BUFFER_BIT)};this.clearDepth=function(){n.clear(n.DEPTH_BUFFER_BIT)};this.clearStencil=function(){n.clear(n.STENCIL_BUFFER_BIT)};this.Fp=l;this.vz=function(a,b,c){ba.Vo();a.Sx&&!a.bd&&(a.bd=n.createBuffer());a.Rx&&!a.dj&&
(a.dj=n.createBuffer());a.Ux&&!a.qr&&(a.qr=n.createBuffer());a.Qx&&!a.ef&&(a.ef=n.createBuffer());a.Sx&&(n.bindBuffer(n.ARRAY_BUFFER,a.bd),n.bufferData(n.ARRAY_BUFFER,a.tG,n.DYNAMIC_DRAW),ba.Fb(b.attributes.position),n.vertexAttribPointer(b.attributes.position,3,n.FLOAT,!1,0,0));if(a.Rx){n.bindBuffer(n.ARRAY_BUFFER,a.dj);if(!1===c instanceof f.Cc&&c.ib===f.en){var d,e,g,h,k,l,m,p,q,r,t,u=3*a.count;for(t=0;t<u;t+=9)r=a.Oy,d=r[t],e=r[t+1],g=r[t+2],h=r[t+3],l=r[t+4],p=r[t+5],k=r[t+6],m=r[t+7],q=r[t+
8],d=(d+h+k)/3,e=(e+l+m)/3,g=(g+p+q)/3,r[t]=d,r[t+1]=e,r[t+2]=g,r[t+3]=d,r[t+4]=e,r[t+5]=g,r[t+6]=d,r[t+7]=e,r[t+8]=g}n.bufferData(n.ARRAY_BUFFER,a.Oy,n.DYNAMIC_DRAW);ba.Fb(b.attributes.X);n.vertexAttribPointer(b.attributes.X,3,n.FLOAT,!1,0,0)}a.Ux&&c.map&&(n.bindBuffer(n.ARRAY_BUFFER,a.qr),n.bufferData(n.ARRAY_BUFFER,a.SH,n.DYNAMIC_DRAW),ba.Fb(b.attributes.Nc),n.vertexAttribPointer(b.attributes.Nc,2,n.FLOAT,!1,0,0));a.Qx&&c.O!==f.Ld&&(n.bindBuffer(n.ARRAY_BUFFER,a.ef),n.bufferData(n.ARRAY_BUFFER,
a.$B,n.DYNAMIC_DRAW),ba.Fb(b.attributes.color),n.vertexAttribPointer(b.attributes.color,3,n.FLOAT,!1,0,0));ba.yo();n.drawArrays(n.TRIANGLES,0,a.count);a.count=0};this.Et=function(a,b,c,d,e,g){if(!1!==d.visible)if(A(g),a=C(a,b,c,d,g),b=!1,c="direct_"+e.id+"_"+a.id+"_"+(d.ua?1:0),c!==lb&&(lb=c,b=!0),b&&ba.Vo(),g instanceof f.za){g=!0===d.ua?n.LINES:n.TRIANGLES;var h=e.attributes.index;if(h){var k,l;h.l instanceof Uint32Array&&Ea.get("OES_element_index_uint")?(k=n.UNSIGNED_INT,l=4):(k=n.UNSIGNED_SHORT,
l=2);c=e.cc;if(0===c.length)b&&(p(d,a,e,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h.buffer)),n.drawElements(g,h.l.length,k,0),K.info.L.Ic++,K.info.L.j+=h.l.length,K.info.L.F+=h.l.length/3;else{b=!0;for(var m=0,q=c.length;m<q;m++){var r=c[m].index;b&&(p(d,a,e,r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h.buffer));n.drawElements(g,c[m].count,k,c[m].start*l);K.info.L.Ic++;K.info.L.j+=c[m].count;K.info.L.F+=c[m].count/3}}}else b&&p(d,a,e,0),d=e.attributes.position,n.drawArrays(g,0,d.l.length/d.Ed),K.info.L.Ic++,
K.info.L.j+=d.l.length/d.Ed,K.info.L.F+=d.l.length/(3*d.Ed)}else if(g instanceof f.Ec)if(g=n.POINTS,h=e.attributes.index)if(h.l instanceof Uint32Array&&Ea.get("OES_element_index_uint")?(k=n.UNSIGNED_INT,l=4):(k=n.UNSIGNED_SHORT,l=2),c=e.cc,0===c.length)b&&(p(d,a,e,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h.buffer)),n.drawElements(g,h.l.length,k,0),K.info.L.Ic++,K.info.L.Na+=h.l.length;else for(1<c.length&&(b=!0),m=0,q=c.length;m<q;m++)r=c[m].index,b&&(p(d,a,e,r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,
h.buffer)),n.drawElements(g,c[m].count,k,c[m].start*l),K.info.L.Ic++,K.info.L.Na+=c[m].count;else if(b&&p(d,a,e,0),d=e.attributes.position,c=e.cc,0===c.length)n.drawArrays(g,0,d.l.length/3),K.info.L.Ic++,K.info.L.Na+=d.l.length/3;else for(m=0,q=c.length;m<q;m++)n.drawArrays(g,c[m].index,c[m].count),K.info.L.Ic++,K.info.L.Na+=c[m].count;else if(g instanceof f.ia)if(g=g.mode===f.jn?n.LINE_STRIP:n.LINES,ba.Jp(1*d.Vd),h=e.attributes.index)if(h.l instanceof Uint32Array?(k=n.UNSIGNED_INT,l=4):(k=n.UNSIGNED_SHORT,
l=2),c=e.cc,0===c.length)b&&(p(d,a,e,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h.buffer)),n.drawElements(g,h.l.length,k,0),K.info.L.Ic++,K.info.L.j+=h.l.length;else for(1<c.length&&(b=!0),m=0,q=c.length;m<q;m++)r=c[m].index,b&&(p(d,a,e,r),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h.buffer)),n.drawElements(g,c[m].count,k,c[m].start*l),K.info.L.Ic++,K.info.L.j+=c[m].count;else if(b&&p(d,a,e,0),d=e.attributes.position,c=e.cc,0===c.length)n.drawArrays(g,0,d.l.length/3),K.info.L.Ic++,K.info.L.j+=d.l.length/3;else for(m=
0,q=c.length;m<q;m++)n.drawArrays(g,c[m].index,c[m].count),K.info.L.Ic++,K.info.L.j+=c[m].count};this.Dt=function(a,b,c,d,e,g){if(!1!==d.visible){A(g);c=C(a,b,c,d,g);b=c.attributes;a=!1;c=e.id+"_"+c.id+"_"+(d.ua?1:0);c!==lb&&(lb=c,a=!0);a&&ba.Vo();if(!d.$&&0<=b.position)a&&(n.bindBuffer(n.ARRAY_BUFFER,e.bd),ba.Fb(b.position),n.vertexAttribPointer(b.position,3,n.FLOAT,!1,0,0));else if(g.pp){c=d.sd.attributes;-1!==g.pp&&0<=c.position?(n.bindBuffer(n.ARRAY_BUFFER,e.Fg[g.pp]),ba.Fb(c.position),n.vertexAttribPointer(c.position,
3,n.FLOAT,!1,0,0)):0<=c.position&&(n.bindBuffer(n.ARRAY_BUFFER,e.bd),ba.Fb(c.position),n.vertexAttribPointer(c.position,3,n.FLOAT,!1,0,0));if(g.et.length)for(var h=0,k=g.et,l=g.od,m;h<d.fk&&h<k.length;)m=c["morphTarget"+h],0<=m&&(n.bindBuffer(n.ARRAY_BUFFER,e.Fg[k[h]]),ba.Fb(m),n.vertexAttribPointer(m,3,n.FLOAT,!1,0,0)),m=c["morphNormal"+h],0<=m&&d.Ub&&(n.bindBuffer(n.ARRAY_BUFFER,e.Ih[k[h]]),ba.Fb(m),n.vertexAttribPointer(m,3,n.FLOAT,!1,0,0)),g.cj[h]=l[k[h]],h++;else{k=[];l=g.od;h=g.G.$;l.length>
h.length&&(console.warn("THREE.WebGLRenderer: Influences array is bigger than morphTargets array."),l.length=h.length);h=0;for(m=l.length;h<m;h++)k.push([l[h],h]);k.length>d.fk?(k.sort(t),k.length=d.fk):k.length>d.gt?k.sort(t):0===k.length&&k.push([0,0]);for(var h=0,p=d.fk;h<p;h++)if(k[h]){var q=k[h][1];m=c["morphTarget"+h];0<=m&&(n.bindBuffer(n.ARRAY_BUFFER,e.Fg[q]),ba.Fb(m),n.vertexAttribPointer(m,3,n.FLOAT,!1,0,0));m=c["morphNormal"+h];0<=m&&d.Ub&&(n.bindBuffer(n.ARRAY_BUFFER,e.Ih[q]),ba.Fb(m),
n.vertexAttribPointer(m,3,n.FLOAT,!1,0,0));g.cj[h]=l[q]}else g.cj[h]=0}null!==d.sd.xa.od&&n.uniform1fv(d.sd.xa.od,g.cj)}if(a){if(e.Fc)for(c=0,l=e.Fc.length;c<l;c++)k=e.Fc[c],0<=b[k.buffer.kl]&&(n.bindBuffer(n.ARRAY_BUFFER,k.buffer),ba.Fb(b[k.buffer.kl]),n.vertexAttribPointer(b[k.buffer.kl],k.size,n.FLOAT,!1,0,0));0<=b.color&&(0<g.G.ja.length||0<g.G.F.length?(n.bindBuffer(n.ARRAY_BUFFER,e.ef),ba.Fb(b.color),n.vertexAttribPointer(b.color,3,n.FLOAT,!1,0,0)):void 0!==d.Sd&&n.vertexAttrib3fv(b.color,d.Sd.color));
0<=b.X&&(n.bindBuffer(n.ARRAY_BUFFER,e.dj),ba.Fb(b.X),n.vertexAttribPointer(b.X,3,n.FLOAT,!1,0,0));0<=b.zm&&(n.bindBuffer(n.ARRAY_BUFFER,e.mr),ba.Fb(b.zm),n.vertexAttribPointer(b.zm,4,n.FLOAT,!1,0,0));0<=b.Nc&&(g.G.Y[0]?(n.bindBuffer(n.ARRAY_BUFFER,e.or),ba.Fb(b.Nc),n.vertexAttribPointer(b.Nc,2,n.FLOAT,!1,0,0)):void 0!==d.Sd&&n.vertexAttrib2fv(b.Nc,d.Sd.Nc));0<=b.yk&&(g.G.Y[1]?(n.bindBuffer(n.ARRAY_BUFFER,e.nr),ba.Fb(b.yk),n.vertexAttribPointer(b.yk,2,n.FLOAT,!1,0,0)):void 0!==d.Sd&&n.vertexAttrib2fv(b.yk,
d.Sd.yk));d.Lb&&0<=b.Wt&&0<=b.Xt&&(n.bindBuffer(n.ARRAY_BUFFER,e.hr),ba.Fb(b.Wt),n.vertexAttribPointer(b.Wt,4,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,e.jr),ba.Fb(b.Xt),n.vertexAttribPointer(b.Xt,4,n.FLOAT,!1,0,0));0<=b.Ts&&(n.bindBuffer(n.ARRAY_BUFFER,e.dr),ba.Fb(b.Ts),n.vertexAttribPointer(b.Ts,1,n.FLOAT,!1,0,0))}ba.yo();g instanceof f.za?(g=e.Uv===Uint32Array?n.UNSIGNED_INT:n.UNSIGNED_SHORT,d.ua?(ba.Jp(1*d.ec),a&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.$q),n.drawElements(n.LINES,e.Fn,g,0)):(a&&
n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.Zq),n.drawElements(n.TRIANGLES,e.Dn,g,0)),K.info.L.Ic++,K.info.L.j+=e.Dn,K.info.L.F+=e.Dn/3):g instanceof f.ia?(g=g.mode===f.jn?n.LINE_STRIP:n.LINES,ba.Jp(1*d.Vd),n.drawArrays(g,0,e.Fn),K.info.L.Ic++):g instanceof f.Ec&&(n.drawArrays(n.POINTS,0,e.gr),K.info.L.Ic++,K.info.L.Na+=e.gr)}};this.L=function(a,b,c,d){if(!1===b instanceof f.Qc)f.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var e=a.fa;lb="";zb=-1;cc=null;ec=!0;!0===
a.jl&&a.xb();void 0===b.parent&&b.xb();He(a,function(a){a instanceof f.Nd&&a.dc.update()});b.Xc.Ud(b.M);Ae(Fb,b.Wb,b.Xc);Oe(Gb,Fb);Ga.length=0;ca.length=0;Za.length=0;qb.length=0;$b.length=0;w(a);!0===K.Zt&&(ca.sort(u),Za.sort(v));kc.L(a,b);K.info.L.Ic=0;K.info.L.j=0;K.info.L.F=0;K.info.L.Na=0;this.Qt(c);(this.rw||d)&&this.clear(this.sw,this.tw,this.uw);d=0;for(var g=ga.length;d<g;d++){var h=ga[d],k=h.object;k.visible&&(Q(k,b),D(h))}a.hk?(d=a.hk,y(d),z(ca,b,Ga,e,d),z(Za,b,Ga,e,d),x(ga,"",b,Ga,e,d)):
(ba.lk(f.nn),z(ca,b,Ga,e,null),x(ga,"opaque",b,Ga,e,null),z(Za,b,Ga,e,null),x(ga,"transparent",b,Ga,e,null));Mb.L(a,b);Ia.L(a,b,aa,pa);c&&c.jd&&c.bb!==f.Kd&&c.bb!==f.oe&&M(c);ba.$l(!0);ba.Ip(!0);ba.Lt(!0)}};this.Ft=function(a,b,c,d,e){var g=C(a,b,c,d,e);lb="";K.Kp(d);e.Uo?e.Uo(g,n,Gb):e.L(function(a){K.vz(a,g,d)})};var ob={},Jb=0,Yb={Hf:"depth",qe:"normal",Bc:"basic",yd:"lambert",Cc:"phong",zb:"basic",zg:"dashed",Md:"particle_basic"};this.Kp=function(a){ba.Fz(a.cb===f.an);ba.Gz(a.cb===f.Tm)};this.eA=
function(a){void 0===a.ff&&(a.ff=!0,a.addEventListener("dispose",d),a.Gc=n.createTexture(),K.info.memory.Ei++);n.bindTexture(n.TEXTURE_2D,a.Gc);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,a.Tg);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.Ap);n.pixelStorei(n.UNPACK_ALIGNMENT,a.aq);a.ha=S(a.ha,Tb);var b=a.ha,c=f.Math.Vf(b.width)&&f.Math.Vf(b.height),e=R(a.format),g=R(a.type);T(n.TEXTURE_2D,a,c);var h=a.xc;if(a instanceof f.wd)if(0<h.length&&c){for(var k=0,l=h.length;k<l;k++)b=h[k],n.texImage2D(n.TEXTURE_2D,
k,e,b.width,b.height,0,e,g,b.data);a.jd=!1}else n.texImage2D(n.TEXTURE_2D,0,e,b.width,b.height,0,e,g,b.data);else if(a instanceof f.Gf)for(k=0,l=h.length;k<l;k++)b=h[k],a.format!==f.$e&&a.format!==f.Zi?-1<hc().indexOf(e)?n.compressedTexImage2D(n.TEXTURE_2D,k,e,b.width,b.height,0,b.data):f.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(n.TEXTURE_2D,k,e,b.width,b.height,0,e,g,b.data);else if(0<h.length&&c){k=0;for(l=h.length;k<l;k++)b=
h[k],n.texImage2D(n.TEXTURE_2D,k,e,e,g,b);a.jd=!1}else n.texImage2D(n.TEXTURE_2D,0,e,e,g,a.ha);a.jd&&c&&n.generateMipmap(n.TEXTURE_2D);a.V=!1;a.Rl&&a.Rl()};this.Ci=function(a,b){n.activeTexture(n.TEXTURE0+b);a.V?K.eA(a):n.bindTexture(n.TEXTURE_2D,a.Gc)};this.Qt=function(a){var b=a instanceof f.Mf;if(a&&void 0===a.ve){void 0===a.De&&(a.De=!0);void 0===a.Re&&(a.Re=!0);a.addEventListener("dispose",g);a.Gc=n.createTexture();K.info.memory.Ei++;var c=f.Math.Vf(a.width)&&f.Math.Vf(a.height),d=R(a.format),
e=R(a.type);if(b){a.ve=[];a.we=[];n.bindTexture(n.TEXTURE_CUBE_MAP,a.Gc);T(n.TEXTURE_CUBE_MAP,a,c);for(var h=0;6>h;h++){a.ve[h]=n.createFramebuffer();a.we[h]=n.createRenderbuffer();n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,d,a.width,a.height,0,d,e,null);var k=a,l=n.TEXTURE_CUBE_MAP_POSITIVE_X+h;n.bindFramebuffer(n.FRAMEBUFFER,a.ve[h]);n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,l,k.Gc,0);N(a.we[h],a)}c&&n.generateMipmap(n.TEXTURE_CUBE_MAP)}else a.ve=n.createFramebuffer(),a.we=a.mh?
a.mh.we:n.createRenderbuffer(),n.bindTexture(n.TEXTURE_2D,a.Gc),T(n.TEXTURE_2D,a,c),n.texImage2D(n.TEXTURE_2D,0,d,a.width,a.height,0,d,e,null),d=n.TEXTURE_2D,n.bindFramebuffer(n.FRAMEBUFFER,a.ve),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,d,a.Gc,0),a.mh?a.De&&!a.Re?n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,a.we):a.De&&a.Re&&n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,a.we):N(a.we,a),c&&n.generateMipmap(n.TEXTURE_2D);
b?n.bindTexture(n.TEXTURE_CUBE_MAP,null):n.bindTexture(n.TEXTURE_2D,null);n.bindRenderbuffer(n.RENDERBUFFER,null);n.bindFramebuffer(n.FRAMEBUFFER,null)}a?(b=b?a.ve[a.mw]:a.ve,c=a.width,a=a.height,e=d=0):(b=null,c=Ya,a=Ma,d=ta,e=vb);b!==Bb&&(n.bindFramebuffer(n.FRAMEBUFFER,b),n.viewport(d,e,c,a),Bb=b);aa=c;pa=a}};
f.Eg=function(a,b,c){this.width=a;this.height=b;c=c||{};this.Oc=void 0!==c.Oc?c.Oc:f.Ue;this.Pc=void 0!==c.Pc?c.Pc:f.Ue;this.Tb=void 0!==c.Tb?c.Tb:f.oe;this.bb=void 0!==c.bb?c.bb:f.Kk;this.jc=void 0!==c.jc?c.jc:1;this.offset=new f.C(0,0);this.repeat=new f.C(1,1);this.format=void 0!==c.format?c.format:f.$e;this.type=void 0!==c.type?c.type:f.An;this.De=void 0!==c.De?c.De:!0;this.Re=void 0!==c.Re?c.Re:!0;this.jd=!0;this.mh=void 0!==c.mh?c.mh:null};
f.Eg.prototype={constructor:f.Eg,Rt:function(a,b){this.width=a;this.height=b},clone:function(){var a=new f.Eg(this.width,this.height);a.Oc=this.Oc;a.Pc=this.Pc;a.Tb=this.Tb;a.bb=this.bb;a.jc=this.jc;a.offset.A(this.offset);a.repeat.A(this.repeat);a.format=this.format;a.type=this.type;a.De=this.De;a.Re=this.Re;a.jd=this.jd;a.mh=this.mh;return a},Eb:function(){this.dispatchEvent({type:"dispose"})}};f.xd.prototype.apply(f.Eg.prototype);f.Mf=function(a,b,c){f.Eg.call(this,a,b,c);this.mw=0};
f.Mf.prototype=Object.create(f.Eg.prototype);f.Mf.prototype.constructor=f.Mf;
f.Nv=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];var e;switch(c){case "EXT_texture_filter_anisotropic":e=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":e=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":e=
a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=a.getExtension(c)}null===e&&f.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]=e}};
f.WebGLProgram=function(){var a=0;return function(b,c,e,g){var d=b.context,h=e.Th,k=e.Gg.xa,l=e.attributes,m=e.Gg.ya,q=e.Gg.va,r=e.$x;void 0===r&&!0===g.$&&(r="position");var p="SHADOWMAP_TYPE_BASIC";g.vk===f.Eq?p="SHADOWMAP_TYPE_PCF":g.vk===f.Fq&&(p="SHADOWMAP_TYPE_PCF_SOFT");var u="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",t="ENVMAP_BLENDING_MULTIPLY";if(g.Ua){switch(e.Ua.Xj){case f.oq:case f.pq:u="ENVMAP_TYPE_CUBE";break;case f.Su:case f.sq:u="ENVMAP_TYPE_EQUIREC";break;case f.yv:u="ENVMAP_TYPE_SPHERE"}switch(e.Ua.Xj){case f.pq:case f.sq:v=
"ENVMAP_MODE_REFRACTION"}switch(e.Pd){case f.Mk:t="ENVMAP_BLENDING_MULTIPLY";break;case f.dv:t="ENVMAP_BLENDING_MIX";break;case f.Iu:t="ENVMAP_BLENDING_ADD"}}var w=0<b.ts?b.ts:1,z,x;z=[];for(var D in h)x=h[D],!1!==x&&(x="#define "+D+" "+x,z.push(x));z=z.join("\n");h=d.createProgram();e instanceof f.Ch?b=e="":(e=["precision "+g.precision+" float;","precision "+g.precision+" int;",z,g.ou?"#define VERTEX_TEXTURES":"",b.us?"#define GAMMA_INPUT":"",b.vs?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+
w,"#define MAX_DIR_LIGHTS "+g.Zs,"#define MAX_POINT_LIGHTS "+g.bt,"#define MAX_SPOT_LIGHTS "+g.dt,"#define MAX_HEMI_LIGHTS "+g.$s,"#define MAX_SHADOWS "+g.ct,"#define MAX_BONES "+g.Cy,g.map?"#define USE_MAP":"",g.Ua?"#define USE_ENVMAP":"",g.Ua?"#define "+v:"",g.Sb?"#define USE_LIGHTMAP":"",g.lc?"#define USE_BUMPMAP":"",g.oc?"#define USE_NORMALMAP":"",g.Mb?"#define USE_SPECULARMAP":"",g.Kb?"#define USE_ALPHAMAP":"",g.O?"#define USE_COLOR":"",g.Jo?"#define FLAT_SHADED":"",g.Lb?"#define USE_SKINNING":
"",g.Ef?"#define BONE_TEXTURE":"",g.$?"#define USE_MORPHTARGETS":"",g.Ub?"#define USE_MORPHNORMALS":"",g.ee?"#define WRAP_AROUND":"",g.Ao?"#define DOUBLE_SIDED":"",g.Ko?"#define FLIP_SIDED":"",g.kh?"#define USE_SHADOWMAP":"",g.kh?"#define "+p:"",g.jm?"#define SHADOWMAP_DEBUG":"",g.im?"#define SHADOWMAP_CASCADE":"",g.Pe?"#define USE_SIZEATTENUATION":"",g.Vj?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\n\tattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\n\tattribute vec3 morphTarget0;\n\tattribute vec3 morphTarget1;\n\tattribute vec3 morphTarget2;\n\tattribute vec3 morphTarget3;\n\t#ifdef USE_MORPHNORMALS\n\t\tattribute vec3 morphNormal0;\n\t\tattribute vec3 morphNormal1;\n\t\tattribute vec3 morphNormal2;\n\t\tattribute vec3 morphNormal3;\n\t#else\n\t\tattribute vec3 morphTarget4;\n\t\tattribute vec3 morphTarget5;\n\t\tattribute vec3 morphTarget6;\n\t\tattribute vec3 morphTarget7;\n\t#endif\n#endif\n#ifdef USE_SKINNING\n\tattribute vec4 skinIndex;\n\tattribute vec4 skinWeight;\n#endif\n"].join("\n"),
b=["precision "+g.precision+" float;","precision "+g.precision+" int;",g.lc||g.oc||g.Jo?"#extension GL_OES_standard_derivatives : enable":"",z,"#define MAX_DIR_LIGHTS "+g.Zs,"#define MAX_POINT_LIGHTS "+g.bt,"#define MAX_SPOT_LIGHTS "+g.dt,"#define MAX_HEMI_LIGHTS "+g.$s,"#define MAX_SHADOWS "+g.ct,g.Kg?"#define ALPHATEST "+g.Kg:"",b.us?"#define GAMMA_INPUT":"",b.vs?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+w,g.Eu&&g.fa?"#define USE_FOG":"",g.Eu&&g.wx?"#define FOG_EXP2":"",g.map?"#define USE_MAP":
"",g.Ua?"#define USE_ENVMAP":"",g.Ua?"#define "+u:"",g.Ua?"#define "+v:"",g.Ua?"#define "+t:"",g.Sb?"#define USE_LIGHTMAP":"",g.lc?"#define USE_BUMPMAP":"",g.oc?"#define USE_NORMALMAP":"",g.Mb?"#define USE_SPECULARMAP":"",g.Kb?"#define USE_ALPHAMAP":"",g.O?"#define USE_COLOR":"",g.Jo?"#define FLAT_SHADED":"",g.Zj?"#define METAL":"",g.ee?"#define WRAP_AROUND":"",g.Ao?"#define DOUBLE_SIDED":"",g.Ko?"#define FLIP_SIDED":"",g.kh?"#define USE_SHADOWMAP":"",g.kh?"#define "+p:"",g.jm?"#define SHADOWMAP_DEBUG":
"",g.im?"#define SHADOWMAP_CASCADE":"",g.Vj?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n"));m=new f.WebGLShader(d,d.VERTEX_SHADER,e+m);q=new f.WebGLShader(d,d.FRAGMENT_SHADER,b+q);d.attachShader(h,m);d.attachShader(h,q);void 0!==r&&d.bindAttribLocation(h,0,r);d.linkProgram(h);r=d.getProgramInfoLog(h);!1===d.getProgramParameter(h,d.LINK_STATUS)&&f.error("THREE.WebGLProgram: shader error: "+d.getError(),"gl.VALIDATE_STATUS",d.getProgramParameter(h,
d.VALIDATE_STATUS),"gl.getPRogramInfoLog",r);""!==r&&f.warn("THREE.WebGLProgram: gl.getProgramInfoLog()"+r);d.deleteShader(m);d.deleteShader(q);r="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences bindMatrix bindMatrixInverse".split(" ");g.Ef?(r.push("boneTexture"),r.push("boneTextureWidth"),r.push("boneTextureHeight")):r.push("boneGlobalMatrices");g.Vj&&r.push("logDepthBufFC");for(var B in k)r.push(B);k=r;B={};r=0;for(b=k.length;r<b;r++)p=k[r],
B[p]=d.getUniformLocation(h,p);this.xa=B;r="position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(" ");for(k=0;k<g.Yj;k++)r.push("morphTarget"+k);for(k=0;k<g.Pl;k++)r.push("morphNormal"+k);for(var E in l)r.push(E);g=r;l={};E=0;for(k=g.length;E<k;E++)B=g[E],l[B]=d.getAttribLocation(h,B);this.attributes=l;this.il=Object.keys(this.attributes);this.id=a++;this.code=c;this.cq=1;this.sd=h;this.ya=m;this.va=q;return this}}();
f.WebGLShader=function(){function a(a){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=c+1+": "+a[c];return a.join("\n")}return function(b,c,e){c=b.createShader(c);b.shaderSource(c,e);b.compileShader(c);!1===b.getShaderParameter(c,b.COMPILE_STATUS)&&f.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(c)&&f.warn("THREE.WebGLShader: gl.getShaderInfoLog()",b.getShaderInfoLog(c),a(e));return c}}();
f.Ov=function(a,b){var c=new Uint8Array(16),e=new Uint8Array(16),g=null,d=null,h=null,k=null,l=null,m=null,q=null,r=null,p=null,u=null,v=null,t=null,w=null,z=null,x=null,D=null;this.Vo=function(){for(var a=0,b=c.length;a<b;a++)c[a]=0};this.Fb=function(b){c[b]=1;0===e[b]&&(a.enableVertexAttribArray(b),e[b]=1)};this.yo=function(){for(var b=0,d=e.length;b<d;b++)e[b]!==c[b]&&(a.disableVertexAttribArray(b),e[b]=0)};this.lk=function(c,e,p,r,t,u,v){c!==g&&(c===f.nn?a.disable(a.BLEND):c===f.Ju?(a.enable(a.BLEND),
a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):c===f.Ev?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):c===f.ev?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):c===f.qq?a.enable(a.BLEND):(a.enable(a.BLEND),a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),g=c);if(c===f.qq){t=t||e;u=u||p;v=v||r;if(e!==d||t!==l)a.blendEquationSeparate(b(e),
b(t)),d=e,l=t;if(p!==h||r!==k||u!==m||v!==q)a.blendFuncSeparate(b(p),b(r),b(u),b(v)),h=p,k=r,m=u,q=v}else q=m=l=k=h=d=null};this.$l=function(b){r!==b&&(b?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST),r=b)};this.Ip=function(b){p!==b&&(a.depthMask(b),p=b)};this.Lt=function(b){u!==b&&(a.colorMask(b,b,b,b),u=b)};this.Fz=function(b){v!==b&&(b?a.disable(a.CULL_FACE):a.enable(a.CULL_FACE),v=b)};this.Gz=function(b){t!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),t=b)};this.Jp=function(b){b!==w&&(a.lineWidth(b),
w=b)};this.Jz=function(b,c,d){z!==b&&(b?a.enable(a.POLYGON_OFFSET_FILL):a.disable(a.POLYGON_OFFSET_FILL),z=b);!b||x===c&&D===d||(a.polygonOffset(c,d),x=c,D=d)};this.reset=function(){for(var a=0;a<e.length;a++)e[a]=0;t=v=u=p=r=g=null}};
f.Wu=function(a,b){var c,e,g,d,h,k,l,m,q,r,p=a.context,u,v,t,w,z,x;this.L=function(D,B,E,A){if(0!==b.length){D=new f.g;var F=A/E,G=.5*E,y=.5*A,C=16/A,I=new f.C(C*F,C),V=new f.g(1,1,0),Q=new f.C(1,1);if(void 0===t){var C=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),L=new Uint16Array([0,1,2,0,2,3]);u=p.createBuffer();v=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,u);p.bufferData(p.ARRAY_BUFFER,C,p.STATIC_DRAW);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,v);p.bufferData(p.ELEMENT_ARRAY_BUFFER,L,p.STATIC_DRAW);
z=p.createTexture();x=p.createTexture();p.bindTexture(p.TEXTURE_2D,z);p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);p.bindTexture(p.TEXTURE_2D,x);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);var C=(w=0<p.getParameter(p.MAX_VERTEX_TEXTURE_IMAGE_UNITS))?{ya:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
va:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}:{ya:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
va:"precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},
L=p.createProgram(),T=p.createShader(p.FRAGMENT_SHADER),S=p.createShader(p.VERTEX_SHADER),N="precision "+a.Qo()+" float;\n";p.shaderSource(T,N+C.va);p.shaderSource(S,N+C.ya);p.compileShader(T);p.compileShader(S);p.attachShader(L,T);p.attachShader(L,S);p.linkProgram(L);t=L;q=p.getAttribLocation(t,"position");r=p.getAttribLocation(t,"uv");c=p.getUniformLocation(t,"renderType");e=p.getUniformLocation(t,"map");g=p.getUniformLocation(t,"occlusionMap");d=p.getUniformLocation(t,"opacity");h=p.getUniformLocation(t,
"color");k=p.getUniformLocation(t,"scale");l=p.getUniformLocation(t,"rotation");m=p.getUniformLocation(t,"screenPosition")}p.useProgram(t);p.enableVertexAttribArray(q);p.enableVertexAttribArray(r);p.uniform1i(g,0);p.uniform1i(e,1);p.bindBuffer(p.ARRAY_BUFFER,u);p.vertexAttribPointer(q,2,p.FLOAT,!1,16,0);p.vertexAttribPointer(r,2,p.FLOAT,!1,16,8);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,v);p.disable(p.CULL_FACE);p.depthMask(!1);L=0;for(T=b.length;L<T;L++)if(C=16/A,I.set(C*F,C),S=b[L],D.set(S.M.elements[12],
S.M.elements[13],S.M.elements[14]),D.Fa(B.Xc),Be(D,B.Wb),V.A(D),Q.x=V.x*G+G,Q.y=V.y*y+y,w||0<Q.x&&Q.x<E&&0<Q.y&&Q.y<A){p.activeTexture(p.TEXTURE1);p.bindTexture(p.TEXTURE_2D,z);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,Q.x-8,Q.y-8,16,16,0);p.uniform1i(c,0);p.uniform2f(k,I.x,I.y);p.uniform3f(m,V.x,V.y,V.z);p.disable(p.BLEND);p.enable(p.DEPTH_TEST);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);p.activeTexture(p.TEXTURE0);p.bindTexture(p.TEXTURE_2D,x);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,Q.x-8,Q.y-
8,16,16,0);p.uniform1i(c,1);p.disable(p.DEPTH_TEST);p.activeTexture(p.TEXTURE1);p.bindTexture(p.TEXTURE_2D,z);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);S.jk.A(V);if(S.Xr)S.Xr(S);else for(var N=S,M=void 0,da=N.Tj.length,R=void 0,la=2*-N.jk.x,fa=2*-N.jk.y,M=0;M<da;M++)R=N.Tj[M],R.x=N.jk.x+la*R.lb,R.y=N.jk.y+fa*R.lb,R.kA=R.x*Math.PI*.25,R.rotation+=.25*(R.kA-R.rotation);p.uniform1i(c,2);p.enable(p.BLEND);N=0;for(M=S.Tj.length;N<M;N++)da=S.Tj[N],.001<da.opacity&&.001<da.scale&&(V.x=da.x,V.y=da.y,
V.z=da.z,C=da.size*da.scale/A,I.x=C*F,I.y=C,p.uniform3f(m,V.x,V.y,V.z),p.uniform2f(k,I.x,I.y),p.uniform1f(l,da.rotation),p.uniform1f(d,da.opacity),p.uniform3f(h,da.color.r,da.color.ka,da.color.K),a.state.lk(da.Ba,da.blendEquation,da.mj,da.lj),a.Ci(da.Xz,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}p.enable(p.CULL_FACE);p.enable(p.DEPTH_TEST);p.depthMask(!0);a.Fp()}}};
f.wv=function(a,b,c,e){function g(a,b,d){if(b.visible){var e=c[b.id];if(e&&b.Vc&&(!1===b.Dl||!0===q.Ls(b)))for(var h=0,k=e.length;h<k;h++){var l=e[h];Ae(b.kf,d.Xc,b.M);t.push(l)}h=0;for(k=b.children.length;h<k;h++)g(a,b.children[h],d)}}var d=a.context,h,k,l,m,q=new f.Oi,r=new f.Ea,p=new f.g,u=new f.g,v=new f.g,t=[],w=f.Kq.gx,z=f.Lf.clone(w.xa);h=new f.hc({xa:z,ya:w.ya,va:w.va});k=new f.hc({xa:z,ya:w.ya,va:w.va,$:!0});l=new f.hc({xa:z,ya:w.ya,va:w.va,Lb:!0});m=new f.hc({xa:z,ya:w.ya,va:w.va,$:!0,Lb:!0});
h.$k=!0;k.$k=!0;l.$k=!0;m.$k=!0;this.L=function(c,z){if(!1!==a.kh){var w,E,A,F,G,y,C,I,V=[];F=0;d.clearColor(1,1,1,1);d.disable(d.BLEND);d.enable(d.CULL_FACE);d.frontFace(d.CCW);a.Tt===f.Zm?d.cullFace(d.FRONT):d.cullFace(d.BACK);a.state.$l(!0);w=0;for(E=b.length;w<E;w++)if(A=b[w],A.Vc)if(A instanceof f.Rc&&A.tk)for(G=0;G<A.Np;G++){var Q;if(A.dm[G])Q=A.dm[G];else{C=A;var L=G;Q=new f.Rc;Q.ey=!0;Q.Xf=!0;Q.Vc=!0;Q.Bf=C.Bf;Q.Af=C.Af;Q.qk=C.qk;Q.rk=C.rk;Q.pk=C.pk;Q.sk=C.sk;Q.Gd=C.Gd;Q.Hd=C.Hd;Q.Oe=C.em[L];
Q.Df=C.Qp[L];Q.Cf=C.Op[L];Q.yt=[];Q.xp=[];I=Q.yt;y=Q.xp;for(var T=0;8>T;T++)I[T]=new f.g,y[T]=new f.g;I=C.hm[L];C=C.gm[L];y[0].set(-1,-1,I);y[1].set(1,-1,I);y[2].set(-1,1,I);y[3].set(1,1,I);y[4].set(-1,-1,C);y[5].set(1,-1,C);y[6].set(-1,1,C);y[7].set(1,1,C);Q.Zy=z;y=new f.Ri;y.position.A(A.Pp);y.add(Q);y.add(Q.target);z.add(y);A.dm[G]=Q}L=A;I=G;C=L.dm[I];C.position.A(L.position);C.target.position.A(L.target.position);C.wc(C.target);C.Gd=L.Gd;C.Hd=L.Hd;C.Oe=L.em[I];y=L.hm[I];L=L.gm[I];C=C.xp;C[0].z=
y;C[1].z=y;C[2].z=y;C[3].z=y;C[4].z=L;C[5].z=L;C[6].z=L;C[7].z=L;V[F]=Q;F++}else V[F]=A,F++;w=0;for(E=V.length;w<E;w++){A=V[w];A.jh||(G=f.oe,a.vk===f.Fq&&(G=f.Kd),A.jh=new f.Eg(A.Df,A.Cf,{bb:G,Tb:G,format:f.$e}),A.uk=new f.C(A.Df,A.Cf),A.lh=new f.Ea);if(!A.cg){if(A instanceof f.zd)A.cg=new f.Dc(A.Mp,A.Df/A.Cf,A.Bf,A.Af);else if(A instanceof f.Rc)A.cg=new f.Xe(A.qk,A.rk,A.sk,A.pk,A.Bf,A.Af);else{f.error("THREE.ShadowMapPlugin: Unsupported light type for shadow",A);continue}c.add(A.cg);!0===c.jl&&c.xb()}A.Gd&&
!A.rj&&(A.rj=new f.Ji(A.cg),c.add(A.rj));if(A.ey&&Q.Zy==z){G=z;F=A.cg;y=A.xp;C=A.yt;p.set(Infinity,Infinity,Infinity);u.set(-Infinity,-Infinity,-Infinity);for(L=0;8>L;L++)I=C[L],I.A(y[L]),I.Du(G),I.Fa(F.Xc),I.x<p.x&&(p.x=I.x),I.x>u.x&&(u.x=I.x),I.y<p.y&&(p.y=I.y),I.y>u.y&&(u.y=I.y),I.z<p.z&&(p.z=I.z),I.z>u.z&&(u.z=I.z);F.left=p.x;F.right=u.x;F.top=u.y;F.bottom=p.y;F.Fm()}F=A.jh;y=A.lh;G=A.cg;Ce(G.position,A.M);Ce(v,A.target.M);G.wc(v);G.xb();G.Xc.Ud(G.M);A.rj&&(A.rj.visible=A.Gd);A.Gd&&A.rj.update();
y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);y.multiply(G.Wb);y.multiply(G.Xc);Ae(r,G.Wb,G.Xc);Oe(q,r);a.Qt(F);a.clear();t.length=0;g(c,c,G);A=0;for(F=t.length;A<F;A++)C=t[A],y=C.object,C=C.buffer,L=y.aa instanceof f.Ag?y.aa.vb[0]:y.aa,I=void 0!==y.G.$&&0<y.G.$.length&&L.$,T=y instanceof f.Nd&&L.Lb,I=y.dx?y.dx:T?I?m:l:I?k:h,a.Kp(L),C instanceof f.qb?a.Et(G,b,null,I,C,y):a.Dt(G,b,null,I,C,y);A=0;for(F=e.length;A<F;A++)C=e[A],y=C.object,y.visible&&y.Vc&&(Ae(y.kf,G.Xc,y.M),a.Ft(G,b,null,h,y))}w=a.Bx();
d.clearColor(w.r,w.ka,w.K,0);d.enable(d.BLEND);a.Tt===f.Zm&&d.cullFace(d.BACK);a.Fp()}}};
f.Av=function(a,b){function c(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var e,g,d,h,k,l,m,q,r,p,u,v,t,w,z,x,D,B=a.context,E,A,F,G,y=new f.g,C=new f.Sc,I=new f.g;this.L=function(V,Q){if(0!==b.length){if(void 0===F){var L=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),T=new Uint16Array([0,1,2,0,2,3]);E=B.createBuffer();A=B.createBuffer();B.bindBuffer(B.ARRAY_BUFFER,E);B.bufferData(B.ARRAY_BUFFER,L,B.STATIC_DRAW);B.bindBuffer(B.ELEMENT_ARRAY_BUFFER,A);B.bufferData(B.ELEMENT_ARRAY_BUFFER,
T,B.STATIC_DRAW);var L=B.createProgram(),T=B.createShader(B.VERTEX_SHADER),S=B.createShader(B.FRAGMENT_SHADER);B.shaderSource(T,["precision "+a.Qo()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
B.shaderSource(S,["precision "+a.Qo()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
B.compileShader(T);B.compileShader(S);B.attachShader(L,T);B.attachShader(L,S);B.linkProgram(L);F=L;x=B.getAttribLocation(F,"position");D=B.getAttribLocation(F,"uv");e=B.getUniformLocation(F,"uvOffset");g=B.getUniformLocation(F,"uvScale");d=B.getUniformLocation(F,"rotation");h=B.getUniformLocation(F,"scale");k=B.getUniformLocation(F,"color");l=B.getUniformLocation(F,"map");m=B.getUniformLocation(F,"opacity");q=B.getUniformLocation(F,"modelViewMatrix");r=B.getUniformLocation(F,"projectionMatrix");p=
B.getUniformLocation(F,"fogType");u=B.getUniformLocation(F,"fogDensity");v=B.getUniformLocation(F,"fogNear");t=B.getUniformLocation(F,"fogFar");w=B.getUniformLocation(F,"fogColor");z=B.getUniformLocation(F,"alphaTest");L=document.createElement("canvas");L.width=8;L.height=8;T=L.getContext("2d");T.fillStyle="white";T.fillRect(0,0,8,8);G=new f.fb(L);G.V=!0}B.useProgram(F);B.enableVertexAttribArray(x);B.enableVertexAttribArray(D);B.disable(B.CULL_FACE);B.enable(B.BLEND);B.bindBuffer(B.ARRAY_BUFFER,E);
B.vertexAttribPointer(x,2,B.FLOAT,!1,16,0);B.vertexAttribPointer(D,2,B.FLOAT,!1,16,8);B.bindBuffer(B.ELEMENT_ARRAY_BUFFER,A);B.uniformMatrix4fv(r,!1,Q.Wb.elements);B.activeTexture(B.TEXTURE0);B.uniform1i(l,0);T=L=0;(S=V.fa)?(B.uniform3f(w,S.color.r,S.color.ka,S.color.K),S instanceof f.Hk?(B.uniform1f(v,S.Ib),B.uniform1f(t,S.Gb),B.uniform1i(p,1),T=L=1):S instanceof f.Ni&&(B.uniform1f(u,S.wo),B.uniform1i(p,2),T=L=2)):(B.uniform1i(p,0),T=L=0);for(var S=0,N=b.length;S<N;S++){var M=b[S];Ae(M.kf,Q.Xc,M.M);
M.z=-M.kf.elements[14]}b.sort(c);for(var da=[],S=0,N=b.length;S<N;S++){var M=b[S],R=M.aa;B.uniform1f(z,R.Kg);B.uniformMatrix4fv(q,!1,M.kf.elements);M.M.Rh(y,C,I);da[0]=I.x;da[1]=I.y;M=0;V.fa&&R.fa&&(M=T);L!==M&&(B.uniform1i(p,M),L=M);null!==R.map?(B.uniform2f(e,R.map.offset.x,R.map.offset.y),B.uniform2f(g,R.map.repeat.x,R.map.repeat.y)):(B.uniform2f(e,0,0),B.uniform2f(g,1,1));B.uniform1f(m,R.opacity);B.uniform3f(k,R.color.r,R.color.ka,R.color.K);B.uniform1f(d,R.rotation);B.uniform2fv(h,da);a.state.lk(R.Ba,
R.blendEquation,R.mj,R.lj);a.state.$l(R.pf);a.state.Ip(R.qf);R.map&&R.map.ha&&R.map.ha.width?a.Ci(R.map,0):a.Ci(G,0);B.drawElements(B.TRIANGLES,6,B.UNSIGNED_SHORT,0)}B.enable(B.CULL_FACE);a.Fp()}}};
f.HA={Hb:function(a,b,c){f.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var e;b instanceof f.za&&(b.Bb&&Qe(b),e=b.Va,b=b.G);a.Hb(b,e,c)},Pa:function(a){f.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.Pa()}};
f.JA={crossOrigin:void 0,NE:function(a,b,c,e){var g=new f.xg;g.crossOrigin=this.crossOrigin;var d=new f.fb(void 0,b);g.load(a,function(a){d.ha=a;d.V=!0;c&&c(d)},void 0,function(a){e&&e(a)});d.xm=a;return d},OE:function(a,b,c,e){var g=new f.xg;g.crossOrigin=this.crossOrigin;var d=new f.tg([],b);d.Tg=!1;var h=0;b=function(b){g.load(a[b],function(a){d.images[b]=a;h+=1;6===h&&(d.V=!0,c&&c(d))},void 0,e)};for(var k=0,l=a.length;k<l;++k)b(k);return d},LE:function(){f.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},
ME:function(){f.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},PD:function(a,b){b|=1;var c=a.width,e=a.height,g=document.createElement("canvas");g.width=c;g.height=e;var d=g.getContext("2d");d.drawImage(a,0,0);for(var h=d.getImageData(0,0,c,e).data,k=d.createImageData(c,e),l=k.data,m=0;m<c;m++)for(var q=0;q<e;q++){var r=0>q-1?0:q-1,p=q+1>e-1?e-1:q+1,u=0>m-1?0:m-1,v=m+1>c-1?c-1:m+1,t=[],w=[0,0,h[4*(q*c+m)]/255*b];t.push([-1,0,h[4*(q*c+u)]/255*b]);
t.push([-1,-1,h[4*(r*c+u)]/255*b]);t.push([0,-1,h[4*(r*c+m)]/255*b]);t.push([1,-1,h[4*(r*c+v)]/255*b]);t.push([1,0,h[4*(q*c+v)]/255*b]);t.push([1,1,h[4*(p*c+v)]/255*b]);t.push([0,1,h[4*(p*c+m)]/255*b]);t.push([-1,1,h[4*(p*c+u)]/255*b]);r=[];u=t.length;for(p=0;p<u;p++){var v=t[p],z=t[(p+1)%u],v=[v[0]-w[0],v[1]-w[1],v[2]-w[2]],z=[z[0]-w[0],z[1]-w[1],z[2]-w[2]],v=[v[1]*z[2]-v[2]*z[1],v[2]*z[0]-v[0]*z[2],v[0]*z[1]-v[1]*z[0]],z=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]);r.push([v[0]/z,v[1]/z,v[2]/z])}t=
[0,0,0];for(p=0;p<r.length;p++)t[0]+=r[p][0],t[1]+=r[p][1],t[2]+=r[p][2];t[0]/=r.length;t[1]/=r.length;t[2]/=r.length;w=4*(q*c+m);l[w]=(t[0]+1)/2*255|0;l[w+1]=(t[1]+1)/2*255|0;l[w+2]=255*t[2]|0;l[w+3]=255}d.putImageData(k,0,0);return g},ND:function(a,b,c){var e=a*b,g=new Uint8Array(3*e),d=Math.floor(255*c.r),h=Math.floor(255*c.ka);c=Math.floor(255*c.K);for(var k=0;k<e;k++)g[3*k]=d,g[3*k+1]=h,g[3*k+2]=c;a=new f.wd(g,a,b,f.Zi);a.V=!0;return a}};
f.eB={eC:function(a,b){for(var c=new f.P,e=0,g=b.length;e<g;e++)c.add(new f.za(a,b[e]));return c},detach:function(a,b,c){a.ze(b.M);b.remove(a);c.add(a)},yB:function(a,b,c){var e=new f.Ea;e.Ud(c.M);a.ze(e);b.remove(a);c.add(a)}};
f.$c={F:{},face:"helvetiker",weight:"normal",style:"normal",size:150,zo:10,Dx:function(){try{return this.F[this.face][this.weight][this.style]}catch(a){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing.";}},Ws:function(a){var b=a.zD.toLowerCase();this.F[b]=this.F[b]||{};this.F[b][a.so]=this.F[b][a.so]||{};this.F[b][a.so][a.cx]=a;return this.F[b][a.so][a.cx]=a},jx:function(a){var b=this.Dx(),c=this.size/b.JG,e=0,g=String(a).split(""),d=g.length,h=[];for(a=
0;a<d;a++){var k=new f.ue,k=this.nx(g[a],b,c,e,k),e=e+k.offset;h.push(k.path)}return{cz:h,offset:e/2}},nx:function(a,b,c,e,g){var d=[],h,k,l,m,q,r,p,u,v,t=b.Mx[a]||b.Mx["?"];if(t){if(t.Ty)for(b=t.Vv||(t.Vv=t.Ty.split(" ")),m=b.length,a=0;a<m;)switch(l=b[a++],l){case "m":l=b[a++]*c+e;q=b[a++]*c;g.moveTo(l,q);break;case "l":l=b[a++]*c+e;q=b[a++]*c;g.lineTo(l,q);break;case "q":l=b[a++]*c+e;q=b[a++]*c;r=b[a++]*c+e;p=b[a++]*c;g.quadraticCurveTo(r,p,l,q);if(d[d.length-1])for(h=1,k=this.zo;h<=k;h++);break;
case "b":if(l=b[a++]*c+e,q=b[a++]*c,r=b[a++]*c+e,p=b[a++]*c,u=b[a++]*c+e,v=b[a++]*c,g.bezierCurveTo(r,p,u,v,l,q),d[d.length-1])for(h=1,k=this.zo;h<=k;h++);}return{offset:t.YD*c,path:g}}}};
f.$c.yx=function(a,b){b=b||{};var c=void 0!==b.Bj?b.Bj:4,e=void 0!==b.font?b.font:"helvetiker",g=void 0!==b.weight?b.weight:"normal",d=void 0!==b.style?b.style:"normal";f.$c.size=void 0!==b.size?b.size:100;f.$c.zo=c;f.$c.face=e;f.$c.weight=g;f.$c.style=d;c=f.$c.jx(a).cz;e=[];g=0;for(d=c.length;g<d;g++)Array.prototype.push.apply(e,qf(c[g]));return e};
(function(a){function b(a){for(var b=a.length,g=0,d=b-1,h=0;h<b;d=h++)g+=a[d].x*a[h].y-a[h].x*a[d].y;return.5*g}a.xn=function(a,e){var g=a.length;if(3>g)return null;var d=[],h=[],k=[],l,m,q;if(0<b(a))for(m=0;m<g;m++)h[m]=m;else for(m=0;m<g;m++)h[m]=g-1-m;var r=2*g;for(m=g-1;2<g;){if(0>=r--){f.warn("THREE.FontUtils: Warning, unable to triangulate polygon! in Triangulate.process()");break}l=m;g<=l&&(l=0);m=l+1;g<=m&&(m=0);q=m+1;g<=q&&(q=0);var p;a:{var u=void 0,v=void 0,t=void 0,w=void 0,z=void 0,x=
void 0,D=void 0,B=void 0,u=a[h[l]].x,v=a[h[l]].y,t=a[h[m]].x,w=a[h[m]].y,z=a[h[q]].x,x=a[h[q]].y;if(1E-10>(t-u)*(x-v)-(w-v)*(z-u))p=!1;else{var E=void 0,A=void 0,F=void 0,G=void 0,y=void 0,C=void 0,I=void 0,V=void 0,Q=void 0,L=void 0,Q=V=I=B=D=void 0,E=z-t,A=x-w,F=u-z,G=v-x,y=t-u,C=w-v;for(p=0;p<g;p++)if(D=a[h[p]].x,B=a[h[p]].y,!(D===u&&B===v||D===t&&B===w||D===z&&B===x)&&(I=D-u,V=B-v,Q=D-t,L=B-w,D-=z,B-=x,Q=E*L-A*Q,I=y*V-C*I,V=F*B-G*D,-1E-10<=Q&&-1E-10<=V&&-1E-10<=I)){p=!1;break a}p=!0}}if(p){d.push([a[h[l]],
a[h[m]],a[h[q]]]);k.push([h[l],h[m],h[q]]);l=m;for(q=m+1;q<g;l++,q++)h[l]=h[q];g--;r=2*g}}return e?k:d};a.xn.Vu=b;return a})(f.$c);self.m={F:f.$c.F,Ws:f.$c.Ws};f.MH=self.m;
f.Audio=function(a){f.P.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.Vy.bind(this);this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.vp=this.context.createPanner();this.vp.connect(this.gain);this.autoplay=!1;this.startTime=0;this.bc=!1};f.Audio.prototype=Object.create(f.P.prototype);na=f.Audio.prototype;na.constructor=f.Audio;
na.load=function(a){var b=this,c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(){b.context.decodeAudioData(this.response,function(a){b.source.buffer=a;b.autoplay&&b.play()})};c.send();return this};
na.play=function(){if(!0===this.bc)f.warn("THREE.Audio: Audio is already playing.");else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.connect(this.vp);a.start(0,this.startTime);this.bc=!0;this.source=a}};na.pause=function(){this.source.stop();this.startTime=this.context.currentTime};na.stop=function(){this.source.stop();this.startTime=0};na.Vy=function(){this.bc=!1};
na.xb=function(){var a=new f.g;return function(b){f.P.prototype.xb.call(this,b);Ce(a,this.M);this.vp.setPosition(a.x,a.y,a.z)}}();f.AudioListener=function(){f.P.call(this);this.type="AudioListener";this.context=new (window.AudioContext||window.webkitAudioContext)};f.AudioListener.prototype=Object.create(f.P.prototype);f.AudioListener.prototype.constructor=f.AudioListener;
f.AudioListener.prototype.xb=function(){var a=new f.g,b=new f.Sc,c=new f.g,e=new f.g,g=new f.g,d=new f.g;return function(h){f.P.prototype.xb.call(this,h);h=this.context.listener;var k=this.de;this.M.Rh(a,b,c);var l=e.set(0,0,-1),m=b,q=l.x,r=l.y,p=l.z,u=m.x,v=m.y,t=m.z,m=m.H,w=m*q+v*p-t*r,z=m*r+t*q-u*p,x=m*p+u*r-v*q,q=-u*q-v*r-t*p;l.x=w*m+q*-u+z*-t-x*-v;l.y=z*m+q*-v+x*-u-w*-t;l.z=x*m+q*-t+w*-v-z*-u;g.eb(a,d);h.setPosition(a.x,a.y,a.z);h.setOrientation(e.x,e.y,e.z,k.x,k.y,k.z);h.setVelocity(g.x,g.y,
g.z);d.A(a)}}();f.Xa=function(){};na=f.Xa.prototype;na.Rb=function(){f.warn("THREE.Curve: Warning, getPoint() not implemented!");return null};na.Lj=function(a){a=rf(this,a);return this.Rb(a)};na.Mj=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.Rb(b/a));return c};na.Nj=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.Lj(b/a));return c};na.di=function(){var a=sf(this);return a[a.length-1]};
function sf(a){var b;b||(b=a.Qv?a.Qv:200);if(a.oo&&a.oo.length==b+1&&!a.V)return a.oo;a.V=!1;var c=[],e,g=a.Rb(0),d,h=0;c.push(0);for(d=1;d<=b;d++)e=a.Rb(d/b),h+=e.sf(g),c.push(h),g=e;return a.oo=c}function rf(a,b,c){a=sf(a);var e=0,g=a.length;b=c?c:b*a[g-1];c=0;for(var d=g-1,h;c<=d;)if(e=Math.floor(c+(d-c)/2),h=a[e]-b,0>h)c=e+1;else if(0<h)d=e-1;else{d=e;break}e=d;if(a[e]==b)return e/(g-1);c=a[e];return(e+(b-c)/(a[e+1]-c))/(g-1)}
na.Oj=function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.Rb(b);return this.Rb(a).clone().sub(b).normalize()};f.Xa.m={su:function(a,b,c,e){return 2*(1-a)*(c-b)+2*a*(e-c)},qu:function(a,b,c,e,g){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*e*(1-a)-3*a*a*e+3*a*a*g},wH:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},ld:function(a,b,c,e,g){a=.5*(c-a);e=.5*(e-b);var d=g*g;return(2*b-2*c+a+e)*g*d+(-3*b+3*c-2*a-e)*d+a*g+b}};
f.Xa.J=function(a,b){a.prototype=Object.create(f.Xa.prototype);a.prototype.constructor=a;a.prototype.Rb=b;return a};f.Ki=function(){this.Jc=[];this.ll=[]};f.Ki.prototype=Object.create(f.Xa.prototype);na=f.Ki.prototype;na.constructor=f.Ki;na.add=function(a){this.Jc.push(a)};na.Rb=function(a){var b=a*this.di(),c=tf(this);for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.Jc[a],b=1-b/a.di(),a.Lj(b);a++}return null};na.di=function(){var a=tf(this);return a[a.length-1]};
function tf(a){if(a.qo&&a.qo.length==a.Jc.length)return a.qo;var b=[],c=0,e,g=a.Jc.length;for(e=0;e<g;e++)c+=a.Jc[e].di(),b.push(c);return a.qo=b}na.xs=function(){var a=this.Mj(),b,c,e,g,d,h;b=c=Number.NEGATIVE_INFINITY;g=d=Number.POSITIVE_INFINITY;var k,l,m,q,r=a[0]instanceof f.g;q=r?new f.g:new f.C;l=0;for(m=a.length;l<m;l++)k=a[l],k.x>b?b=k.x:k.x<g&&(g=k.x),k.y>c?c=k.y:k.y<d&&(d=k.y),r&&(k.z>e?e=k.z:k.z<h&&(h=k.z)),q.add(k);a={EF:g,FF:d,Dy:b,sF:c};r&&(a.tF=e,a.GF=h);return a};
function uf(a,b,c){b=a.Mj(b);var e,g;c||(c=a.ll);e=0;for(g=c.length;e<g;e++)b=vf(a,b,c[e]);return b}function wf(a,b,c){b=a.Nj(b);var e,g;c||(c=a.ll);e=0;for(g=c.length;e<g;e++)b=vf(a,b,c[e]);return b}function vf(a,b,c){a=a.xs();var e,g,d,h,k,l;e=0;for(g=b.length;e<g;e++)d=b[e],h=d.x,k=d.y,l=h/a.Dy,l=rf(c,l,h),h=c.Rb(l),l=c.Oj(l),l.set(-l.y,l.x).qa(k),d.x=h.x+l.x,d.y=h.y+l.y;return b}f.Ri=function(){f.P.call(this)};f.Ri.prototype=Object.create(f.P.prototype);f.Ri.prototype.constructor=f.Ri;
f.Ri.prototype.xb=function(){var a=new f.g,b=new f.Sc,c=new f.g,e=new f.g,g=new f.Sc,d=new f.g;return function(h){this.Bb&&Qe(this);if(this.xf||h)this.parent?(Ae(this.M,this.parent.M,this.Va),this.M.Rh(e,g,d),this.Va.Rh(a,b,c),h=this.M,Ge(h,b),h.scale(d),h.setPosition(e)):this.M.A(this.Va),this.xf=!1,h=!0;for(var k=0,l=this.children.length;k<l;k++)this.children[k].xb(h)}}();
f.ue=function(a){f.Ki.call(this);this.Ya=[];if(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)}};f.ue.prototype=Object.create(f.Ki.prototype);f.ue.prototype.constructor=f.ue;f.ad={kn:"moveTo",wq:"lineTo",Iq:"quadraticCurveTo",jq:"bezierCurveTo",Mu:"splineThru",Hu:"arc",rq:"ellipse"};na=f.ue.prototype;na.moveTo=function(a,b){var c=Array.prototype.slice.call(arguments);this.Ya.push({action:f.ad.kn,ed:c})};
na.lineTo=function(a,b){var c=Array.prototype.slice.call(arguments),e=this.Ya[this.Ya.length-1].ed,e=new f.yg(new f.C(e[e.length-2],e[e.length-1]),new f.C(a,b));this.Jc.push(e);this.Ya.push({action:f.ad.wq,ed:c})};na.quadraticCurveTo=function(a,b,c,e){var g=Array.prototype.slice.call(arguments),d=this.Ya[this.Ya.length-1].ed,d=new f.Bh(new f.C(d[d.length-2],d[d.length-1]),new f.C(a,b),new f.C(c,e));this.Jc.push(d);this.Ya.push({action:f.ad.Iq,ed:g})};
na.bezierCurveTo=function(a,b,c,e,g,d){var h=Array.prototype.slice.call(arguments),k=this.Ya[this.Ya.length-1].ed,k=new f.sh(new f.C(k[k.length-2],k[k.length-1]),new f.C(a,b),new f.C(c,e),new f.C(g,d));this.Jc.push(k);this.Ya.push({action:f.ad.jq,ed:h})};na.arc=function(a,b,c,e,g,d){var h=this.Ya[this.Ya.length-1].ed;this.lw(a+h[h.length-2],b+h[h.length-1],c,c,e,g,d)};
na.lw=function(a,b,c,e,g,d,h){var k=Array.prototype.slice.call(arguments),l=new f.vg(a,b,c,e,g,d,h);this.Jc.push(l);l=l.Rb(1);k.push(l.x);k.push(l.y);this.Ya.push({action:f.ad.rq,ed:k})};na.Nj=function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.Rb(c/a));return b};
na.Mj=function(a,b){if(this.fA)return console.log("tata"),this.Nj(a,b);a=a||12;var c=[],e,g,d,h,k,l,m,q,r,p,u,v,t;e=0;for(g=this.Ya.length;e<g;e++)switch(d=this.Ya[e],h=d.action,d=d.ed,h){case f.ad.kn:c.push(new f.C(d[0],d[1]));break;case f.ad.wq:c.push(new f.C(d[0],d[1]));break;case f.ad.Iq:k=d[2];l=d[3];r=d[0];p=d[1];0<c.length?(h=c[c.length-1],u=h.x,v=h.y):(h=this.Ya[e-1].ed,u=h[h.length-2],v=h[h.length-1]);for(d=1;d<=a;d++)t=d/a,h=f.Ta.m.Mg(t,u,r,k),t=f.Ta.m.Mg(t,v,p,l),c.push(new f.C(h,t));break;
case f.ad.jq:k=d[4];l=d[5];r=d[0];p=d[1];m=d[2];q=d[3];0<c.length?(h=c[c.length-1],u=h.x,v=h.y):(h=this.Ya[e-1].ed,u=h[h.length-2],v=h[h.length-1]);for(d=1;d<=a;d++)t=d/a,h=f.Ta.m.Ng(t,u,r,m,k),t=f.Ta.m.Ng(t,v,p,q,l),c.push(new f.C(h,t));break;case f.ad.Mu:h=this.Ya[e-1].ed;t=[new f.C(h[h.length-2],h[h.length-1])];h=a*d[0].length;t=t.concat(d[0]);t=new f.aj(t);for(d=1;d<=h;d++)c.push(t.Lj(d/h));break;case f.ad.Hu:k=d[0];l=d[1];p=d[2];m=d[3];h=d[4];r=!!d[5];u=h-m;v=2*a;for(d=1;d<=v;d++)t=d/v,r||(t=
1-t),t=m+t*u,h=k+p*Math.cos(t),t=l+p*Math.sin(t),c.push(new f.C(h,t));break;case f.ad.rq:for(k=d[0],l=d[1],p=d[2],q=d[3],m=d[4],h=d[5],r=!!d[6],u=h-m,v=2*a,d=1;d<=v;d++)t=d/v,r||(t=1-t),t=m+t*u,h=k+p*Math.cos(t),t=l+q*Math.sin(t),c.push(new f.C(h,t))}e=c[c.length-1];1E-10>Math.abs(e.x-c[0].x)&&1E-10>Math.abs(e.y-c[0].y)&&c.splice(c.length-1,1);b&&c.push(c[0]);return c};
function qf(a){function b(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],g=new f.Ta;g.Ya=e.Ya;g.Jc=e.Jc;b.push(g)}return b}function c(a,b){for(var c=b.length,d=!1,e=c-1,g=0;g<c;e=g++){var h=b[e],k=b[g],l=k.x-h.x,m=k.y-h.y;if(1E-10<Math.abs(m)){if(0>m&&(h=b[g],l=-l,k=b[e],m=-m),!(a.y<h.y||a.y>k.y))if(a.y==h.y){if(a.x==h.x)return!0}else{e=m*(a.x-h.x)-l*(a.y-h.y);if(0==e)return!0;0>e||(d=!d)}}else if(a.y==h.y&&(k.x<=a.x&&a.x<=h.x||h.x<=a.x&&a.x<=k.x))return!0}return d}a=function(a){var b,c,d,e,g=
[],h=new f.ue;b=0;for(c=a.length;b<c;b++)d=a[b],e=d.ed,d=d.action,d==f.ad.kn&&0!=h.Ya.length&&(g.push(h),h=new f.ue),h[d].apply(h,e);0!=h.Ya.length&&g.push(h);return g}(a.Ya);if(0==a.length)return[];var e,g,d,h=[];if(1==a.length)return g=a[0],d=new f.Ta,d.Ya=g.Ya,d.Jc=g.Jc,h.push(d),h;var k=!f.Ta.m.gi(a[0].Mj());d=[];var l=[],m=[],q=0,r;l[q]=void 0;m[q]=[];var p,u;p=0;for(u=a.length;p<u;p++)g=a[p],r=g.Mj(),(e=f.Ta.m.gi(r))?(!k&&l[q]&&q++,l[q]={Gp:new f.Ta,p:r},l[q].Gp.Ya=g.Ya,l[q].Gp.Jc=g.Jc,k&&q++,
m[q]=[]):m[q].push({Nx:g,p:r[0]});if(!l[0])return b(a);if(1<l.length){p=!1;u=[];g=0;for(a=l.length;g<a;g++)d[g]=[];g=0;for(a=l.length;g<a;g++)for(e=m[g],k=0;k<e.length;k++){q=e[k];r=!0;for(var v=0;v<l.length;v++)c(q.p,l[v].p)&&(g!=v&&u.push({JD:g,GH:v,aE:k}),r?(r=!1,d[v].push(q)):p=!0);r&&d[g].push(q)}0<u.length&&(p||(m=d))}p=0;for(u=l.length;p<u;p++)for(d=l[p].Gp,h.push(d),g=m[p],a=0,e=g.length;a<e;a++)d.uf.push(g[a].Nx);return h}f.Ta=function(){f.ue.apply(this,arguments);this.uf=[]};
f.Ta.prototype=Object.create(f.ue.prototype);f.Ta.prototype.constructor=f.Ta;function xf(a,b){var c;if(a.fA){c=wf(a,b);var e,g=a.uf.length,d=[];for(e=0;e<g;e++)d[e]=wf(a.uf[e],b,a.ll);c={shape:c,uf:d}}else{c=uf(a,b);g=a.uf.length;d=[];for(e=0;e<g;e++)d[e]=uf(a.uf[e],b,a.ll);c={shape:c,uf:d}}return c}
f.Ta.m={yu:function(a,b){function c(a,b,c){return a.x!=b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function e(a,b,d,e){var g=!0,h=b.x-a.x,k=b.y-a.y,l=e.x-d.x,m=e.y-d.y,q=a.x-d.x,r=a.y-d.y,F=k*l-h*m,G=k*q-h*r;if(1E-10<Math.abs(F)){if(0<F){if(0>G||G>F)return[];l=m*q-l*r;if(0>l||l>F)return[]}else{if(0<G||G<F)return[];l=m*q-l*r;if(0<l||l<F)return[]}if(0==l)return!g||0!=G&&G!=F?[a]:[];if(l==F)return!g||0!=G&&G!=F?[b]:[];if(0==G)return[d];if(G==F)return[e];
g=l/F;return[{x:a.x+g*h,y:a.y+g*k}]}if(0!=G||m*q!=l*r)return[];k=0==h&&0==k;l=0==l&&0==m;if(k&&l)return a.x!=d.x||a.y!=d.y?[]:[a];if(k)return c(d,e,a)?[a]:[];if(l)return c(a,b,d)?[d]:[];0!=h?(a.x<b.x?(h=a,l=a.x,k=b,a=b.x):(h=b,l=b.x,k=a,a=a.x),d.x<e.x?(b=d,F=d.x,m=e,d=e.x):(b=e,F=e.x,m=d,d=d.x)):(a.y<b.y?(h=a,l=a.y,k=b,a=b.y):(h=b,l=b.y,k=a,a=a.y),d.y<e.y?(b=d,F=d.y,m=e,d=e.y):(b=e,F=e.y,m=d,d=d.y));return l<=F?a<F?[]:a==F?g?[]:[b]:a<=d?[b,k]:[b,m]:l>d?[]:l==d?g?[]:[h]:a<=d?[h,k]:[h,m]}function g(a,
b,c,d){var e=b.x-a.x,g=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var h=d.x-a.x;d=d.y-a.y;a=e*c-g*b;e=e*d-g*h;return 1E-10<Math.abs(a)?(b=h*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var d,h,k,l,m,q={};k=a.concat();d=0;for(h=b.length;d<h;d++)Array.prototype.push.apply(k,b[d]);d=0;for(h=k.length;d<h;d++)m=k[d].x+":"+k[d].y,void 0!==q[m]&&f.warn("THREE.Shape: Duplicate point",m),q[m]=d;d=function(a,b){function c(a,b){var d=k.length-1,e=a-1;0>e&&(e=d);var h=a+1;h>d&&(h=0);d=g(k[a],k[e],k[h],l[b]);if(!d)return!1;d=l.length-
1;e=b-1;0>e&&(e=d);h=b+1;h>d&&(h=0);return g(l[b],l[e],l[h],k[a])?!0:!1}function d(a,b){var c,g;for(c=0;c<k.length;c++)if(g=c+1,g%=k.length,g=e(a,b,k[c],k[g]),0<g.length)return!0;return!1}function h(a,c){var d,g,k,l;for(d=0;d<m.length;d++)for(g=b[m[d]],k=0;k<g.length;k++)if(l=k+1,l%=g.length,l=e(a,c,g[k],g[l]),0<l.length)return!0;return!1}var k=a.concat(),l,m=[],q,r,A,F,G,y=[],C,I,V,Q=0;for(q=b.length;Q<q;Q++)m.push(Q);C=0;for(var L=2*m.length;0<m.length;){L--;if(0>L){console.log("Infinite Loop! Holes left:"+
m.length+", Probably Hole outside Shape!");break}for(r=C;r<k.length;r++){A=k[r];q=-1;for(Q=0;Q<m.length;Q++)if(F=m[Q],G=A.x+":"+A.y+":"+F,void 0===y[G]){l=b[F];for(I=0;I<l.length;I++)if(F=l[I],c(r,I)&&!d(A,F)&&!h(A,F)){q=I;m.splice(Q,1);C=k.slice(0,r+1);F=k.slice(r);I=l.slice(q);V=l.slice(0,q+1);k=C.concat(I).concat(V).concat(F);C=r;break}if(0<=q)break;y[G]=!0}if(0<=q)break}}return k}(a,b);var r=f.$c.xn(d,!1);d=0;for(h=r.length;d<h;d++)for(l=r[d],k=0;3>k;k++)m=l[k].x+":"+l[k].y,m=q[m],void 0!==m&&
(l[k]=m);return r.concat()},gi:function(a){return 0>f.$c.xn.Vu(a)},yw:function(a,b){var c=1-a;return c*c*b},zw:function(a,b){return 2*(1-a)*a*b},Aw:function(a,b){return a*a*b},Mg:function(a,b,c,e){return this.yw(a,b)+this.zw(a,c)+this.Aw(a,e)},Bw:function(a,b){var c=1-a;return c*c*c*b},Cw:function(a,b){var c=1-a;return 3*c*c*a*b},Dw:function(a,b){return 3*(1-a)*a*a*b},Ew:function(a,b){return a*a*a*b},Ng:function(a,b,c,e,g){return this.Bw(a,b)+this.Cw(a,c)+this.Dw(a,e)+this.Ew(a,g)}};
f.yg=function(a,b){this.ob=a;this.Db=b};f.yg.prototype=Object.create(f.Xa.prototype);f.yg.prototype.constructor=f.yg;f.yg.prototype.Rb=function(a){var b=this.Db.clone().sub(this.ob);b.qa(a).add(this.ob);return b};f.yg.prototype.Lj=function(a){return this.Rb(a)};f.yg.prototype.Oj=function(){return this.Db.clone().sub(this.ob).normalize()};f.Bh=function(a,b,c){this.qc=a;this.ob=b;this.Db=c};f.Bh.prototype=Object.create(f.Xa.prototype);f.Bh.prototype.constructor=f.Bh;
f.Bh.prototype.Rb=function(a){var b=new f.C;b.x=f.Ta.m.Mg(a,this.qc.x,this.ob.x,this.Db.x);b.y=f.Ta.m.Mg(a,this.qc.y,this.ob.y,this.Db.y);return b};f.Bh.prototype.Oj=function(a){var b=new f.C;b.x=f.Xa.m.su(a,this.qc.x,this.ob.x,this.Db.x);b.y=f.Xa.m.su(a,this.qc.y,this.ob.y,this.Db.y);return b.normalize()};f.sh=function(a,b,c,e){this.qc=a;this.ob=b;this.Db=c;this.ig=e};f.sh.prototype=Object.create(f.Xa.prototype);f.sh.prototype.constructor=f.sh;
f.sh.prototype.Rb=function(a){var b;b=f.Ta.m.Ng(a,this.qc.x,this.ob.x,this.Db.x,this.ig.x);a=f.Ta.m.Ng(a,this.qc.y,this.ob.y,this.Db.y,this.ig.y);return new f.C(b,a)};f.sh.prototype.Oj=function(a){var b;b=f.Xa.m.qu(a,this.qc.x,this.ob.x,this.Db.x,this.ig.x);a=f.Xa.m.qu(a,this.qc.y,this.ob.y,this.Db.y,this.ig.y);b=new f.C(b,a);b.normalize();return b};f.aj=function(a){this.Na=void 0==a?[]:a};f.aj.prototype=Object.create(f.Xa.prototype);f.aj.prototype.constructor=f.aj;
f.aj.prototype.Rb=function(a){var b=this.Na;a*=b.length-1;var c=Math.floor(a);a-=c;var e=b[0==c?c:c-1],g=b[c],d=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=new f.C;c.x=f.Xa.m.ld(e.x,g.x,d.x,b.x,a);c.y=f.Xa.m.ld(e.y,g.y,d.y,b.y,a);return c};f.vg=function(a,b,c,e,g,d,h){this.jw=a;this.kw=b;this.mA=c;this.nA=e;this.Gr=g;this.Fr=d;this.iw=h};f.vg.prototype=Object.create(f.Xa.prototype);f.vg.prototype.constructor=f.vg;
f.vg.prototype.Rb=function(a){var b=this.Fr-this.Gr;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);a=!0===this.iw?this.Fr+(1-a)*(2*Math.PI-b):this.Gr+a*b;b=new f.C;b.x=this.jw+this.mA*Math.cos(a);b.y=this.kw+this.nA*Math.sin(a);return b};f.Qm=function(a,b,c,e,g,d){f.vg.call(this,a,b,c,c,e,g,d)};f.Qm.prototype=Object.create(f.vg.prototype);f.Qm.prototype.constructor=f.Qm;f.OA=f.Xa.J(function(a,b){this.ob=a;this.Db=b},function(a){var b=new f.g;b.eb(this.Db,this.ob);b.qa(a);b.add(this.ob);return b});
f.bB=f.Xa.J(function(a,b,c){this.qc=a;this.ob=b;this.Db=c},function(a){var b=new f.g;b.x=f.Ta.m.Mg(a,this.qc.x,this.ob.x,this.Db.x);b.y=f.Ta.m.Mg(a,this.qc.y,this.ob.y,this.Db.y);b.z=f.Ta.m.Mg(a,this.qc.z,this.ob.z,this.Db.z);return b});
f.xA=f.Xa.J(function(a,b,c,e){this.qc=a;this.ob=b;this.Db=c;this.ig=e},function(a){var b=new f.g;b.x=f.Ta.m.Ng(a,this.qc.x,this.ob.x,this.Db.x,this.ig.x);b.y=f.Ta.m.Ng(a,this.qc.y,this.ob.y,this.Db.y,this.ig.y);b.z=f.Ta.m.Ng(a,this.qc.z,this.ob.z,this.Db.z,this.ig.z);return b});
f.zv=f.Xa.J(function(a){this.Na=void 0==a?[]:a},function(a){var b=this.Na;a*=b.length-1;var c=Math.floor(a);a-=c;var e=b[0==c?c:c-1],g=b[c],d=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=new f.g;c.x=f.Xa.m.ld(e.x,g.x,d.x,b.x,a);c.y=f.Xa.m.ld(e.y,g.y,d.y,b.y,a);c.z=f.Xa.m.ld(e.z,g.z,d.z,b.z,a);return c});
f.vA=f.Xa.J(function(a){this.Na=void 0==a?[]:a},function(a){var b=this.Na;a*=b.length-0;var c=Math.floor(a);a-=c;var c=c+(0<c?0:(Math.floor(Math.abs(c)/b.length)+1)*b.length),e=b[(c-1)%b.length],g=b[c%b.length],d=b[(c+1)%b.length],b=b[(c+2)%b.length],c=new f.g;c.x=f.Xa.m.ld(e.x,g.x,d.x,b.x,a);c.y=f.Xa.m.ld(e.y,g.y,d.y,b.y,a);c.z=f.Xa.m.ld(e.z,g.z,d.z,b.z,a);return c});
f.fc={LINEAR:0,Wm:1,Ek:2,add:function(){f.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){f.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){f.warn("THREE.AnimationHandler.remove() has been deprecated.")},dd:[],vc:function(a){if(!0===a.by)return a;for(var b=0;b<a.W.length;b++){for(var c=0;c<a.W[b].keys.length;c++)if(0>a.W[b].keys[c].time&&(a.W[b].keys[c].time=0),void 0!==a.W[b].keys[c].kk&&!(a.W[b].keys[c].kk instanceof f.Sc)){var e=a.W[b].keys[c].kk;
a.W[b].keys[c].kk=(new f.Sc).Wa(e)}if(a.W[b].keys.length&&void 0!==a.W[b].keys[0].$){e={};for(c=0;c<a.W[b].keys.length;c++)for(var g=0;g<a.W[b].keys[c].$.length;g++){var d=a.W[b].keys[c].$[g];e[d]=-1}a.W[b].RH=e;for(c=0;c<a.W[b].keys.length;c++){var h={};for(d in e){for(g=0;g<a.W[b].keys[c].$.length;g++)if(a.W[b].keys[c].$[g]===d){h[d]=a.W[b].keys[c].Iy[g];break}g===a.W[b].keys[c].$.length&&(h[d]=0)}a.W[b].keys[c].Iy=h}}for(c=1;c<a.W[b].keys.length;c++)a.W[b].keys[c].time===a.W[b].keys[c-1].time&&
(a.W[b].keys.splice(c,1),c--);for(c=0;c<a.W[b].keys.length;c++)a.W[b].keys[c].index=c}a.by=!0;return a},parse:function(a){function b(a,c){c.push(a);for(var e=0;e<a.children.length;e++)b(a.children[e],c)}var c=[];if(a instanceof f.Nd)for(var e=0;e<a.dc.Ka.length;e++)c.push(a.dc.Ka[e]);else b(a,c);return c},play:function(a){-1===this.dd.indexOf(a)&&this.dd.push(a)},stop:function(a){a=this.dd.indexOf(a);-1!==a&&this.dd.splice(a,1)},update:function(a){for(var b=0;b<this.dd.length;b++)for(var c=this.dd[b],
e=0,g=c.W.length;e<g;e++){var d=c.W[e].uc;void 0!==d&&(d=d.Ba,d.hh=0,d.vi=0,d.Xl=0)}for(b=0;b<this.dd.length;b++)this.dd[b].update(a)}};f.Pm=function(a,b){this.root=a;this.data=f.fc.vc(b);this.W=f.fc.parse(a);this.currentTime=0;this.wk=1;this.bc=!1;this.loop=!0;this.weight=0;this.Uf=f.fc.LINEAR};
f.Pm.prototype={constructor:f.Pm,Qs:["pos","rot","scl"],play:function(a,b){this.currentTime=void 0!==a?a:0;this.weight=void 0!==b?b:1;this.bc=!0;this.reset();f.fc.play(this)},stop:function(){this.bc=!1;f.fc.stop(this)},reset:function(){for(var a=0,b=this.W.length;a<b;a++){var c=this.W[a];void 0===c.uc&&(c.uc={dd:{},Ba:{hh:0,vi:0,Xl:0}});var e=this.data.name,g=c.uc.dd,d=g[e];void 0===d&&(d={ih:{ui:0,kk:0,Kt:0},fh:{ui:0,kk:0,Kt:0},ot:c.Va},g[e]=d);for(c=0;3>c;c++){for(var e=this.Qs[c],g=this.data.W[a].keys[0],
h=this.Ug(e,a,1);h.time<this.currentTime&&h.index>g.index;)g=h,h=this.Ug(e,a,h.index+1);d.ih[e]=g;d.fh[e]=h}}},update:function(){function a(a,b,c,d,e,g,p){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*p+(-3*(b-c)-2*a-d)*g+a*e+b}function b(b,c){var d=[],e=[],g,r,p,u,v,t;g=(b.length-1)*c;r=Math.floor(g);g-=r;d[0]=0===r?r:r-1;d[1]=r;d[2]=r>b.length-2?r:r+1;d[3]=r>b.length-3?r:r+2;r=b[d[0]];u=b[d[1]];v=b[d[2]];t=b[d[3]];d=g*g;p=g*d;e[0]=a(r[0],u[0],v[0],t[0],g,d,p);e[1]=a(r[1],u[1],v[1],t[1],g,d,p);e[2]=
a(r[2],u[2],v[2],t[2],g,d,p);return e}var c=[],e=new f.g,g=new f.g,d=new f.Sc;return function(a){if(!1!==this.bc&&(this.currentTime+=a*this.wk,0!==this.weight)){a=this.data.length;if(this.currentTime>a||0>this.currentTime)this.loop?(this.currentTime%=a,0>this.currentTime&&(this.currentTime+=a),this.reset()):this.stop();a=0;for(var k=this.W.length;a<k;a++)for(var l=this.W[a],m=l.uc.dd[this.data.name],q=l.uc.Ba,r=0;3>r;r++){var p=this.Qs[r],u=m.ih[p],v=m.fh[p];if(0<this.wk&&v.time<=this.currentTime||
0>this.wk&&u.time>=this.currentTime){u=this.data.W[a].keys[0];for(v=this.Ug(p,a,1);v.time<this.currentTime&&v.index>u.index;)u=v,v=this.Ug(p,a,v.index+1);m.ih[p]=u;m.fh[p]=v}var t=(this.currentTime-u.time)/(v.time-u.time),w=u[p],z=v[p];0>t&&(t=0);1<t&&(t=1);if("pos"===p)if(this.Uf===f.fc.LINEAR)g.x=w[0]+(z[0]-w[0])*t,g.y=w[1]+(z[1]-w[1])*t,g.z=w[2]+(z[2]-w[2])*t,u=this.weight/(this.weight+q.hh),l.position.wf(g,u),q.hh+=this.weight;else{if(this.Uf===f.fc.Wm||this.Uf===f.fc.Ek)c[0]=this.As("pos",a,
u.index-1).ui,c[1]=w,c[2]=z,c[3]=this.Ug("pos",a,v.index+1).ui,t=.33*t+.33,v=b(c,t),u=this.weight/(this.weight+q.hh),q.hh+=this.weight,p=l.position,p.x+=(v[0]-p.x)*u,p.y+=(v[1]-p.y)*u,p.z+=(v[2]-p.z)*u,this.Uf===f.fc.Ek&&(t=b(c,1.01*t),e.set(t[0],t[1],t[2]),e.sub(p),e.y=0,e.normalize(),t=Math.atan2(e.x,e.z),l.rotation.set(0,t,0))}else"rot"===p?(f.Sc.vm(w,z,d,t),0===q.vi?(l.Yc.A(d),q.vi=this.weight):(u=this.weight/(this.weight+q.vi),f.Sc.vm(l.Yc,d,l.Yc,u),q.vi+=this.weight)):"scl"===p&&(g.x=w[0]+(z[0]-
w[0])*t,g.y=w[1]+(z[1]-w[1])*t,g.z=w[2]+(z[2]-w[2])*t,u=this.weight/(this.weight+q.Xl),l.scale.wf(g,u),q.Xl+=this.weight)}return!0}}}(),Ug:function(a,b,c){var e=this.data.W[b].keys;for(c=this.Uf===f.fc.Wm||this.Uf===f.fc.Ek?c<e.length-1?c:e.length-1:c%e.length;c<e.length;c++)if(void 0!==e[c][a])return e[c];return this.data.W[b].keys[0]},As:function(a,b,c){var e=this.data.W[b].keys;for(c=this.Uf===f.fc.Wm||this.Uf===f.fc.Ek?0<c?c:0:0<=c?c:c+e.length;0<=c;c--)if(void 0!==e[c][a])return e[c];return this.data.W[b].keys[e.length-
1]}};f.vq=function(a){this.root=a.node;this.data=f.fc.vc(a);this.W=f.fc.parse(this.root);this.currentTime=0;this.wk=.001;this.bc=!1;this.loop=!0;a=0;for(var b=this.W.length;a<b;a++){var c=this.data.W[a].XG,e=this.W[a];if(this.data.W[a].keys.length&&c){for(var g=0;g<c.length;g++){var d=c[g],h=this.Ug(d,a,0);h&&h.apply(d)}e.Bb=!1;Qe(this.data.W[a].node);e.xf=!0}}};
f.vq.prototype={constructor:f.vq,play:function(a){this.currentTime=void 0!==a?a:0;if(!1===this.bc){this.bc=!0;var b=this.W.length,c,e;for(a=0;a<b;a++)c=this.W[a],e=this.data.W[a],void 0===e.uc&&(e.uc={},e.uc.ih=null,e.uc.fh=null,e.uc.ot=c.Va),c=this.data.W[a].keys,c.length&&(e.uc.ih=c[0],e.uc.fh=c[1],this.startTime=Math.min(c[0].time,this.startTime),this.endTime=Math.max(c[c.length-1].time,this.endTime));this.update(0)}f.fc.play(this)},stop:function(){this.bc=!1;f.fc.stop(this);for(var a=0;a<this.data.W.length;a++){var b=
this.W[a],c=this.data.W[a];if(void 0!==c.uc){var e=c.uc.ot;e.A(b.Va);b.Va=e;delete c.uc}}},update:function(a){if(!1!==this.bc){this.currentTime+=a*this.wk;a=this.data.length;!0===this.loop&&this.currentTime>a&&(this.currentTime%=a);this.currentTime=Math.min(this.currentTime,a);a=0;for(var b=this.W.length;a<b;a++){var c=this.W[a],e=this.data.W[a],g=e.keys,e=e.uc;if(g.length){var d=e.ih,h=e.fh;if(h.time<=this.currentTime){for(;h.time<this.currentTime&&h.index>d.index;)d=h,h=g[d.index+1];e.ih=d;e.fh=
h}h.time>=this.currentTime?d.ld(h,this.currentTime):d.ld(h,h.time);Qe(this.data.W[a].node);c.xf=!0}}}},Ug:function(a,b,c){b=this.data.W[b].keys;for(c%=b.length;c<b.length;c++)if(b[c].Tx(a))return b[c];return b[0]},As:function(a,b,c){b=this.data.W[b].keys;for(c=0<=c?c:c+b.length;0<=c;c--)if(b[c].Tx(a))return b[c];return b[b.length-1]}};f.zq=function(a){this.Fy=a;this.frames=a.od.length;this.currentTime=0;this.duration=1E3;this.loop=!0;this.Be=this.Zg=0;this.bc=!1};
f.zq.prototype={constructor:f.zq,play:function(){this.bc=!0},pause:function(){this.bc=!1},update:function(a){if(!1!==this.bc){this.currentTime+=a;!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration);this.currentTime=Math.min(this.currentTime,this.duration);a=this.duration/this.frames;var b=Math.floor(this.currentTime/a),c=this.Fy.od;b!=this.Be&&(c[this.Zg]=0,c[this.Be]=1,c[b]=0,this.Zg=this.Be,this.Be=b);c[b]=this.currentTime%a/a;c[this.Zg]=1-c[b]}}};
f.qg=function(a,b,c,e,g,d){function h(a,b,c,d,e,g,h,t){var w,z=k.kg,x=k.Ge,D=e/2,B=g/2,E=k.j.length;if("x"===a&&"y"===b||"y"===a&&"x"===b)w="z";else if("x"===a&&"z"===b||"z"===a&&"x"===b)w="y",x=k.wl;else if("z"===a&&"y"===b||"y"===a&&"z"===b)w="x",z=k.wl;var A=z+1,F=x+1,G=e/z,y=g/x,C=new f.g;C[w]=0<h?1:-1;for(e=0;e<F;e++)for(g=0;g<A;g++){var I=new f.g;I[a]=(g*G-D)*c;I[b]=(e*y-B)*d;I[w]=h;k.j.push(I)}for(e=0;e<x;e++)for(g=0;g<z;g++)B=g+A*e,a=g+A*(e+1),b=g+1+A*(e+1),c=g+1+A*e,d=new f.C(g/z,1-e/x),
h=new f.C(g/z,1-(e+1)/x),w=new f.C((g+1)/z,1-(e+1)/x),D=new f.C((g+1)/z,1-e/x),B=new f.sa(B+E,a+E,c+E),B.X.A(C),B.jb.push(C.clone(),C.clone(),C.clone()),B.Wc=t,k.F.push(B),k.Y[0].push([d,h,D]),B=new f.sa(a+E,b+E,c+E),B.X.A(C),B.jb.push(C.clone(),C.clone(),C.clone()),B.Wc=t,k.F.push(B),k.Y[0].push([h.clone(),w,D.clone()])}f.N.call(this);this.type="BoxGeometry";this.Vb={width:a,height:b,depth:c,kg:e,Ge:g,wl:d};this.kg=e||1;this.Ge=g||1;this.wl=d||1;var k=this;e=a/2;g=b/2;d=c/2;h("z","y",-1,-1,c,b,e,
0);h("z","y",1,-1,c,b,-e,1);h("x","z",1,1,a,c,g,2);h("x","z",1,-1,a,c,-g,3);h("x","y",1,-1,a,b,d,4);h("x","y",-1,-1,a,b,-d,5);Te(this)};f.qg.prototype=Object.create(f.N.prototype);f.qg.prototype.constructor=f.qg;
f.Fk=function(a,b,c,e){f.N.call(this);this.type="CircleGeometry";this.Vb={Ca:a,Hp:b,Cm:c,Bm:e};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;e=void 0!==e?e:2*Math.PI;var g,d=[];g=new f.g;var h=new f.C(.5,.5);this.j.push(g);d.push(h);for(g=0;g<=b;g++){var k=new f.g,l=c+g/b*e;k.x=a*Math.cos(l);k.y=a*Math.sin(l);this.j.push(k);d.push(new f.C((k.x/a+1)/2,(k.y/a+1)/2))}c=new f.g(0,0,1);for(g=1;g<=b;g++)this.F.push(new f.sa(g,g+1,0,[c.clone(),c.clone(),c.clone()])),this.Y[0].push([d[g].clone(),
d[g+1].clone(),h.clone()]);this.Ob();this.kb=new f.Od(new f.g,a)};f.Fk.prototype=Object.create(f.N.prototype);f.Fk.prototype.constructor=f.Fk;f.wA=function(a,b,c,e,g,d){f.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry.");return new f.qg(a,b,c,e,g,d)};
f.uh=function(a,b,c,e,g,d,h,k){f.N.call(this);this.type="CylinderGeometry";this.Vb={nz:a,mz:b,height:c,wi:e,Ge:g,Wy:d,Cm:h,Bm:k};a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;e=e||8;g=g||1;d=void 0!==d?d:!1;h=void 0!==h?h:0;k=void 0!==k?k:2*Math.PI;var l=c/2,m,q,r=[],p=[];for(q=0;q<=g;q++){var u=[],v=[],t=q/g,w=t*(b-a)+a;for(m=0;m<=e;m++){var z=m/e,x=new f.g;x.x=w*Math.sin(z*k+h);x.y=-t*c+l;x.z=w*Math.cos(z*k+h);this.j.push(x);u.push(this.j.length-1);v.push(new f.C(z,1-t))}r.push(u);p.push(v)}c=
(b-a)/c;for(m=0;m<e;m++)for(0!==a?(h=this.j[r[0][m]].clone(),k=this.j[r[0][m+1]].clone()):(h=this.j[r[1][m]].clone(),k=this.j[r[1][m+1]].clone()),h.nk(Math.sqrt(h.x*h.x+h.z*h.z)*c).normalize(),k.nk(Math.sqrt(k.x*k.x+k.z*k.z)*c).normalize(),q=0;q<g;q++){var u=r[q][m],v=r[q+1][m],t=r[q+1][m+1],w=r[q][m+1],z=h.clone(),x=h.clone(),D=k.clone(),B=k.clone(),E=p[q][m].clone(),A=p[q+1][m].clone(),F=p[q+1][m+1].clone(),G=p[q][m+1].clone();this.F.push(new f.sa(u,v,w,[z,x,B]));this.Y[0].push([E,A,G]);this.F.push(new f.sa(v,
t,w,[x.clone(),D,B.clone()]));this.Y[0].push([A.clone(),F,G.clone()])}if(!1===d&&0<a)for(this.j.push(new f.g(0,l,0)),m=0;m<e;m++)u=r[0][m],v=r[0][m+1],t=this.j.length-1,z=new f.g(0,1,0),x=new f.g(0,1,0),D=new f.g(0,1,0),E=p[0][m].clone(),A=p[0][m+1].clone(),F=new f.C(A.x,0),this.F.push(new f.sa(u,v,t,[z,x,D])),this.Y[0].push([E,A,F]);if(!1===d&&0<b)for(this.j.push(new f.g(0,-l,0)),m=0;m<e;m++)u=r[g][m+1],v=r[g][m],t=this.j.length-1,z=new f.g(0,-1,0),x=new f.g(0,-1,0),D=new f.g(0,-1,0),E=p[g][m+1].clone(),
A=p[g][m].clone(),F=new f.C(A.x,1),this.F.push(new f.sa(u,v,t,[z,x,D])),this.Y[0].push([E,A,F]);this.Ob()};f.uh.prototype=Object.create(f.N.prototype);f.uh.prototype.constructor=f.uh;f.le=function(a,b){"undefined"!==typeof a&&(f.N.call(this),this.type="ExtrudeGeometry",a=a instanceof Array?a:[a],this.Rn(a,b),this.Ob())};f.le.prototype=Object.create(f.N.prototype);f.le.prototype.constructor=f.le;f.le.prototype.Rn=function(a,b){for(var c=a.length,e=0;e<c;e++)this.Qn(a[e],b)};
f.le.prototype.Qn=function(a,b){function c(a,b,c){b||f.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().qa(c).add(a)}function e(a,b,c){var d=1,d=a.x-b.x,e=a.y-b.y,g=c.x-a.x,h=c.y-a.y,k=d*d+e*e;if(1E-10<Math.abs(d*h-e*g)){var l=Math.sqrt(k),m=Math.sqrt(g*g+h*h),k=b.x-e/l;b=b.y+d/l;g=((c.x-h/m-k)*h-(c.y+g/m-b)*g)/(d*h-e*g);c=k+d*g-a.x;a=b+e*g-a.y;d=c*c+a*a;if(2>=d)return new f.C(c,a);d=Math.sqrt(d/2)}else a=!1,1E-10<d?1E-10<g&&(a=!0):-1E-10>d?-1E-10>g&&(a=!0):Math.sign(e)==Math.sign(h)&&
(a=!0),a?(c=-e,a=d,d=Math.sqrt(k)):(c=d,a=e,d=Math.sqrt(k/2));return new f.C(c/d,a/d)}function g(a,b){var c,d;for(J=a.length;0<=--J;){c=J;d=J-1;0>d&&(d=a.length-1);for(var e=0,g=u+2*q,e=0;e<g;e++){var h=la*e,k=la*(e+1),l=b+c+h,h=b+d+h,m=b+d+k,k=b+c+k,l=l+V,h=h+V,m=m+V,k=k+V;I.F.push(new f.sa(l,h,k,null,null,x));I.F.push(new f.sa(h,m,k,null,null,x));l=D.zx(I,l,h,m,k);I.Y[0].push([l[0],l[1],l[3]]);I.Y[0].push([l[1],l[2],l[3]])}}}function d(a,b,c){I.j.push(new f.g(a,b,c))}function h(a,b,c){a+=V;b+=V;
c+=V;I.F.push(new f.sa(a,b,c,null,null,z));a=D.ws(I,a,b,c);I.Y[0].push(a)}var k=void 0!==b.Mr?b.Mr:100,l=void 0!==b.ao?b.ao:6,m=void 0!==b.$n?b.$n:l-2,q=void 0!==b.Gw?b.Gw:3,r=void 0!==b.Zn?b.Zn:!0,p=void 0!==b.Bj?b.Bj:12,u=void 0!==b.Uz?b.Uz:1,v=b.uD,t,w=!1,z=b.aa,x=b.tD,D=void 0!==b.yn?b.yn:f.le.ab,B,E,A,F;v&&(t=v.Nj(u),w=!0,r=!1,B=void 0!==b.frames?b.frames:new f.bf.m(v,u,!1),E=new f.g,A=new f.g,F=new f.g);r||(m=l=q=0);var G,y,C,I=this,V=this.j.length,v=xf(a,p),p=v.shape,Q=v.uf;if(v=!f.Ta.m.gi(p)){p=
p.reverse();y=0;for(C=Q.length;y<C;y++)G=Q[y],f.Ta.m.gi(G)&&(Q[y]=G.reverse());v=!1}var L=f.Ta.m.yu(p,Q),T=p;y=0;for(C=Q.length;y<C;y++)G=Q[y],p=p.concat(G);var S,N,M,da,R,la=p.length,fa,ua=L.length,v=[],J=0;M=T.length;S=M-1;for(N=J+1;J<M;J++,S++,N++)S===M&&(S=0),N===M&&(N=0),v[J]=e(T[J],T[S],T[N]);var Ja=[],ia,ra=v.concat();y=0;for(C=Q.length;y<C;y++){G=Q[y];ia=[];J=0;M=G.length;S=M-1;for(N=J+1;J<M;J++,S++,N++)S===M&&(S=0),N===M&&(N=0),ia[J]=e(G[J],G[S],G[N]);Ja.push(ia);ra=ra.concat(ia)}for(S=0;S<
q;S++){M=S/q;da=l*(1-M);N=m*Math.sin(M*Math.PI/2);J=0;for(M=T.length;J<M;J++)R=c(T[J],v[J],N),d(R.x,R.y,-da);y=0;for(C=Q.length;y<C;y++)for(G=Q[y],ia=Ja[y],J=0,M=G.length;J<M;J++)R=c(G[J],ia[J],N),d(R.x,R.y,-da)}N=m;for(J=0;J<la;J++)R=r?c(p[J],ra[J],N):p[J],w?(A.A(B.pi[0]).qa(R.x),E.A(B.nl[0]).qa(R.y),F.A(t[0]).add(A).add(E),d(F.x,F.y,F.z)):d(R.x,R.y,0);for(M=1;M<=u;M++)for(J=0;J<la;J++)R=r?c(p[J],ra[J],N):p[J],w?(A.A(B.pi[M]).qa(R.x),E.A(B.nl[M]).qa(R.y),F.A(t[M]).add(A).add(E),d(F.x,F.y,F.z)):d(R.x,
R.y,k/u*M);for(S=q-1;0<=S;S--){M=S/q;da=l*(1-M);N=m*Math.sin(M*Math.PI/2);J=0;for(M=T.length;J<M;J++)R=c(T[J],v[J],N),d(R.x,R.y,k+da);y=0;for(C=Q.length;y<C;y++)for(G=Q[y],ia=Ja[y],J=0,M=G.length;J<M;J++)R=c(G[J],ia[J],N),w?d(R.x,R.y+t[u-1].y,t[u-1].x+da):d(R.x,R.y,k+da)}(function(){if(r){var a;a=0*la;for(J=0;J<ua;J++)fa=L[J],h(fa[2]+a,fa[1]+a,fa[0]+a);a=u+2*q;a*=la;for(J=0;J<ua;J++)fa=L[J],h(fa[0]+a,fa[1]+a,fa[2]+a)}else{for(J=0;J<ua;J++)fa=L[J],h(fa[2],fa[1],fa[0]);for(J=0;J<ua;J++)fa=L[J],h(fa[0]+
la*u,fa[1]+la*u,fa[2]+la*u)}})();(function(){var a=0;g(T,a);a+=T.length;y=0;for(C=Q.length;y<C;y++)G=Q[y],g(G,a),a+=G.length})()};f.le.ab={ws:function(a,b,c,e){a=a.j;b=a[b];c=a[c];e=a[e];return[new f.C(b.x,b.y),new f.C(c.x,c.y),new f.C(e.x,e.y)]},zx:function(a,b,c,e,g){a=a.j;b=a[b];c=a[c];e=a[e];g=a[g];return.01>Math.abs(b.y-c.y)?[new f.C(b.x,1-b.z),new f.C(c.x,1-c.z),new f.C(e.x,1-e.z),new f.C(g.x,1-g.z)]:[new f.C(b.y,1-b.z),new f.C(c.y,1-c.z),new f.C(e.y,1-e.z),new f.C(g.y,1-g.z)]}};
f.$i=function(a,b){f.N.call(this);this.type="ShapeGeometry";!1===a instanceof Array&&(a=[a]);this.Rn(a,b);this.Ob()};f.$i.prototype=Object.create(f.N.prototype);f.$i.prototype.constructor=f.$i;f.$i.prototype.Rn=function(a,b){for(var c=0,e=a.length;c<e;c++)this.Qn(a[c],b);return this};
f.$i.prototype.Qn=function(a,b){void 0===b&&(b={});var c=b.aa,e=void 0===b.yn?f.le.ab:b.yn,g,d,h,k=this.j.length;g=xf(a,void 0!==b.Bj?b.Bj:12);var l=g.shape,m=g.uf;if(!f.Ta.m.gi(l))for(l=l.reverse(),g=0,d=m.length;g<d;g++)h=m[g],f.Ta.m.gi(h)&&(m[g]=h.reverse());var q=f.Ta.m.yu(l,m);g=0;for(d=m.length;g<d;g++)h=m[g],l=l.concat(h);m=l.length;d=q.length;for(g=0;g<m;g++)h=l[g],this.j.push(new f.g(h.x,h.y,0));for(g=0;g<d;g++)m=q[g],l=m[0]+k,h=m[1]+k,m=m[2]+k,this.F.push(new f.sa(l,h,m,null,null,c)),this.Y[0].push(e.ws(this,
l,h,m))};
f.gn=function(a,b,c,e){f.N.call(this);this.type="LatheGeometry";this.Vb={Na:a,Hp:b,tt:c,st:e};b=b||12;c=c||0;e=e||2*Math.PI;for(var g=1/(a.length-1),d=1/b,h=0,k=b;h<=k;h++)for(var l=c+h*d*e,m=Math.cos(l),q=Math.sin(l),l=0,r=a.length;l<r;l++){var p=a[l],u=new f.g;u.x=m*p.x-q*p.y;u.y=q*p.x+m*p.y;u.z=p.z;this.j.push(u)}c=a.length;h=0;for(k=b;h<k;h++)for(l=0,r=a.length-1;l<r;l++){b=q=l+c*h;e=q+c;var m=q+1+c,q=q+1,p=h*d,u=l*g,v=p+d,t=u+g;this.F.push(new f.sa(b,e,q));this.Y[0].push([new f.C(p,u),new f.C(v,
u),new f.C(p,t)]);this.F.push(new f.sa(e,m,q));this.Y[0].push([new f.C(v,u),new f.C(v,t),new f.C(p,t)])}Te(this);this.Ob();this.Ph()};f.gn.prototype=Object.create(f.N.prototype);f.gn.prototype.constructor=f.gn;f.qn=function(a,b,c,e){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint.");f.N.call(this);this.type="PlaneGeometry";this.Vb={width:a,height:b,kg:c,Ge:e};Ue(this,new f.Nk(a,b,c,e))};f.qn.prototype=Object.create(f.N.prototype);
f.qn.prototype.constructor=f.qn;
f.Nk=function(a,b,c,e){f.qb.call(this);this.type="PlaneBufferGeometry";this.Vb={width:a,height:b,kg:c,Ge:e};var g=a/2,d=b/2;c=c||1;e=e||1;var h=c+1,k=e+1,l=a/c,m=b/e;b=new Float32Array(h*k*3);a=new Float32Array(h*k*3);for(var q=new Float32Array(h*k*2),r=0,p=0,u=0;u<k;u++)for(var v=u*m-d,t=0;t<h;t++)b[r]=t*l-g,b[r+1]=-v,a[r+2]=1,q[p]=t/c,q[p+1]=1-u/e,r+=3,p+=2;r=0;g=new (65535<b.length/3?Uint32Array:Uint16Array)(c*e*6);for(u=0;u<e;u++)for(t=0;t<c;t++)d=t+h*(u+1),k=t+1+h*(u+1),l=t+1+h*u,g[r]=t+h*u,
g[r+1]=d,g[r+2]=l,g[r+3]=d,g[r+4]=k,g[r+5]=l,r+=6;Se(this,"index",new f.Ia(g,1));Se(this,"position",new f.Ia(b,3));Se(this,"normal",new f.Ia(a,3));Se(this,"uv",new f.Ia(q,2))};f.Nk.prototype=Object.create(f.qb.prototype);f.Nk.prototype.constructor=f.Nk;
f.tn=function(a,b,c,e,g,d){f.N.call(this);this.type="RingGeometry";this.Vb={gE:a,dG:b,BH:c,mG:e,Cm:g,Bm:d};a=a||0;b=b||50;g=void 0!==g?g:0;d=void 0!==d?d:2*Math.PI;c=void 0!==c?Math.max(3,c):8;e=void 0!==e?Math.max(1,e):8;var h,k=[],l=a,m=(b-a)/e;for(a=0;a<e+1;a++){for(h=0;h<c+1;h++){var q=new f.g,r=g+h/c*d;q.x=l*Math.cos(r);q.y=l*Math.sin(r);this.j.push(q);k.push(new f.C((q.x/b+1)/2,(q.y/b+1)/2))}l+=m}b=new f.g(0,0,1);for(a=0;a<e;a++)for(g=a*(c+1),h=0;h<c;h++)d=r=h+g,m=r+c+1,q=r+c+2,this.F.push(new f.sa(d,
m,q,[b.clone(),b.clone(),b.clone()])),this.Y[0].push([k[d].clone(),k[m].clone(),k[q].clone()]),d=r,m=r+c+2,q=r+1,this.F.push(new f.sa(d,m,q,[b.clone(),b.clone(),b.clone()])),this.Y[0].push([k[d].clone(),k[m].clone(),k[q].clone()]);this.Ob();this.kb=new f.Od(new f.g,l)};f.tn.prototype=Object.create(f.N.prototype);f.tn.prototype.constructor=f.tn;
f.Eh=function(a,b,c,e,g,d,h){f.N.call(this);this.type="SphereGeometry";this.Vb={Ca:a,kg:b,Ge:c,tt:e,st:g,Cm:d,Bm:h};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);e=void 0!==e?e:0;g=void 0!==g?g:2*Math.PI;d=void 0!==d?d:0;h=void 0!==h?h:Math.PI;var k,l,m=[],q=[];for(l=0;l<=c;l++){var r=[],p=[];for(k=0;k<=b;k++){var u=k/b,v=l/c,t=new f.g;t.x=-a*Math.cos(e+u*g)*Math.sin(d+v*h);t.y=a*Math.cos(d+v*h);t.z=a*Math.sin(e+u*g)*Math.sin(d+v*h);this.j.push(t);r.push(this.j.length-1);p.push(new f.C(u,
1-v))}m.push(r);q.push(p)}for(l=0;l<c;l++)for(k=0;k<b;k++){e=m[l][k+1];g=m[l][k];d=m[l+1][k];h=m[l+1][k+1];var r=this.j[e].clone().normalize(),p=this.j[g].clone().normalize(),u=this.j[d].clone().normalize(),v=this.j[h].clone().normalize(),t=q[l][k+1].clone(),w=q[l][k].clone(),z=q[l+1][k].clone(),x=q[l+1][k+1].clone();Math.abs(this.j[e].y)===a?(t.x=(t.x+w.x)/2,this.F.push(new f.sa(e,d,h,[r,u,v])),this.Y[0].push([t,z,x])):Math.abs(this.j[d].y)===a?(z.x=(z.x+x.x)/2,this.F.push(new f.sa(e,g,d,[r,p,u])),
this.Y[0].push([t,w,z])):(this.F.push(new f.sa(e,g,h,[r,p,v])),this.Y[0].push([t,w,x]),this.F.push(new f.sa(g,d,h,[p.clone(),u,v.clone()])),this.Y[0].push([w.clone(),z,x.clone()]))}this.Ob();this.kb=new f.Od(new f.g,a)};f.Eh.prototype=Object.create(f.N.prototype);f.Eh.prototype.constructor=f.Eh;f.wn=function(a,b){b=b||{};var c=f.$c.yx(a,b);b.Mr=void 0!==b.height?b.height:50;void 0===b.ao&&(b.ao=10);void 0===b.$n&&(b.$n=8);void 0===b.Zn&&(b.Zn=!1);f.le.call(this,c,b);this.type="TextGeometry"};
f.wn.prototype=Object.create(f.le.prototype);f.wn.prototype.constructor=f.wn;
f.Rk=function(a,b,c,e,g){f.N.call(this);this.type="TorusGeometry";this.Vb={Ca:a,Zp:b,wi:c,$p:e,arc:g};a=a||100;b=b||40;c=c||8;e=e||6;g=g||2*Math.PI;for(var d=new f.g,h=[],k=[],l=0;l<=c;l++)for(var m=0;m<=e;m++){var q=m/e*g,r=l/c*Math.PI*2;d.x=a*Math.cos(q);d.y=a*Math.sin(q);var p=new f.g;p.x=(a+b*Math.cos(r))*Math.cos(q);p.y=(a+b*Math.cos(r))*Math.sin(q);p.z=b*Math.sin(r);this.j.push(p);h.push(new f.C(m/e,l/c));k.push(p.clone().sub(d).normalize())}for(l=1;l<=c;l++)for(m=1;m<=e;m++)a=(e+1)*l+m-1,b=
(e+1)*(l-1)+m-1,g=(e+1)*(l-1)+m,d=(e+1)*l+m,q=new f.sa(a,b,d,[k[a].clone(),k[b].clone(),k[d].clone()]),this.F.push(q),this.Y[0].push([h[a].clone(),h[b].clone(),h[d].clone()]),q=new f.sa(b,g,d,[k[b].clone(),k[g].clone(),k[d].clone()]),this.F.push(q),this.Y[0].push([h[b].clone(),h[g].clone(),h[d].clone()]);this.Ob()};f.Rk.prototype=Object.create(f.N.prototype);f.Rk.prototype.constructor=f.Rk;
f.Sk=function(a,b,c,e,g,d,h){function k(a,b,c,d,e){var g=Math.cos(a),h=Math.sin(a);a*=b/c;b=Math.cos(a);g=g*d*(2+b)*.5;h=d*(2+b)*h*.5;d=e*d*Math.sin(a)*.5;return new f.g(g,h,d)}f.N.call(this);this.type="TorusKnotGeometry";this.Vb={Ca:a,Zp:b,wi:c,$p:e,p:g,q:d,Vx:h};a=a||100;b=b||40;c=c||64;e=e||8;g=g||2;d=d||3;h=h||1;for(var l=Array(c),m=new f.g,q=new f.g,r=new f.g,p=0;p<c;++p){l[p]=Array(e);var u=p/c*2*g*Math.PI,v=k(u,d,g,a,h),u=k(u+.01,d,g,a,h);m.eb(u,v);q.lf(u,v);De(r,m,q);De(q,r,m);r.normalize();
q.normalize();for(u=0;u<e;++u){var t=u/e*2*Math.PI,w=-b*Math.cos(t),t=b*Math.sin(t),z=new f.g;z.x=v.x+w*q.x+t*r.x;z.y=v.y+w*q.y+t*r.y;z.z=v.z+w*q.z+t*r.z;l[p][u]=this.j.push(z)-1}}for(p=0;p<c;++p)for(u=0;u<e;++u)g=(p+1)%c,d=(u+1)%e,a=l[p][u],b=l[g][u],g=l[g][d],d=l[p][d],h=new f.C(p/c,u/e),m=new f.C((p+1)/c,u/e),q=new f.C((p+1)/c,(u+1)/e),r=new f.C(p/c,(u+1)/e),this.F.push(new f.sa(a,b,d)),this.Y[0].push([h,m,r]),this.F.push(new f.sa(b,g,d)),this.Y[0].push([m.clone(),q,r.clone()]);this.Ob();this.Ph()};
f.Sk.prototype=Object.create(f.N.prototype);f.Sk.prototype.constructor=f.Sk;
f.bf=function(a,b,c,e,g,d){f.N.call(this);this.type="TubeGeometry";this.Vb={path:a,Hp:b,Ca:c,wi:e,closed:g};b=b||64;c=c||1;e=e||8;g=g||!1;d=d||f.bf.J;var h=[],k,l,m=b+1,q,r,p,u,v,t=new f.g,w,z,x;w=new f.bf.m(a,b,g);z=w.pi;x=w.nl;this.tu=w.tu;this.pi=z;this.nl=x;for(w=0;w<m;w++)for(h[w]=[],q=w/(m-1),v=a.Lj(q),k=z[w],l=x[w],p=c*d(q),q=0;q<e;q++)r=q/e*2*Math.PI,u=-p*Math.cos(r),r=p*Math.sin(r),t.A(v),t.x+=u*k.x+r*l.x,t.y+=u*k.y+r*l.y,t.z+=u*k.z+r*l.z,h[w][q]=this.j.push(new f.g(t.x,t.y,t.z))-1;for(w=
0;w<b;w++)for(q=0;q<e;q++)d=g?(w+1)%b:w+1,m=(q+1)%e,a=h[w][q],c=h[d][q],d=h[d][m],m=h[w][m],t=new f.C(w/b,q/e),z=new f.C((w+1)/b,q/e),x=new f.C((w+1)/b,(q+1)/e),k=new f.C(w/b,(q+1)/e),this.F.push(new f.sa(a,c,m)),this.Y[0].push([t,z,k]),this.F.push(new f.sa(c,d,m)),this.Y[0].push([z.clone(),x,k.clone()]);this.Ob();this.Ph()};f.bf.prototype=Object.create(f.N.prototype);f.bf.prototype.constructor=f.bf;f.bf.J=function(){return 1};f.bf.rc=function(a){return Math.sin(Math.PI*a)};
f.bf.m=function(a,b,c){var e=new f.g,g=[],d=[],h=[],k=new f.g,l=new f.Ea;b+=1;var m,q,r;this.tu=g;this.pi=d;this.nl=h;for(m=0;m<b;m++){q=m/(b-1);r=m;var p=a;q=rf(p,q);q=p.Oj(q);g[r]=q;g[m].normalize()}d[0]=new f.g;h[0]=new f.g;a=Number.MAX_VALUE;m=Math.abs(g[0].x);q=Math.abs(g[0].y);r=Math.abs(g[0].z);m<=a&&(a=m,e.set(1,0,0));q<=a&&(a=q,e.set(0,1,0));r<=a&&e.set(0,0,1);De(k,g[0],e).normalize();De(d[0],g[0],k);De(h[0],g[0],d[0]);for(m=1;m<b;m++)d[m]=d[m-1].clone(),h[m]=h[m-1].clone(),De(k,g[m-1],g[m]),
1E-4<k.length()&&(k.normalize(),e=Math.acos(f.Math.nf(g[m-1].Pb(g[m]),-1,1)),d[m].Fa(Le(l,k,e))),De(h[m],g[m],d[m]);if(c)for(e=Math.acos(f.Math.nf(d[0].Pb(d[b-1]),-1,1)),e/=b-1,0<g[0].Pb(De(k,d[0],d[b-1]))&&(e=-e),m=1;m<b;m++)d[m].Fa(Le(l,g[m],e*m)),De(h[m],g[m],d[m])};
f.Bg=function(a,b,c,e){function g(a){var b=a.normalize().clone();b.index=l.j.push(b)-1;var c=Math.atan2(a.z,-a.x)/2/Math.PI+.5;a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5;b.Nc=new f.C(c,1-a);return b}function d(a,b,c){var d=new f.sa(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()]);l.F.push(d);w.A(a).add(b).add(c).Rg(3);d=Math.atan2(w.z,-w.x);l.Y[0].push([k(a.Nc,a,d),k(b.Nc,b,d),k(c.Nc,c,d)])}function h(a,b){for(var c=Math.pow(2,b),e=g(l.j[a.Ja]),h=g(l.j[a.K]),k=g(l.j[a.La]),m=
[],q=0;q<=c;q++){m[q]=[];for(var p=g(e.clone().wf(k,q/c)),r=g(h.clone().wf(k,q/c)),t=c-q,u=0;u<=t;u++)m[q][u]=0==u&&q==c?p:g(p.clone().wf(r,u/t))}for(q=0;q<c;q++)for(u=0;u<2*(c-q)-1;u++)e=Math.floor(u/2),0==u%2?d(m[q][e+1],m[q+1][e],m[q][e]):d(m[q][e+1],m[q+1][e+1],m[q+1][e])}function k(a,b,c){0>c&&1===a.x&&(a=new f.C(a.x-1,a.y));0===b.x&&0===b.z&&(a=new f.C(c/2/Math.PI+.5,a.y));return a.clone()}f.N.call(this);this.type="PolyhedronGeometry";this.Vb={j:a,eE:b,Ca:c,detail:e};c=c||1;e=e||0;for(var l=
this,m=0,q=a.length;m<q;m+=3)g(new f.g(a[m],a[m+1],a[m+2]));a=this.j;for(var r=[],p=m=0,q=b.length;m<q;m+=3,p++){var u=a[b[m]],v=a[b[m+1]],t=a[b[m+2]];r[p]=new f.sa(u.index,v.index,t.index,[u.clone(),v.clone(),t.clone()])}for(var w=new f.g,m=0,q=r.length;m<q;m++)h(r[m],e);m=0;for(q=this.Y[0].length;m<q;m++)b=this.Y[0][m],e=b[0].x,a=b[1].x,r=b[2].x,p=Math.max(e,Math.max(a,r)),u=Math.min(e,Math.min(a,r)),.9<p&&.1>u&&(.2>e&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>r&&(b[2].x+=1));m=0;for(q=this.j.length;m<q;m++)this.j[m].qa(c);
Te(this);this.Ob();this.kb=new f.Od(new f.g,c)};f.Bg.prototype=Object.create(f.N.prototype);f.Bg.prototype.constructor=f.Bg;
f.$m=function(a,b){this.Vb={Ca:a,detail:b};var c=(1+Math.sqrt(5))/2,e=1/c;f.Bg.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-e,-c,0,-e,c,0,e,-c,0,e,c,-e,-c,0,-e,c,0,e,-c,0,e,c,0,-c,0,-e,c,0,-e,-c,0,e,c,0,e],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],
a,b)};f.$m.prototype=Object.create(f.N.prototype);f.$m.prototype.constructor=f.$m;f.Ui=function(a,b){var c=(1+Math.sqrt(5))/2;f.Bg.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.Vb={Ca:a,detail:b}};f.Ui.prototype=Object.create(f.N.prototype);f.Ui.prototype.constructor=f.Ui;
f.on=function(a,b){this.Vb={Ca:a,detail:b};f.Bg.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.Vb={Ca:a,detail:b}};f.on.prototype=Object.create(f.N.prototype);f.on.prototype.constructor=f.on;f.vn=function(a,b){f.Bg.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.Vb={Ca:a,detail:b}};f.vn.prototype=Object.create(f.N.prototype);
f.vn.prototype.constructor=f.vn;
f.pn=function(a,b,c){f.N.call(this);this.type="ParametricGeometry";this.Vb={LD:a,dH:b,lH:c};var e=this.j,g=this.F,d=this.Y[0],h,k,l,m,q=b+1;for(h=0;h<=c;h++)for(m=h/c,k=0;k<=b;k++)l=k/b,l=a(l,m),e.push(l);var r,p,u,v;for(h=0;h<c;h++)for(k=0;k<b;k++)a=h*q+k,e=h*q+k+1,m=(h+1)*q+k+1,l=(h+1)*q+k,r=new f.C(k/b,h/c),p=new f.C((k+1)/b,h/c),u=new f.C((k+1)/b,(h+1)/c),v=new f.C(k/b,(h+1)/c),g.push(new f.sa(a,e,l)),d.push([r,p,v]),g.push(new f.sa(e,m,l)),d.push([p.clone(),u,v.clone()]);this.Ob();this.Ph()};
f.pn.prototype=Object.create(f.N.prototype);f.pn.prototype.constructor=f.pn;f.Sm=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new f.qb;Se(a,"position",new f.Ia(b,3));Se(a,"color",new f.Ia(c,3));b=new f.zb({O:f.Fh});f.ia.call(this,a,b,f.Jd)};f.Sm.prototype=Object.create(f.ia.prototype);f.Sm.prototype.constructor=f.Sm;
f.Ii=function(){var a=new f.N;a.j.push(new f.g(0,0,0),new f.g(0,1,0));var b=new f.uh(0,.5,1,5,1);b.ze(Ne());return function(c,e,g,d,h,k){f.P.call(this);void 0===d&&(d=16776960);void 0===g&&(g=1);void 0===h&&(h=.2*g);void 0===k&&(k=.2*h);this.position.A(e);this.Nl=new f.ia(a,new f.zb({color:d}));this.Nl.Bb=!1;this.add(this.Nl);this.Cd=new f.za(b,new f.Bc({color:d}));this.Cd.Bb=!1;this.add(this.Cd);this.Ez(c);this.bm(g,h,k)}}();f.Ii.prototype=Object.create(f.P.prototype);
f.Ii.prototype.constructor=f.Ii;f.Ii.prototype.Ez=function(){var a=new f.g,b;return function(c){if(.99999<c.y)this.Yc.set(0,0,0,1);else if(-.99999>c.y)this.Yc.set(1,0,0,0);else{a.set(c.z,0,-c.x).normalize();b=Math.acos(c.y);c=this.Yc;var e=b/2,g=Math.sin(e);c.R=a.x*g;c.S=a.y*g;c.T=a.z*g;c.oa=Math.cos(e);c.wb()}}}();f.Ii.prototype.bm=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.Nl.scale.set(1,a-b,1);Qe(this.Nl);this.Cd.scale.set(c,b,c);this.Cd.position.y=a;Qe(this.Cd)};
f.Dk=function(a){var b=new f.qb;Se(b,"position",new f.Ia(new Float32Array(72),3));f.ia.call(this,b,new f.zb({color:16776960}),f.Jd);void 0!==a&&this.update(a)};f.Dk.prototype=Object.create(f.ia.prototype);f.Dk.prototype.constructor=f.Dk;
f.Dk.prototype.update=function(a){var b=a.G;null===b.Ab&&b.Pg();var c=b.Ab.min,b=b.Ab.max,e=this.G.attributes.position.l;e[0]=b.x;e[1]=b.y;e[2]=b.z;e[3]=c.x;e[4]=b.y;e[5]=b.z;e[6]=c.x;e[7]=b.y;e[8]=b.z;e[9]=c.x;e[10]=c.y;e[11]=b.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=c.y;e[20]=b.z;e[21]=b.x;e[22]=b.y;e[23]=b.z;e[24]=b.x;e[25]=b.y;e[26]=c.z;e[27]=c.x;e[28]=b.y;e[29]=c.z;e[30]=c.x;e[31]=b.y;e[32]=c.z;e[33]=c.x;e[34]=c.y;e[35]=c.z;e[36]=c.x;e[37]=c.y;e[38]=c.z;
e[39]=b.x;e[40]=c.y;e[41]=c.z;e[42]=b.x;e[43]=c.y;e[44]=c.z;e[45]=b.x;e[46]=b.y;e[47]=c.z;e[48]=b.x;e[49]=b.y;e[50]=b.z;e[51]=b.x;e[52]=b.y;e[53]=c.z;e[54]=c.x;e[55]=b.y;e[56]=b.z;e[57]=c.x;e[58]=b.y;e[59]=c.z;e[60]=c.x;e[61]=c.y;e[62]=b.z;e[63]=c.x;e[64]=c.y;e[65]=c.z;e[66]=b.x;e[67]=c.y;e[68]=b.z;e[69]=b.x;e[70]=c.y;e[71]=c.z;this.G.attributes.position.V=!0;this.G.Qg();this.Va=a.M;this.Bb=!1};
f.Ck=function(a,b){var c=void 0!==b?b:8947848;this.object=a;this.lo=new f.Te;f.za.call(this,new f.qg(1,1,1),new f.Bc({color:c,ua:!0}))};f.Ck.prototype=Object.create(f.za.prototype);f.Ck.prototype.constructor=f.Ck;f.Ck.prototype.update=function(){this.lo.Hz(this.object);this.lo.size(this.scale);this.lo.Pa(this.position)};
f.Ji=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){e.j.push(new f.g);e.ja.push(new f.Z(b));void 0===d[a]&&(d[a]=[]);d[a].push(e.j.length-1)}var e=new f.N,g=new f.zb({color:16777215,O:f.dn}),d={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",
16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);f.ia.call(this,e,g,f.Jd);this.Mw=a;this.Va=a.M;this.Bb=!1;this.ez=d;this.update()};f.Ji.prototype=Object.create(f.ia.prototype);f.Ji.prototype.constructor=f.Ji;
f.Ji.prototype.update=function(){function a(a,h,k,l){e.set(h,k,l).Du(g);a=c[a];if(void 0!==a)for(h=0,k=a.length;h<k;h++)b.j[a[h]].A(e)}var b,c,e=new f.g,g=new f.Qc;return function(){b=this.G;c=this.ez;g.Wb.A(this.Mw.Wb);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);
a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.Yb=!0}}();f.Li=function(a,b){f.P.call(this);this.Ha=a;this.Ha.xb();this.Va=a.M;this.Bb=!1;b=b||1;var c=new f.N;c.j.push(new f.g(-b,b,0),new f.g(b,b,0),new f.g(b,-b,0),new f.g(-b,-b,0),new f.g(-b,b,0));var e=new f.zb({fa:!1});e.color.A(this.Ha.color).qa(this.Ha.Ma);this.ii=new f.ia(c,e);this.add(this.ii);c=new f.N;c.j.push(new f.g,new f.g);e=new f.zb({fa:!1});e.color.A(this.Ha.color).qa(this.Ha.Ma);this.Di=new f.ia(c,e);this.add(this.Di);this.update()};
f.Li.prototype=Object.create(f.P.prototype);f.Li.prototype.constructor=f.Li;f.Li.prototype.Eb=function(){this.ii.G.Eb();this.ii.aa.Eb();this.Di.G.Eb();this.Di.aa.Eb()};f.Li.prototype.update=function(){var a=new f.g,b=new f.g,c=new f.g;return function(){Ce(a,this.Ha.M);Ce(b,this.Ha.target.M);c.eb(b,a);this.ii.wc(c);this.ii.aa.color.A(this.Ha.color).qa(this.Ha.Ma);this.Di.G.j[1].A(c);this.Di.G.Yb=!0;this.Di.aa.color.A(this.ii.aa.color)}}();
f.bn=function(a,b,c){function e(a,b){return a-b}b=void 0!==b?b:16777215;c=Math.cos(f.Math.vl(void 0!==c?c:1));var g=[0,0],d={},h=["a","b","c"],k=new f.qb,l;a.G instanceof f.qb?(l=new f.N,Ue(l,a.G)):l=a.G.clone();Te(l);l.Ob();var m=l.j;l=l.F;for(var q=0,r=0,p=l.length;r<p;r++)for(var u=l[r],v=0;3>v;v++){g[0]=u[h[v]];g[1]=u[h[(v+1)%3]];g.sort(e);var t=g.toString();void 0===d[t]?(d[t]={hA:g[0],iA:g[1],ox:r,Ho:void 0},q++):d[t].Ho=r}g=new Float32Array(6*q);e=0;for(t in d)if(h=d[t],void 0===h.Ho||l[h.ox].X.Pb(l[h.Ho].X)<=
c)q=m[h.hA],g[e++]=q.x,g[e++]=q.y,g[e++]=q.z,q=m[h.iA],g[e++]=q.x,g[e++]=q.y,g[e++]=q.z;Se(k,"position",new f.Ia(g,3));f.ia.call(this,k,new f.zb({color:b}),f.Jd);this.Va=a.M;this.Bb=!1};f.bn.prototype=Object.create(f.ia.prototype);f.bn.prototype.constructor=f.bn;
f.Gk=function(a,b,c,e){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;e=void 0!==e?e:1;b=new f.N;c=0;for(var g=this.object.G.F.length;c<g;c++)b.j.push(new f.g,new f.g);f.ia.call(this,b,new f.zb({color:a,Vd:e}),f.Jd);this.Bb=!1;this.gh=new f.pe;this.update()};f.Gk.prototype=Object.create(f.ia.prototype);f.Gk.prototype.constructor=f.Gk;
f.Gk.prototype.update=function(){var a=this.G.j,b=this.object,c=b.G.j,e=b.G.F,g=b.M;b.xb(!0);Ie(this.gh,g);for(var d=b=0,h=e.length;b<h;b++,d+=2){var k=e[b];a[d].A(c[k.Ja]).add(c[k.K]).add(c[k.La]).Rg(3).Fa(g);Fe(a[d+1].A(k.X),this.gh).normalize().qa(this.size).add(a[d])}this.G.Yb=!0;return this};
f.fn=function(a,b){var c=new f.N,e=new f.zb({O:f.Fh});this.Tw=new f.Z(4473924);this.Uw=new f.Z(8947848);for(var g=-a;g<=a;g+=b){c.j.push(new f.g(-a,0,g),new f.g(a,0,g),new f.g(g,0,-a),new f.g(g,0,a));var d=0===g?this.Tw:this.Uw;c.ja.push(d,d,d,d)}f.ia.call(this,c,e,f.Jd)};f.fn.prototype=Object.create(f.ia.prototype);f.fn.prototype.constructor=f.fn;
f.Si=function(a,b){f.P.call(this);this.Ha=a;this.Ha.xb();this.Va=a.M;this.Bb=!1;this.ja=[new f.Z,new f.Z];var c=new f.Eh(b,4,2);c.ze(Me());for(var e=0;8>e;e++)c.F[e].color=this.ja[4>e?0:1];e=new f.Bc({O:f.dn,ua:!0});this.Uj=new f.za(c,e);this.add(this.Uj);this.update()};f.Si.prototype=Object.create(f.P.prototype);f.Si.prototype.constructor=f.Si;f.Si.prototype.Eb=function(){this.Uj.G.Eb();this.Uj.aa.Eb()};
f.Si.prototype.update=function(){var a=new f.g;return function(){this.ja[0].A(this.Ha.color).qa(this.Ha.Ma);this.ja[1].A(this.Ha.Vg).qa(this.Ha.Ma);this.Uj.wc(Ce(a,this.Ha.M).eh());this.Uj.G.fd=!0}}();f.Yi=function(a,b){this.Ha=a;this.Ha.xb();var c=new f.Eh(b,4,2),e=new f.Bc({ua:!0,fa:!1});e.color.A(this.Ha.color).qa(this.Ha.Ma);f.za.call(this,c,e);this.Va=this.Ha.M;this.Bb=!1};f.Yi.prototype=Object.create(f.za.prototype);f.Yi.prototype.constructor=f.Yi;f.Yi.prototype.Eb=function(){this.G.Eb();this.aa.Eb()};
f.Yi.prototype.update=function(){this.aa.color.A(this.Ha.color).qa(this.Ha.Ma)};f.Qk=function(a){this.Ka=yf(this,a);for(var b=new f.N,c=0;c<this.Ka.length;c++)this.Ka[c].parent instanceof f.pg&&(b.j.push(new f.g),b.j.push(new f.g),b.ja.push(new f.Z(0,0,1)),b.ja.push(new f.Z(0,1,0)));c=new f.zb({O:f.Fh,pf:!1,qf:!1,Jb:!0});f.ia.call(this,b,c,f.Jd);this.root=a;this.Va=a.M;this.Bb=!1;this.update()};f.Qk.prototype=Object.create(f.ia.prototype);f.Qk.prototype.constructor=f.Qk;
function yf(a,b){var c=[];b instanceof f.pg&&c.push(b);for(var e=0;e<b.children.length;e++)c.push.apply(c,yf(a,b.children[e]));return c}f.Qk.prototype.update=function(){for(var a=this.G,b=(new f.Ea).Ud(this.root.M),c=new f.Ea,e=0,g=0;g<this.Ka.length;g++){var d=this.Ka[g];d.parent instanceof f.pg&&(Ae(c,b,d.M),Ce(a.j[e],c),Ae(c,b,d.parent.M),Ce(a.j[e+1],c),e+=2)}a.Yb=!0;a.Qg()};
f.bj=function(a){f.P.call(this);this.Ha=a;this.Ha.xb();this.Va=a.M;this.Bb=!1;a=new f.uh(0,1,1,8,1,!0);a.ze(Ne());a.ze(Me());var b=new f.Bc({ua:!0,fa:!1});this.Cd=new f.za(a,b);this.add(this.Cd);this.update()};f.bj.prototype=Object.create(f.P.prototype);f.bj.prototype.constructor=f.bj;f.bj.prototype.Eb=function(){this.Cd.G.Eb();this.Cd.aa.Eb()};
f.bj.prototype.update=function(){var a=new f.g,b=new f.g;return function(){var c=this.Ha.lb?this.Ha.lb:1E4,e=c*Math.tan(this.Ha.Lg);this.Cd.scale.set(e,e,c);Ce(a,this.Ha.M);Ce(b,this.Ha.target.M);this.Cd.wc(b.sub(a));this.Cd.aa.color.A(this.Ha.color).qa(this.Ha.Ma)}}();
f.Tk=function(a,b,c,e){this.object=a;this.size=void 0!==b?b:1;b=void 0!==c?c:16711680;e=void 0!==e?e:1;c=new f.N;a=a.G.F;for(var g=0,d=a.length;g<d;g++)for(var h=0,k=a[g].jb.length;h<k;h++)c.j.push(new f.g,new f.g);f.ia.call(this,c,new f.zb({color:b,Vd:e}),f.Jd);this.Bb=!1;this.gh=new f.pe;this.update()};f.Tk.prototype=Object.create(f.ia.prototype);f.Tk.prototype.constructor=f.Tk;
f.Tk.prototype.update=function(){var a=new f.g;return function(b){b=["a","b","c","d"];this.object.xb(!0);Ie(this.gh,this.object.M);for(var c=this.G.j,e=this.object.G.j,g=this.object.G.F,d=this.object.M,h=0,k=0,l=g.length;k<l;k++)for(var m=g[k],q=0,r=m.jb.length;q<r;q++){var p=m.jb[q];c[h].A(e[m[b[q]]]).Fa(d);Fe(a.A(p),this.gh).normalize().qa(this.size);a.add(c[h]);h+=1;c[h].A(a);h+=1}this.G.Yb=!0;return this}}();
f.Uk=function(a,b,c,e){this.object=a;this.size=void 0!==b?b:1;b=void 0!==c?c:255;e=void 0!==e?e:1;c=new f.N;a=a.G.F;for(var g=0,d=a.length;g<d;g++)for(var h=0,k=a[g].jg.length;h<k;h++)c.j.push(new f.g),c.j.push(new f.g);f.ia.call(this,c,new f.zb({color:b,Vd:e}),f.Jd);this.Bb=!1;this.update()};f.Uk.prototype=Object.create(f.ia.prototype);f.Uk.prototype.constructor=f.Uk;
f.Uk.prototype.update=function(){var a=new f.g;return function(b){b=["a","b","c","d"];this.object.xb(!0);for(var c=this.G.j,e=this.object.G.j,g=this.object.G.F,d=this.object.M,h=0,k=0,l=g.length;k<l;k++)for(var m=g[k],q=0,r=m.jg.length;q<r;q++){var p=m.jg[q];c[h].A(e[m[b[q]]]).Fa(d);var p=a.A(p),u=d,v=p.x,t=p.y,w=p.z,u=u.elements;p.x=u[0]*v+u[4]*t+u[8]*w;p.y=u[1]*v+u[5]*t+u[9]*w;p.z=u[2]*v+u[6]*t+u[10]*w;p.normalize();p.qa(this.size);a.add(c[h]);h+=1;c[h].A(a);h+=1}this.G.Yb=!0;return this}}();
f.Cn=function(a,b){function c(a,b){return a-b}var e=void 0!==b?b:16777215,g=[0,0],d={},h=["a","b","c"],k=new f.qb;if(a.G instanceof f.N){for(var l=a.G.j,m=a.G.F,q=0,r=new Uint32Array(6*m.length),p=0,u=m.length;p<u;p++)for(var v=m[p],t=0;3>t;t++){g[0]=v[h[t]];g[1]=v[h[(t+1)%3]];g.sort(c);var w=g.toString();void 0===d[w]&&(r[2*q]=g[0],r[2*q+1]=g[1],d[w]=!0,q++)}g=new Float32Array(6*q);p=0;for(u=q;p<u;p++)for(t=0;2>t;t++)q=l[r[2*p+t]],h=6*p+3*t,g[h+0]=q.x,g[h+1]=q.y,g[h+2]=q.z;Se(k,"position",new f.Ia(g,
3))}else if(a.G instanceof f.qb){if(void 0!==a.G.attributes.index){l=a.G.attributes.position.l;u=a.G.attributes.index.l;m=a.G.Hj;q=0;0===m.length&&(m=[{count:u.length,index:0,start:0}]);for(var r=new Uint32Array(2*u.length),v=0,z=m.length;v<z;++v)for(var t=m[v].start,w=m[v].count,h=m[v].index,p=t,x=t+w;p<x;p+=3)for(t=0;3>t;t++)g[0]=h+u[p+t],g[1]=h+u[p+(t+1)%3],g.sort(c),w=g.toString(),void 0===d[w]&&(r[2*q]=g[0],r[2*q+1]=g[1],d[w]=!0,q++);g=new Float32Array(6*q);p=0;for(u=q;p<u;p++)for(t=0;2>t;t++)h=
6*p+3*t,q=3*r[2*p+t],g[h+0]=l[q],g[h+1]=l[q+1],g[h+2]=l[q+2]}else for(l=a.G.attributes.position.l,q=l.length/3,r=q/3,g=new Float32Array(6*q),p=0,u=r;p<u;p++)for(t=0;3>t;t++)h=18*p+6*t,r=9*p+3*t,g[h+0]=l[r],g[h+1]=l[r+1],g[h+2]=l[r+2],q=9*p+(t+1)%3*3,g[h+3]=l[q],g[h+4]=l[q+1],g[h+5]=l[q+2];Se(k,"position",new f.Ia(g,3))}f.ia.call(this,k,new f.zb({color:e}),f.Jd);this.Va=a.M;this.Bb=!1};f.Cn.prototype=Object.create(f.ia.prototype);f.Cn.prototype.constructor=f.Cn;
f.Vi=function(){f.P.call(this);this.L=function(){}};f.Vi.prototype=Object.create(f.P.prototype);f.Vi.prototype.constructor=f.Vi;f.Lk=function(a,b){f.za.call(this,a,b);this.Pr={};this.Wn=[];var c=this.G.$.length,e=c-1,c=c/1,g=0,g={Sz:g,pD:e,length:e-g+1,ID:c,duration:(e-g)/c,Zg:0,Be:0,active:!1,time:0,direction:1,weight:1,Wh:!1,Ql:!1};this.Pr.__default=g;this.Wn.push(g);(e=this.Pr.__default)&&(e.weight=1)};f.Lk.prototype=Object.create(f.za.prototype);f.Lk.prototype.constructor=f.Lk;
f.Lk.prototype.update=function(a){for(var b=0,c=this.Wn.length;b<c;b++){var e=this.Wn[b];if(e.active){var g=e.duration/e.length;e.time+=e.direction*a;if(e.Ql){if(e.time>e.duration||0>e.time)e.direction*=-1,e.time>e.duration&&(e.time=e.duration,e.Wh=!0),0>e.time&&(e.time=0,e.Wh=!1)}else e.time%=e.duration,0>e.time&&(e.time+=e.duration);var d=e.Sz+f.Math.nf(Math.floor(e.time/g),0,e.length-1),h=e.weight;d!==e.Be&&(this.od[e.Zg]=0,this.od[e.Be]=1*h,this.od[d]=0,e.Zg=e.Be,e.Be=d);g=e.time%g/g;e.Wh&&(g=
1-g);this.od[e.Be]=g*h;this.od[e.Zg]=(1-g)*h}}};f.VA={};f.Gq=function(a){this.nc=void 0!==a?a:f.ug};f.Gq.prototype={constructor:f.Gq,load:function(a,b,c,e){var g=new f.Nf(this.nc);g.Fd(this.crossOrigin);g.load(a,function(a){a=zf(a);Af(a,b)},c,e)},Fd:function(a){this.crossOrigin=a}};
function Af(a,b){var c=new f.N,e=new f.N;c.elements=[];for(var g=a.xB,d=a.KB,h=0;h<g.length;h++){var k=g[h];c.j.push(new f.g(k[0],k[1],k[2]));var l=k[3][0]/255,m=k[3][1]/255,q=k[3][2]/255,r=new f.Z;we(r,l,m,q);c.ja.push(r);c.elements.push(k[4])}for(h=0;h<d.length;h++)g=d[h],k=c.j[g[1]],e.j.push(c.j[g[0]].clone()),e.j.push(k.clone());b(c,e,a)}
function zf(a){function b(a){if(a=parseInt(k[r].substr(a,5))){var b="s"+Math.min(u,a)+"e"+Math.max(u,a);void 0==h[b]&&(g.push([u-1,a-1,1]),h[b]=g.length-1)}}for(var c={h:[255,255,255],he:[217,255,255],li:[204,128,255],be:[194,255,0],b:[255,181,181],c:[144,144,144],n:[48,80,248],o:[255,13,13],f:[144,224,80],ne:[179,227,245],na:[171,92,242],mg:[138,255,0],al:[191,166,166],si:[240,200,160],p:[255,128,0],s:[255,255,48],cl:[31,240,31],ar:[128,209,227],k:[143,64,212],ca:[61,255,0],sc:[230,230,230],ti:[191,
194,199],v:[166,166,171],cr:[138,153,199],mn:[156,122,199],fe:[224,102,51],co:[240,144,160],ni:[80,208,80],cu:[200,128,51],zn:[125,128,176],ga:[194,143,143],ge:[102,143,143],as:[189,128,227],se:[255,161,0],br:[166,41,41],kr:[92,184,209],rb:[112,46,176],sr:[0,255,0],y:[148,255,255],zr:[148,224,224],nb:[115,194,201],mo:[84,181,181],tc:[59,158,158],ru:[36,143,143],rh:[10,125,140],pd:[0,105,133],ag:[192,192,192],cd:[255,217,143],"in":[166,117,115],sn:[102,128,128],sb:[158,99,181],te:[212,122,0],i:[148,
0,148],xe:[66,158,176],cs:[87,23,143],ba:[0,201,0],la:[112,212,255],ce:[255,255,199],pr:[217,255,199],nd:[199,255,199],pm:[163,255,199],sm:[143,255,199],eu:[97,255,199],gd:[69,255,199],tb:[48,255,199],dy:[31,255,199],ho:[0,255,156],er:[0,230,117],tm:[0,212,82],yb:[0,191,56],lu:[0,171,36],hf:[77,194,255],ta:[77,166,255],w:[33,148,214],re:[38,125,171],os:[38,102,150],ir:[23,84,135],pt:[208,208,224],au:[255,209,35],hg:[184,184,208],tl:[166,84,77],pb:[87,89,97],bi:[158,79,181],po:[171,92,0],at:[117,79,
69],rn:[66,130,150],fr:[66,0,102],ra:[0,125,0],ac:[112,171,250],th:[0,186,255],pa:[0,161,255],u:[0,143,255],np:[0,128,255],pu:[0,107,255],am:[84,92,242],cm:[120,92,227],bk:[138,79,227],cf:[161,54,212],es:[179,31,212],fm:[179,31,186],md:[179,13,166],no:[189,13,135],lr:[199,0,102],rf:[204,0,89],db:[209,0,79],sg:[217,0,69],bh:[224,0,56],hs:[230,0,46],mt:[235,0,38],ds:[235,0,38],rg:[235,0,38],cn:[235,0,38],uut:[235,0,38],uuq:[235,0,38],uup:[235,0,38],uuh:[235,0,38],uus:[235,0,38],uuo:[235,0,38]},e=[],
g=[],d={},h={},k=a.split("\n"),l,m,q,r=0,p=k.length;r<p;++r)if("ATOM"==k[r].substr(0,4)||"HETATM"==k[r].substr(0,6))a=parseFloat(k[r].substr(30,7)),l=parseFloat(k[r].substr(38,7)),m=parseFloat(k[r].substr(46,7)),q=k[r].substr(76,2).replace(/^\s\s*/,"").replace(/\s\s*$/,"").toLowerCase(),""==q&&(q=k[r].substr(12,2).replace(/^\s\s*/,"").replace(/\s\s*$/,"").toLowerCase()),e.push([a,l,m,c[q],q.charAt(0).toUpperCase()+q.substr(1).toLowerCase()]),d[q]=void 0==d[q]?1:d[q]+1;else if("CONECT"==k[r].substr(0,
6)){var u=parseInt(k[r].substr(6,5));b(11);b(16);b(21);b(26)}return{ok:!0,atoms:e,bonds:g,histogram:d}};if("undefined"==typeof Nb)throw Error("Bootstrap's JavaScript requires jQuery");var Bf=Nb.D.Sj.split(" ")[0].split(".");if(2>Bf[0]&&9>Bf[1]||1==Bf[0]&&9==Bf[1]&&1>Bf[2])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");NaN;
+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",UA:"oTransitionEnd otransitionend",transition:"transitionend"},g;for(g in b)if(void 0!==a.style[g])return{end:b[g]};return!1}a.D.Td=function(b){var e=!1,g=this;a(this).yc("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||a(g).U(a.Xb.transition.end)},b),this};a(function(){a.Xb.transition=b();a.Xb.transition&&(a.event.Qe.OB={ml:a.Xb.transition.end,
Uh:a.Xb.transition.end,handle:function(b){return a(b.target).is(this)?b.Hl.kd.apply(this,arguments):void 0}})})}(Nb);
+function(a){function b(b){a(b).ma("click",'[data-dismiss="alert"]',this.close)}b.m="3.3.5";b.Tc=150;b.prototype.close=function(c){function g(){k.detach().U("closed.bs.alert").remove()}var d=a(this),h=d.da("data-target");h||(h=d.da("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,""));var k=a(h);c&&c.preventDefault();k.length||(k=d.closest(".alert"));k.U(c=a.Event("close.bs.alert"));c.$b()||(k.Ra("in"),a.Xb.transition&&k.Za("fade")?k.yc("bsTransitionEnd",g).Td(b.Tc):g())};var c=a.D.alert;a.D.alert=function(c){return this.I(function(){var g=
a(this),d=g.data("bs.alert");d||g.data("bs.alert",d=new b(this));"string"==typeof c&&d[c].call(g)})};a.D.alert.vd=b;a.D.alert.m=function(){return a.D.alert=c,this};a(document).ma("click.bs.alert.data-api",'[data-dismiss="alert"]',b.prototype.close)}(Nb);
+function(a){function b(c,d){this.B=a(c);this.options=a.extend({},b.gc,d);this.Wo=!1}function c(c){return this.I(function(){var d=a(this),e=d.data("bs.button"),k="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,k));"toggle"==c?e.toggle():c&&e.Lz(c)})}b.m="3.3.5";b.gc={PE:"loading..."};b.prototype.Lz=function(b){var c=this.B,e=c.is("input")?"val":"html",k=c.data();b+="Text";null==k.IG&&c.data("resetText",c[e]());setTimeout(a.$a(function(){c[e](null==k[b]?this.options[b]:k[b]);"loadingText"==
b?(this.Wo=!0,c.Ga("disabled").da("disabled","disabled")):this.Wo&&(this.Wo=!1,c.Ra("disabled").yi("disabled"))},this),0)};b.prototype.toggle=function(){var a=!0,b=this.B.closest('[data-toggle="buttons"]');if(b.length){var c=this.B.find("input");"radio"==c.mb("type")?(c.mb("checked")&&(a=!1),b.find(".active").Ra("active"),this.B.Ga("active")):"checkbox"==c.mb("type")&&(c.mb("checked")!==this.B.Za("active")&&(a=!1),this.B.Fi("active"));c.mb("checked",this.B.Za("active"));a&&c.U("change")}else this.B.da("aria-pressed",
!this.B.Za("active")),this.B.Fi("active")};var e=a.D.button;a.D.button=c;a.D.button.vd=b;a.D.button.m=function(){return a.D.button=e,this};a(document).ma("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var d=a(b.target);d.Za("btn")||(d=d.closest(".btn"));c.call(d,"toggle");a(b.target).is('input[type="radio"]')||a(b.target).is('input[type="checkbox"]')||b.preventDefault()}).ma("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").Fi("focus",
/^focus(in)?$/.test(b.type))})}(Nb);
+function(a){function b(b){var c,g=a(this),l=a(g.da("data-target")||(c=g.da("href"))&&c.replace(/.*(?=#[^\s]+$)/,""));l.Za("carousel")&&(c=a.extend({},l.data(),g.data()),(g=g.da("data-slide-to"))&&(c.interval=!1),e.call(l,c),g&&l.data("bs.carousel").Ac(g),b.preventDefault())}function c(b,c){this.B=a(b);this.Lm=this.B.find(".carousel-indicators");this.options=c;this.og=this.fq=this.interval=this.nh=this.paused=null;this.options.cp&&this.B.ma("keydown.bs.carousel",a.$a(this.Kl,this));"hover"!=this.options.pause||
"ontouchstart"in document.documentElement||this.B.ma("mouseenter.bs.carousel",a.$a(this.pause,this)).ma("mouseleave.bs.carousel",a.$a(this.Cj,this))}function e(b){return this.I(function(){var e=a(this),g=e.data("bs.carousel"),l=a.extend({},c.gc,e.data(),"object"==typeof b&&b),m="string"==typeof b?b:l.wm;g||e.data("bs.carousel",g=new c(this,l));"number"==typeof b?g.Ac(b):m?g[m]():l.interval&&g.pause().Cj()})}c.m="3.3.5";c.Tc=600;c.gc={interval:5E3,pause:"hover",Ak:!0,cp:!0};c.prototype.Kl=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.Bp();
break;case 39:this.next();break;default:return}a.preventDefault()}};c.prototype.Cj=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.$a(this.next,this),this.options.interval)),this};c.prototype.Po=function(a){return this.og=a.parent().children(".item"),this.og.index(a||this.fq)};c.prototype.Ex=function(a,b){var c=this.Po(b);return("prev"==a&&0===c||"next"==a&&c==this.og.length-1)&&!this.options.Ak?b:
this.og.Sf((c+("prev"==a?-1:1))%this.og.length)};c.prototype.Ac=function(a){var b=this,c=this.Po(this.fq=this.B.find(".item.active"));return a>this.og.length-1||0>a?void 0:this.nh?this.B.yc("slid.bs.carousel",function(){b.Ac(a)}):c==a?this.pause().Cj():this.wm(a>c?"next":"prev",this.og.Sf(a))};c.prototype.pause=function(b){return b||(this.paused=!0),this.B.find(".next, .prev").length&&a.Xb.transition&&(this.B.U(a.Xb.transition.end),this.Cj(!0)),this.interval=clearInterval(this.interval),this};c.prototype.next=
function(){return this.nh?void 0:this.wm("next")};c.prototype.Bp=function(){return this.nh?void 0:this.wm("prev")};c.prototype.wm=function(b,e){var g=this.B.find(".item.active"),l=e||this.Ex(b,g),m=this.interval,q="next"==b?"left":"right",r=this;if(l.Za("active"))return this.nh=!1;var p=l[0],u=a.Event("slide.bs.carousel",{relatedTarget:p,direction:q});if(this.B.U(u),!u.$b()){if(this.nh=!0,m&&this.pause(),this.Lm.length)this.Lm.find(".active").Ra("active"),(u=a(this.Lm.children()[this.Po(l)]))&&u.Ga("active");
var v=a.Event("slid.bs.carousel",{relatedTarget:p,direction:q});return a.Xb.transition&&this.B.Za("slide")?(l.Ga(b),l[0].offsetWidth,g.Ga(q),l.Ga(q),g.yc("bsTransitionEnd",function(){l.Ra([b,q].join(" ")).Ga("active");g.Ra(["active",q].join(" "));r.nh=!1;setTimeout(function(){r.B.U(v)},0)}).Td(c.Tc)):(g.Ra("active"),l.Ga("active"),this.nh=!1,this.B.U(v)),m&&this.Cj(),this}};var g=a.D.ql;a.D.ql=e;a.D.ql.vd=c;a.D.ql.m=function(){return a.D.ql=g,this};a(document).ma("click.bs.carousel.data-api","[data-slide]",
b).ma("click.bs.carousel.data-api","[data-slide-to]",b);a(window).ma("load",function(){a('[data-ride="carousel"]').I(function(){var b=a(this);e.call(b,b.data())})})}(Nb);
+function(a){function b(c,e){this.B=a(c);this.options=a.extend({},b.gc,e);this.Nm=a('[data-toggle="collapse"][href="#'+c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]');this.ph=null;this.options.parent?this.gq=this.getParent():this.Hr(this.B,this.Nm);this.options.toggle&&this.toggle()}function c(b){var c;b=b.da("data-target")||(c=b.da("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(b)}function e(c){return this.I(function(){var e=a(this),g=e.data("bs.collapse"),l=a.extend({},b.gc,e.data(),
"object"==typeof c&&c);!g&&l.toggle&&/show|hide/.test(c)&&(l.toggle=!1);g||e.data("bs.collapse",g=new b(this,l));"string"==typeof c&&g[c]()})}b.m="3.3.5";b.Tc=350;b.gc={toggle:!0};b.prototype.Zr=function(){return this.B.Za("width")?"width":"height"};b.prototype.show=function(){if(!this.ph&&!this.B.Za("in")){var c,g=this.gq&&this.gq.children(".panel").children(".in, .collapsing");if(!(g&&g.length&&(c=g.data("bs.collapse"),c&&c.ph))){var k=a.Event("show.bs.collapse");if(this.B.U(k),!k.$b()){g&&g.length&&
(e.call(g,"hide"),c||g.data("bs.collapse",null));var l=this.Zr();this.B.Ra("collapse").Ga("collapsing")[l](0).da("aria-expanded",!0);this.Nm.Ra("collapsed").da("aria-expanded",!0);this.ph=1;c=function(){this.B.Ra("collapsing").Ga("collapse in")[l]("");this.ph=0;this.B.U("shown.bs.collapse")};if(!a.Xb.transition)return c.call(this);g=a.mf(["scroll",l].join("-"));this.B.yc("bsTransitionEnd",a.$a(c,this)).Td(b.Tc)[l](this.B[0][g])}}}};b.prototype.mc=function(){if(!this.ph&&this.B.Za("in")){var c=a.Event("hide.bs.collapse");
if(this.B.U(c),!c.$b()){c=this.Zr();this.B[c](this.B[c]())[0].offsetHeight;this.B.Ga("collapsing").Ra("collapse in").da("aria-expanded",!1);this.Nm.Ga("collapsed").da("aria-expanded",!1);this.ph=1;var e=function(){this.ph=0;this.B.Ra("collapsing").Ga("collapse").U("hidden.bs.collapse")};return a.Xb.transition?void this.B[c](0).yc("bsTransitionEnd",a.$a(e,this)).Td(b.Tc):e.call(this)}}};b.prototype.toggle=function(){this[this.B.Za("in")?"hide":"show"]()};b.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+
this.options.parent+'"]').I(a.$a(function(b,e){var g=a(e);this.Hr(c(g),g)},this)).end()};b.prototype.Hr=function(a,b){var c=a.Za("in");a.da("aria-expanded",c);b.Fi("collapsed",!c).da("aria-expanded",c)};var g=a.D.collapse;a.D.collapse=e;a.D.collapse.vd=b;a.D.collapse.m=function(){return a.D.collapse=g,this};a(document).ma("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var g=a(this);g.da("data-target")||b.preventDefault();b=c(g);g=b.data("bs.collapse")?"toggle":g.data();e.call(b,
g)})}(Nb);
+function(a){function b(b){a(b).ma("click.bs.dropdown",this.toggle)}function c(b){var c=b.da("data-target");c||(c=b.da("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));return(c=c&&a(c))&&c.length?c:b.parent()}function e(b){b&&3===b.which||(a(g).remove(),a(d).I(function(){var d=a(this),e=c(d),g={relatedTarget:this};e.Za("open")&&(b&&"click"==b.type&&/input|textarea/i.test(b.target.tagName)&&a.contains(e[0],b.target)||(e.U(b=a.Event("hide.bs.dropdown",g)),b.$b()||(d.da("aria-expanded","false"),
e.Ra("open").U("hidden.bs.dropdown",g))))}))}var g=".dropdown-backdrop",d='[data-toggle="dropdown"]';b.m="3.3.5";b.prototype.toggle=function(b){var d=a(this);if(!d.is(".disabled, :disabled")){var g=c(d),h=g.Za("open");if(e(),!h){"ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length&&a(document.createElement("div")).Ga("dropdown-backdrop").Ks(a(this)).ma("click",e);h={relatedTarget:this};if(g.U(b=a.Event("show.bs.dropdown",h)),b.$b())return;d.U("focus").da("aria-expanded","true");
g.Fi("open").U("shown.bs.dropdown",h)}return!1}};b.prototype.Kl=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var e=a(this);if(b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled")){var g=c(e),h=g.Za("open");if(!h&&27!=b.which||h&&27==b.which)return 27==b.which&&g.find(d).U("focus"),e.U("click");e=g.find(".dropdown-menu li:not(.disabled):visible a");e.length&&(g=e.index(b.target),38==b.which&&0<g&&g--,40==b.which&&g<e.length-1&&g++,~g||(g=
0),e.Sf(g).U("focus"))}}};var h=a.D.xl;a.D.xl=function(c){return this.I(function(){var d=a(this),e=d.data("bs.dropdown");e||d.data("bs.dropdown",e=new b(this));"string"==typeof c&&e[c].call(d)})};a.D.xl.vd=b;a.D.xl.m=function(){return a.D.xl=h,this};a(document).ma("click.bs.dropdown.data-api",e).ma("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).ma("click.bs.dropdown.data-api",d,b.prototype.toggle).ma("keydown.bs.dropdown.data-api",d,b.prototype.Kl).ma("keydown.bs.dropdown.data-api",
".dropdown-menu",b.prototype.Kl)}(Nb);
+function(a){function b(b,c){this.options=c;this.ud=a(document.body);this.B=a(b);this.Km=this.B.find(".modal-dialog");this.nt=this.Ie=this.je=null;this.Yl=0;this.To=!1;this.options.remote&&this.B.find(".modal-content").load(this.options.remote,a.$a(function(){this.B.U("loaded.bs.modal")},this))}function c(c,d){return this.I(function(){var e=a(this),k=e.data("bs.modal"),l=a.extend({},b.gc,e.data(),"object"==typeof c&&c);k||e.data("bs.modal",k=new b(this,l));"string"==typeof c?k[c](d):l.show&&k.show(d)})}
b.m="3.3.5";b.Tc=300;b.J=150;b.gc={kj:!0,cp:!0,show:!0};b.prototype.toggle=function(a){return this.Ie?this.mc():this.show(a)};b.prototype.show=function(c){var d=this,e=a.Event("show.bs.modal",{relatedTarget:c});this.B.U(e);this.Ie||e.$b()||(this.Ie=!0,this.Rw(),this.Kz(),this.ud.Ga("modal-open"),this.escape(),this.resize(),this.B.ma("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.$a(this.mc,this)),this.Km.ma("mousedown.dismiss.bs.modal",function(){d.B.yc("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.B)&&
(d.To=!0)})}),this.kj(function(){var e=a.Xb.transition&&d.B.Za("fade");d.B.parent().length||d.B.jj(d.ud);d.B.show().scrollTop(0);d.Ir();e&&d.B[0].offsetWidth;d.B.Ga("in");d.mx();var h=a.Event("shown.bs.modal",{relatedTarget:c});e?d.Km.yc("bsTransitionEnd",function(){d.B.U("focus").U(h)}).Td(b.Tc):d.B.U("focus").U(h)}))};b.prototype.mc=function(c){c&&c.preventDefault();c=a.Event("hide.bs.modal");this.B.U(c);this.Ie&&!c.$b()&&(this.Ie=!1,this.escape(),this.resize(),a(document).Lc("focusin.bs.modal"),
this.B.Ra("in").Lc("click.dismiss.bs.modal").Lc("mouseup.dismiss.bs.modal"),this.Km.Lc("mousedown.dismiss.bs.modal"),a.Xb.transition&&this.B.Za("fade")?this.B.yc("bsTransitionEnd",a.$a(this.Js,this)).Td(b.Tc):this.Js())};b.prototype.mx=function(){a(document).Lc("focusin.bs.modal").ma("focusin.bs.modal",a.$a(function(a){this.B[0]===a.target||this.B.has(a.target).length||this.B.U("focus")},this))};b.prototype.escape=function(){this.Ie&&this.options.cp?this.B.ma("keydown.dismiss.bs.modal",a.$a(function(a){27==
a.which&&this.mc()},this)):this.Ie||this.B.Lc("keydown.dismiss.bs.modal")};b.prototype.resize=function(){this.Ie?a(window).ma("resize.bs.modal",a.$a(this.Px,this)):a(window).Lc("resize.bs.modal")};b.prototype.Js=function(){var a=this;this.B.mc();this.kj(function(){a.ud.Ra("modal-open");a.yz();a.zz();a.B.U("hidden.bs.modal")})};b.prototype.sz=function(){this.je&&this.je.remove();this.je=null};b.prototype.kj=function(c){var d=this,e=this.B.Za("fade")?"fade":"";if(this.Ie&&this.options.kj){var k=a.Xb.transition&&
e;if(this.je=a(document.createElement("div")).Ga("modal-backdrop "+e).jj(this.ud),this.B.ma("click.dismiss.bs.modal",a.$a(function(a){return this.To?void(this.To=!1):void(a.target===a.currentTarget&&("static"==this.options.kj?this.B[0].focus():this.mc()))},this)),k&&this.je[0].offsetWidth,this.je.Ga("in"),c)k?this.je.yc("bsTransitionEnd",c).Td(b.J):c()}else!this.Ie&&this.je?(this.je.Ra("in"),e=function(){d.sz();c&&c()},a.Xb.transition&&this.B.Za("fade")?this.je.yc("bsTransitionEnd",e).Td(b.J):e()):
c&&c()};b.prototype.Px=function(){this.Ir()};b.prototype.Ir=function(){var a=this.B[0].scrollHeight>document.documentElement.clientHeight;this.B.ea({paddingLeft:!this.jo&&a?this.Yl:"",paddingRight:this.jo&&!a?this.Yl:""})};b.prototype.yz=function(){this.B.ea({paddingLeft:"",paddingRight:""})};b.prototype.Rw=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),a=a.right-Math.abs(a.left));this.jo=document.body.clientWidth<a;this.Yl=this.Ey()};b.prototype.Kz=function(){var a=
parseInt(this.ud.ea("padding-right")||0,10);this.nt=document.body.style.paddingRight||"";this.jo&&this.ud.ea("padding-right",a+this.Yl)};b.prototype.zz=function(){this.ud.ea("padding-right",this.nt)};b.prototype.Ey=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.ud.append(a);var b=a.offsetWidth-a.clientWidth;return this.ud[0].removeChild(a),b};var e=a.D.ki;a.D.ki=c;a.D.ki.vd=b;a.D.ki.$u=function(){return a.D.ki=e,this};a(document).ma("click.bs.modal.data-api",
'[data-toggle="modal"]',function(b){var d=a(this),e=d.da("href"),k=a(d.da("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),e=k.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},k.data(),d.data());d.is("a")&&b.preventDefault();k.yc("show.bs.modal",function(a){a.$b()||k.yc("hidden.bs.modal",function(){d.is(":visible")&&d.U("focus")})});c.call(k,e,this)})}(Nb);
+function(a){function b(a,b){this.Xg=this.B=this.He=this.timeout=this.enabled=this.options=this.type=null;this.vc("tooltip",a,b)}b.m="3.3.5";b.Tc=150;b.gc={Vn:!0,Sl:"top",Sa:!1,vu:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',U:"hover focus",title:"",Dd:0,vf:!1,Vr:!1,viewport:{Sa:"body",padding:0}};b.prototype.vc=function(b,c,d){if(this.enabled=!0,this.type=b,this.B=a(c),this.options=this.Gx(d),this.Om=this.options.viewport&&a(a.wa(this.options.viewport)?
this.options.viewport.call(this,this.B):this.options.viewport.Sa||this.options.viewport),this.Xg={click:!1,Wx:!1,focus:!1},this.B[0]instanceof document.constructor&&!this.options.Sa)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");b=this.options.U.split(" ");for(c=b.length;c--;)if(d=b[c],"click"==d)this.B.ma("click."+this.type,this.options.Sa,a.$a(this.toggle,this));else if("manual"!=d){var h="hover"==d?"mouseleave":"focusout";this.B.ma(("hover"==
d?"mouseenter":"focusin")+"."+this.type,this.options.Sa,a.$a(this.Bo,this));this.B.ma(h+"."+this.type,this.options.Sa,a.$a(this.Ll,this))}this.options.Sa?this.Ar=a.extend({},this.options,{U:"manual",Sa:""}):this.sx()};b.prototype.No=function(){return b.gc};b.prototype.Gx=function(b){return b=a.extend({},this.No(),this.B.data(),b),b.Dd&&"number"==typeof b.Dd&&(b.Dd={show:b.Dd,mc:b.Dd}),b};b.prototype.Oo=function(){var b={},c=this.No();return this.Ar&&a.I(this.Ar,function(a,h){c[a]!=h&&(b[a]=h)}),b};
b.prototype.Bo=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.Oo()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.Xg["focusin"==b.type?"focus":"hover"]=!0),c.dg().Za("in")||"in"==c.He?void(c.He="in"):(clearTimeout(c.timeout),c.He="in",c.options.Dd&&c.options.Dd.show?void(c.timeout=setTimeout(function(){"in"==c.He&&c.show()},c.options.Dd.show)):c.show())};b.prototype.Os=function(){for(var a in this.Xg)if(this.Xg[a])return!0;
return!1};b.prototype.Ll=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.Oo()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.Xg["focusout"==b.type?"focus":"hover"]=!1),c.Os()?void 0:(clearTimeout(c.timeout),c.He="out",c.options.Dd&&c.options.Dd.mc?void(c.timeout=setTimeout(function(){"out"==c.He&&c.mc()},c.options.Dd.mc)):c.mc())};b.prototype.show=function(){var c=a.Event("show.bs."+
this.type);if(this.ei()&&this.enabled){this.B.U(c);var g=a.contains(this.B[0].ownerDocument.documentElement,this.B[0]);if(!c.$b()&&g){var d=this,c=this.dg(),g=this.Kx(this.type);this.Nt();c.da("id",g);this.B.da("aria-describedby",g);this.options.Vn&&c.Ga("fade");var g="function"==typeof this.options.Sl?this.options.Sl.call(this,c[0],this.B[0]):this.options.Sl,h=/\s?auto?\s?/i,k=h.test(g);k&&(g=g.replace(h,"")||"top");c.detach().ea({top:0,left:0,display:"block"}).Ga(g).data("bs."+this.type,this);this.options.Vr?
c.jj(this.options.Vr):c.Ks(this.B);this.B.U("inserted.bs."+this.type);var h=this.Fl(),l=c[0].offsetWidth,m=c[0].offsetHeight;if(k){var k=g,q=this.Fl(this.Om),g="bottom"==g&&h.bottom+m>q.bottom?"top":"top"==g&&h.top-m<q.top?"bottom":"right"==g&&h.right+l>q.width?"left":"left"==g&&h.left-l<q.left?"right":g;c.Ra(k).Ga(g)}this.pw(this.Ax(g,h,l,m),g);g=function(){var a=d.He;d.B.U("shown.bs."+d.type);d.He=null;"out"==a&&d.Ll(d)};a.Xb.transition&&this.Hi.Za("fade")?c.yc("bsTransitionEnd",g).Td(b.Tc):g()}}};
b.prototype.pw=function(b,c){var d=this.dg(),h=d[0].offsetWidth,k=d[0].offsetHeight,l=parseInt(d.ea("margin-top"),10),m=parseInt(d.ea("margin-left"),10);isNaN(l)&&(l=0);isNaN(m)&&(m=0);b.top+=l;b.left+=m;a.offset.Pt(d[0],a.extend({gA:function(a){d.ea({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);d.Ga("in");var m=d[0].offsetWidth,q=d[0].offsetHeight;"top"==c&&q!=k&&(b.top=b.top+k-q);var r=this.Lx(c,b,m,q);r.left?b.left+=r.left:b.top+=r.top;h=(l=/top|bottom/.test(c))?2*r.left-h+m:2*r.top-
k+q;k=l?"offsetWidth":"offsetHeight";d.offset(b);this.wz(h,d[0][k],l)};b.prototype.wz=function(a,b,c){this.Qr().ea(c?"left":"top",50*(1-a/b)+"%").ea(c?"top":"left","")};b.prototype.Nt=function(){var a=this.dg(),b=this.Gl();a.find(".tooltip-inner")[this.options.vf?"html":"text"](b);a.Ra("fade in top bottom left right")};b.prototype.mc=function(c){function g(){"in"!=d.He&&h.detach();d.B.yi("aria-describedby").U("hidden.bs."+d.type);c&&c()}var d=this,h=a(this.Hi),k=a.Event("hide.bs."+this.type);return this.B.U(k),
k.$b()?void 0:(h.Ra("in"),a.Xb.transition&&h.Za("fade")?h.yc("bsTransitionEnd",g).Td(b.Tc):g(),this.He=null,this)};b.prototype.sx=function(){var a=this.B;(a.da("title")||"string"!=typeof a.da("data-original-title"))&&a.da("data-original-title",a.da("title")||"").da("title","")};b.prototype.ei=function(){return this.Gl()};b.prototype.Fl=function(b){b=b||this.B;var c=b[0],d="BODY"==c.tagName,c=c.getBoundingClientRect();null==c.width&&(c=a.extend({},c,{width:c.right-c.left,height:c.bottom-c.top}));var h=
d?{top:0,left:0}:b.offset();b={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};d=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},c,b,d,h)};b.prototype.Ax=function(a,b,c,h){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-h,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-h/2,left:b.left-c}:{top:b.top+b.height/2-h/2,left:b.left+b.width}};b.prototype.Lx=function(a,b,c,h){var k={top:0,left:0};
if(!this.Om)return k;var l=this.options.viewport&&this.options.viewport.padding||0,m=this.Fl(this.Om);/right|left/.test(a)?(c=b.top-l-m.scroll,b=b.top+l-m.scroll+h,c<m.top?k.top=m.top-c:b>m.top+m.height&&(k.top=m.top+m.height-b)):(h=b.left-l,b=b.left+l+c,h<m.left?k.left=m.left-h:b>m.right&&(k.left=m.left+m.width-b));return k};b.prototype.Gl=function(){var a=this.B,b=this.options;return a.da("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};b.prototype.Kx=function(a){do a+=
~~(1E6*Math.random());while(document.getElementById(a));return a};b.prototype.dg=function(){if(!this.Hi&&(this.Hi=a(this.options.vu),1!=this.Hi.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.Hi};b.prototype.Qr=function(){return this.Jm=this.Jm||this.dg().find(".tooltip-arrow")};b.prototype.enable=function(){this.enabled=!0};b.prototype.disable=function(){this.enabled=!1};b.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+
this.type),c||(c=new this.constructor(b.currentTarget,this.Oo()),a(b.currentTarget).data("bs."+this.type,c)));b?(c.Xg.click=!c.Xg.click,c.Os()?c.Bo(c):c.Ll(c)):c.dg().Za("in")?c.Ll(c):c.Bo(c)};var c=a.D.oh;a.D.oh=function(c){return this.I(function(){var g=a(this),d=g.data("bs.tooltip"),h="object"==typeof c&&c;!d&&/destroy|hide/.test(c)||(d||g.data("bs.tooltip",d=new b(this,h)),"string"!=typeof c||d[c]())})};a.D.oh.vd=b;a.D.oh.m=function(){return a.D.oh=c,this}}(Nb);
+function(a){function b(a,b){this.vc("popover",a,b)}if(!a.D.oh)throw Error("Popover requires tooltip.js");b.m="3.3.5";b.gc=a.extend({},a.D.oh.vd.gc,{Sl:"right",U:"click",content:"",vu:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.D.oh.vd.prototype);b.prototype.constructor=b;b.prototype.No=function(){return b.gc};b.prototype.Nt=function(){var a=this.dg(),b=this.Gl(),c=this.zs();a.find(".popover-title")[this.options.vf?
"html":"text"](b);a.find(".popover-content").children().detach().end()[this.options.vf?"string"==typeof c?"html":"append":"text"](c);a.Ra("fade top bottom left right in");a.find(".popover-title").vf()||a.find(".popover-title").mc()};b.prototype.ei=function(){return this.Gl()||this.zs()};b.prototype.zs=function(){var a=this.B,b=this.options;return a.da("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};b.prototype.Qr=function(){return this.Jm=this.Jm||this.dg().find(".arrow")};
var c=a.D.Tl;a.D.Tl=function(c){return this.I(function(){var g=a(this),d=g.data("bs.popover"),h="object"==typeof c&&c;!d&&/destroy|hide/.test(c)||(d||g.data("bs.popover",d=new b(this,h)),"string"!=typeof c||d[c]())})};a.D.Tl.vd=b;a.D.Tl.m=function(){return a.D.Tl=c,this}}(Nb);
+function(a){function b(c,d){this.ud=a(document.body);this.qh=a(a(c).is(document.body)?window:c);this.options=a.extend({},b.gc,d);this.Sa=(this.options.target||"")+" .nav li > a";this.cc=[];this.Wp=[];this.Pn=null;this.scrollHeight=0;this.qh.ma("scroll.bs.scrollspy",a.$a(this.At,this));this.refresh();this.At()}function c(c){return this.I(function(){var d=a(this),e=d.data("bs.scrollspy"),k="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,k));"string"==typeof c&&e[c]()})}b.m="3.3.5";b.gc=
{offset:10};b.prototype.Bs=function(){return this.qh[0].scrollHeight||Math.max(this.ud[0].scrollHeight,document.documentElement.scrollHeight)};b.prototype.refresh=function(){var b=this,c="offset",e=0;this.cc=[];this.Wp=[];this.scrollHeight=this.Bs();a.Yg(this.qh[0])||(c="position",e=this.qh.scrollTop());this.ud.find(this.Sa).map(function(){var b=a(this),b=b.data("target")||b.da("href"),g=/^#./.test(b)&&a(b);return g&&g.length&&g.is(":visible")&&[[g[c]().top+e,b]]||null}).sort(function(a,b){return a[0]-
b[0]}).I(function(){b.cc.push(this[0]);b.Wp.push(this[1])})};b.prototype.At=function(){var a,b=this.qh.scrollTop()+this.options.offset,c=this.Bs(),e=this.options.offset+c-this.qh.height(),l=this.cc,m=this.Wp,q=this.Pn;if(this.scrollHeight!=c&&this.refresh(),b>=e)return q!=(a=m[m.length-1])&&this.hj(a);if(q&&b<l[0])return this.Pn=null,this.clear();for(a=l.length;a--;)q!=m[a]&&b>=l[a]&&(void 0===l[a+1]||b<l[a+1])&&this.hj(m[a])};b.prototype.hj=function(b){this.Pn=b;this.clear();b=a(this.Sa+'[data-target="'+
b+'"],'+this.Sa+'[href="'+b+'"]').$y("li").Ga("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").Ga("active"));b.U("activate.bs.scrollspy")};b.prototype.clear=function(){a(this.Sa).az(this.options.target,".active").Ra("active")};var e=a.D.Zl;a.D.Zl=c;a.D.Zl.vd=b;a.D.Zl.m=function(){return a.D.Zl=e,this};a(window).ma("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').I(function(){var b=a(this);c.call(b,b.data())})})}(Nb);
+function(a){function b(b){b.preventDefault();e.call(a(this),"show")}function c(b){this.element=a(b)}function e(b){return this.I(function(){var e=a(this),g=e.data("bs.tab");g||e.data("bs.tab",g=new c(this));"string"==typeof b&&g[b]()})}c.m="3.3.5";c.Tc=150;c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),e=b.data("target");if(e||(e=b.da("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").Za("active")){var g=c.find(".active:last a"),m=a.Event("hide.bs.tab",
{relatedTarget:b[0]}),q=a.Event("show.bs.tab",{relatedTarget:g[0]});(g.U(m),b.U(q),q.$b()||m.$b())||(e=a(e),this.hj(b.closest("li"),c),this.hj(e,e.parent(),function(){g.U({type:"hidden.bs.tab",relatedTarget:b[0]});b.U({type:"shown.bs.tab",relatedTarget:g[0]})}))}};c.prototype.hj=function(b,e,g){function l(){m.Ra("active").find("> .dropdown-menu > .active").Ra("active").end().find('[data-toggle="tab"]').da("aria-expanded",!1);b.Ga("active").find('[data-toggle="tab"]').da("aria-expanded",!0);q?(b[0].offsetWidth,
b.Ga("in")):b.Ra("fade");b.parent(".dropdown-menu").length&&b.closest("li.dropdown").Ga("active").end().find('[data-toggle="tab"]').da("aria-expanded",!0);g&&g()}var m=e.find("> .active"),q=g&&a.Xb.transition&&(m.length&&m.Za("fade")||!!e.find("> .fade").length);m.length&&q?m.yc("bsTransitionEnd",l).Td(c.Tc):l();m.Ra("in")};var g=a.D.tab;a.D.tab=e;a.D.tab.vd=c;a.D.tab.m=function(){return a.D.tab=g,this};a(document).ma("click.bs.tab.data-api",'[data-toggle="tab"]',b).ma("click.bs.tab.data-api",'[data-toggle="pill"]',
b)}(Nb);
+function(a){function b(c,d){this.options=a.extend({},b.gc,d);this.Mm=a(this.options.target).ma("scroll.bs.affix.data-api",a.$a(this.ro,this)).ma("click.bs.affix.data-api",a.$a(this.Qw,this));this.B=a(c);this.wp=this.bq=this.ij=null;this.ro()}function c(c){return this.I(function(){var d=a(this),e=d.data("bs.affix"),k="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,k));"string"==typeof c&&e[c]()})}b.m="3.3.5";b.Qa="affix affix-top affix-bottom";b.gc={offset:0,target:window};b.prototype.Ix=function(a,
b,c,e){var l=this.Mm.scrollTop(),m=this.B.offset(),q=this.Mm.height();if(null!=c&&"top"==this.ij)return c>l?"top":!1;if("bottom"==this.ij)return null!=c?l+this.bq<=m.top?!1:"bottom":a-e>=l+q?!1:"bottom";var r=null==this.ij,m=r?l:m.top;return null!=c&&c>=l?"top":null!=e&&m+(r?q:b)>=a-e?"bottom":!1};b.prototype.Hx=function(){if(this.wp)return this.wp;this.B.Ra(b.Qa).Ga("affix");var a=this.Mm.scrollTop();return this.wp=this.B.offset().top-a};b.prototype.Qw=function(){setTimeout(a.$a(this.ro,this),1)};
b.prototype.ro=function(){if(this.B.is(":visible")){var c=this.B.height(),d=this.options.offset,e=d.top,k=d.bottom,l=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(k=e=d);"function"==typeof e&&(e=d.top(this.B));"function"==typeof k&&(k=d.bottom(this.B));d=this.Ix(l,c,e,k);if(this.ij!=d){null!=this.bq&&this.B.ea("top","");var e="affix"+(d?"-"+d:""),m=a.Event(e+".bs.affix");if(this.B.U(m),m.$b())return;this.ij=d;this.bq="bottom"==d?this.Hx():null;this.B.Ra(b.Qa).Ga(e).U(e.replace("affix",
"affixed")+".bs.affix")}"bottom"==d&&this.B.offset({top:l-c-k})}};var e=a.D.dl;a.D.dl=c;a.D.dl.vd=b;a.D.dl.m=function(){return a.D.dl=e,this};a(window).ma("load",function(){a('[data-spy="affix"]').I(function(){var b=a(this),d=b.data();d.offset=d.offset||{};null!=d.Uy&&(d.offset.bottom=d.Uy);null!=d.offsetTop&&(d.offset.top=d.offsetTop);c.call(b,d)})})}(Nb);var Cf={};
!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.Kc=a():"function"==typeof define&&define.ow?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).$A=a()}(function(){return function b(c,e,g){function d(k,m){if(!e[k]){if(!c[k]){var q="function"==typeof require&&require;if(!m&&q)return q(k,!0);if(h)return h(k,!0);q=Error("Cannot find module '"+k+"'");throw q.code="MODULE_NOT_FOUND",q;}q=e[k]={Kc:{}};c[k][0].call(q.Kc,function(b){var e=
c[k][1][b];return d(e?e:b)},q,q.Kc,b,c,e,g)}return e[k].Kc}for(var h="function"==typeof require&&require,k=0;k<g.length;k++)d(g[k]);return d}({1:[function(b,c,e){!function(b){"undefined"==typeof SHIFTY_DEBUG_NOW&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var d=function(){function d(){}function k(b,c){for(var d in b)Object.hasOwnProperty.call(b,d)&&c(d)}function l(b,c){return k(c,function(d){b[d]=c[d]}),b}function m(b,c){k(c,function(d){"undefined"==typeof b[d]&&(b[d]=c[d])})}function q(b,c,d,
e,g,h,k){var l;b=(b-h)/g;for(l in c)c.hasOwnProperty(l)&&(c[l]=r(d[l],e[l],w[k[l]],b));return c}function r(b,c,d,e){return b+(c-b)*d(e)}function p(b,c){var d=t.prototype.filter,e=b.Gn;k(d,function(g){"undefined"!=typeof d[g][c]&&d[g][c].apply(b,e)})}function u(b,c,d,e,g,h,k,l,m){A=c+d;F=Math.min(E(),A);G=F>=A;b.bc()&&!G?(m(b.Nn,D),p(b,"beforeTween"),q(F,e,g,h,d,c,k),p(b,"afterTween"),l(e)):G&&(l(h),b.stop(!0))}function v(b,c){var d={};return"string"==typeof c?k(b,function(b){d[b]=c}):k(b,function(b){d[b]||
(d[b]=c[b]||x)}),d}function t(b,c){this.Hg=b||{};this.ur=!1;this.dw=z;"undefined"!=typeof c&&this.Mt(c)}var w,z,x="linear",D=1E3/60,B=Date.now?Date.now:function(){return+new Date},E=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:B;z="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var A,F,G;return t.prototype.bA=
function(b){return this.In?this:(void 0===b&&this.ur||this.Mt(b),this.ew(this.get()),this.Az())},t.prototype.Mt=function(b){b=b||{};this.ur=!0;this.Cr=null;this.ew=b.start||d;this.fw=b.step||d;this.bw=b.finish||d;this.aw=b.duration||500;this.Hg=b.from||this.get();this.Br=this.get();this.Mn=b.Ac||this.get();this.On=E();var c=this.Hg,e=this.Mn;return m(e,c),this.ej=v(c,b.Ee||x),this.Gn=[c,this.Br,e,this.ej],p(this,"tweenCreated"),this},t.prototype.get=function(){return l({},this.Hg)},t.prototype.set=
function(b){this.Hg=b},t.prototype.pause=function(){return this.Cr=E(),this.Wk=!0,this},t.prototype.Az=function(){this.Wk&&(this.On+=E()-this.Cr);this.Wk=!1;this.In=!0;var b=this;return this.Nn=function(){u(b,b.On,b.aw,b.Hg,b.Br,b.Mn,b.ej,b.fw,b.dw)},this.Nn(),this},t.prototype.stop=function(b){return this.In=!1,this.Wk=!1,this.Nn=d,b&&(l(this.Hg,this.Mn),p(this,"afterTweenEnd"),this.bw.call(this,this.Hg)),this},t.prototype.bc=function(){return this.In&&!this.Wk},t.prototype.Eb=function(){for(var b in this)this.hasOwnProperty(b)&&
delete this[b]},t.prototype.filter={},t.prototype.Cl={oy:function(b){return b}},w=t.prototype.Cl,l(t,{now:E,I:k,cA:q,KH:r,Xn:p,Ut:l,FC:m,Zw:v}),"function"==typeof SHIFTY_DEBUG_NOW&&(b.DH=u),"object"==typeof e?c.Kc=t:"undefined"==typeof b.Gv&&(b.Gv=t),t}();!function(){d.Ut(d.prototype.Cl,{$C:function(b){return Math.pow(b,2)},jD:function(b){return-(Math.pow(b-1,2)-1)},WC:function(b){return 1>(b/=.5)?.5*Math.pow(b,2):-.5*((b-=2)*b-2)},PC:function(b){return Math.pow(b,3)},hD:function(b){return Math.pow(b-
1,3)+1},UC:function(b){return 1>(b/=.5)?.5*Math.pow(b,3):.5*(Math.pow(b-2,3)+2)},aD:function(b){return Math.pow(b,4)},kD:function(b){return-(Math.pow(b-1,4)-1)},XC:function(b){return 1>(b/=.5)?.5*Math.pow(b,4):-.5*((b-=2)*Math.pow(b,3)-2)},bD:function(b){return Math.pow(b,5)},lD:function(b){return Math.pow(b-1,5)+1},YC:function(b){return 1>(b/=.5)?.5*Math.pow(b,5):.5*(Math.pow(b-2,5)+2)},cD:function(b){return-Math.cos(Math.PI/2*b)+1},mD:function(b){return Math.sin(Math.PI/2*b)},ZC:function(b){return-.5*
(Math.cos(Math.PI*b)-1)},QC:function(b){return 0===b?0:Math.pow(2,10*(b-1))},iD:function(b){return 1===b?1:-Math.pow(2,-10*b)+1},VC:function(b){return 0===b?0:1===b?1:1>(b/=.5)?.5*Math.pow(2,10*(b-1)):.5*(-Math.pow(2,-10*--b)+2)},OC:function(b){return-(Math.sqrt(1-b*b)-1)},gD:function(b){return Math.sqrt(1-Math.pow(b-1,2))},TC:function(b){return 1>(b/=.5)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)},fD:function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?
7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375},NC:function(b){return b*b*(2.70158*b-1.70158)},eD:function(b){return--b*b*(2.70158*b+1.70158)+1},SC:function(b){var c=1.70158;return 1>(b/=.5)?.5*b*b*(((c*=1.525)+1)*b-c):.5*((b-=2)*b*(((c*=1.525)+1)*b+c)+2)},oD:function(b){return-1*Math.pow(4,-8*b)*Math.sin(2*(6*b-1)*Math.PI/2)+1},sH:function(b){var c=1.70158;return 1>(b/=.5)?.5*b*b*(((c*=1.525)+1)*b-c):.5*((b-=2)*b*(((c*=1.525)+1)*b+c)+2)},rH:function(b){return b*b*(2.70158*b-1.70158)},
tH:function(b){return--b*b*(2.70158*b+1.70158)+1},LB:function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375},MB:function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?2-(7.5625*(b-=1.5/2.75)*b+.75):2.5/2.75>b?2-(7.5625*(b-=2.25/2.75)*b+.9375):2-(7.5625*(b-=2.625/2.75)*b+.984375)},LC:function(b){return 1>(b/=.5)?.5*Math.pow(b,4):-.5*((b-=2)*Math.pow(b,3)-2)},KC:function(b){return Math.pow(b,4)},nD:function(b){return Math.pow(b,
.25)}})}();(function(){function b(c,d,e,g,h){function k(b,c){var d,e,g,h,l;g=b;for(l=0;8>l;l++){if(h=((v*g+t)*g+w)*g-b,(0<=h?h:0-h)<c)return g;if(e=(3*v*g+2*t)*g+w,1E-6>(0<=e?e:0-e))break;g-=h/e}if(d=0,e=1,g=b,d>g)return d;if(g>e)return e;for(;e>d;){h=((v*g+t)*g+w)*g;l=h-b;if((0<=l?l:0-l)<c)break;b>h?d=g:e=g;g=.5*(e-d)+d}return g}var v=0,t=0,w=0,z=0,x=0,D=0;return w=3*d,t=3*(g-d)-w,v=1-w-t,D=3*e,x=3*(h-e)-D,z=1-D-x,function(b,c){var d=k(b,c);return((z*d+x)*d+D)*d}(c,.005)}function c(d,e,g,k){return function(c){return b(c,
d,e,g,k)}}d.UG=function(b,e,g,h,p){var u=c(e,g,h,p);return u.YH=e,u.$H=g,u.ZH=h,u.aI=p,d.prototype.Cl[b]=u};d.PH=function(b){delete d.prototype.Cl[b]}})();(function(){var b=new d;b.Gn=[];d.ld=function(c,e,g,q){var r=d.Ut({},c);q=d.Zw(c,q||"linear");b.set({});var p=b.Gn;p.length=0;p[0]=r;p[1]=c;p[2]=e;p[3]=q;d.Xn(b,"tweenCreated");d.Xn(b,"beforeTween");c=d.cA(g,r,c,e,1,0,q);return d.Xn(b,"afterTween"),c}})();(function(b){function c(g){b.I(g,function(b){var c=g[b];"string"==typeof c&&c.match(E)&&(g[b]=
e(E,c,d))})}function d(b){var c=b;b=(c=c.replace(/#/,""),3===c.length&&(c=c.split(""),c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]),G[0]=parseInt(c.substr(0,2),16),G[1]=parseInt(c.substr(2,2),16),G[2]=parseInt(c.substr(4,2),16),G);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function e(b,c,d){var g=c.match(b);b=c.replace(b,A);if(g)for(var h=g.length,k=0;h>k;k++)c=g.shift(),b=b.replace(A,d(c));return b}function g(b){var c=b.match(x),d=c.length;b=b.match(B)[0];for(var e=0;d>e;e++)b+=parseInt(c[e],10)+",";return b.slice(0,
-1)+")"}function r(c){var d={};return b.I(c,function(b){var e=c[b];if("string"==typeof e){var g=e.match(x),h=e.match(z),e=(h?(1===h.length||e[0].match(w))&&h.unshift(""):h=["",""],h.join(A));F.length=0;h=g.length;for(g=0;h>g;g++)F.push("_"+b+"_"+g);d[b]={xx:e,sj:F}}}),d}function p(c,d){b.I(d,function(b){for(var e=c[b].match(x),g=e.length,h=0;g>h;h++)c[d[b].sj[h]]=+e[h];delete c[b]})}function u(c,d){b.I(d,function(b){for(var h=d[b].sj,k,l={},p=h.length,r=0;p>r;r++)k=h[r],l[k]=c[k],delete c[k];h=d[b].sj;
y.length=0;k=h.length;for(p=0;k>p;p++)y.push(l[h[p]]);l=y;h=d[b].xx;k=l.length;for(p=0;k>p;p++)h=h.replace(A,+l[p].toFixed(4));c[b]=e(D,h,g)})}function v(c,d){b.I(d,function(b){for(var e=d[b].sj,g=e.length,h=c[b].split(" "),k=h[h.length-1],l=0;g>l;l++)c[e[l]]=h[l]||k;delete c[b]})}function t(c,d){b.I(d,function(b){for(var e=d[b].sj,g=e.length,h="",k=0;g>k;k++)h+=" "+c[e[k]],delete c[e[k]];c[b]=h.substr(1)})}var w=/(\d|\-|\.)/,z=/([^\-0-9\.]+)/g,x=/[0-9.\-]+/g,D=new RegExp("rgb\\("+x.source+/,\s*/.source+
x.source+/,\s*/.source+x.source+"\\)","g"),B=/^.*\(/,E=/#([0-9]|[a-f]){3,6}/gi,A="VAL",F=[],G=[],y=[];b.prototype.filter.EH={JH:function(b,d,e){c(b);c(d);c(e);this.Pf=r(b)},DB:function(b,c,d,e){v(e,this.Pf);p(b,this.Pf);p(c,this.Pf);p(d,this.Pf)},rB:function(b,c,d,e){u(b,this.Pf);u(c,this.Pf);u(d,this.Pf);t(e,this.Pf)}}})(d)}(this)},{}],2:[function(b,c){function e(){this.gj="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}";g.apply(this,arguments)}
var g=b("./shape"),d=b("./utils");e.prototype=new g;e.prototype.constructor=e;e.prototype.Kh=function(b){var c=b.zc;b.eg&&b.eg>b.zc&&(c=b.eg);b=50-c/2;return d.L(this.gj,{Ca:b,"2radius":2*b})};e.prototype.bl=function(b){return this.Kh(b)};c.Kc=e},{"./shape":6,"./utils":8}],3:[function(b,c){function e(){this.gj="M 0,{center} L 100,{center}";g.apply(this,arguments)}var g=b("./shape"),d=b("./utils");e.prototype=new g;e.prototype.constructor=e;e.prototype.wr=function(b,c){b.setAttribute("viewBox","0 0 100 "+
c.zc);b.setAttribute("preserveAspectRatio","none")};e.prototype.Kh=function(b){return d.L(this.gj,{Pa:b.zc/2})};e.prototype.bl=function(b){return this.Kh(b)};c.Kc=e},{"./shape":6,"./utils":8}],4:[function(b,c){var e=b("./line"),g=b("./circle"),d=b("./square"),h=b("./path");c.Kc={ia:e,uA:g,gB:d,ue:h}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(b,c){function e(b,c){c=d.extend({duration:800,Ee:"linear",from:{},Ac:{},step:function(){}},c);this.path=d.Ps(b)?document.querySelector(b):
b;this.Uc=c;this.Lh=null;var e=this.path.Cs();this.path.style.pH=e+" "+e;this.set(0)}var g=b("shifty"),d=b("./utils"),h={MC:"easeInCubic",dD:"easeOutCubic",RC:"easeInOutCubic"};e.prototype.value=function(){var b=this.Hn(),c=this.path.Cs();return parseFloat((1-b/c).toFixed(6),10)};e.prototype.set=function(b){this.stop();this.path.style.mu=this.Dr(b);var c=this.Uc.step;if(d.wa(c)){var e=this.ej(this.Uc.Ee);b=this.rr(b,e);c(b,this.Uc.shape||this,this.Uc.Rr)}};e.prototype.stop=function(){this.gw();this.path.style.mu=
this.Hn()};e.prototype.Bd=function(b,c,e){c=c||{};d.wa(c)&&(e=c,c={});var h=d.extend({},c),r=d.extend({},this.Uc);c=d.extend(r,c);r=this.ej(c.Ee);h=this.cw(b,r,h);this.stop();this.path.getBoundingClientRect();var p=this.Hn();b=this.Dr(b);var u=this;this.Lh=new g;this.Lh.bA({from:d.extend({offset:p},h.from),Ac:d.extend({offset:b},h.Ac),duration:c.duration,Ee:r,step:function(b){u.path.style.mu=b.offset;c.step(b,c.shape||u,c.Rr)},finish:function(){d.wa(e)&&e()}})};e.prototype.Hn=function(){var b=window.getComputedStyle(this.path,
null);return parseFloat(b.getPropertyValue("stroke-dashoffset"),10)};e.prototype.Dr=function(b){var c=this.path.Cs();return c-b*c};e.prototype.cw=function(b,c,d){return d.from&&d.Ac?{from:d.from,Ac:d.Ac}:{from:this.Wv(c),Ac:this.rr(b,c)}};e.prototype.Wv=function(b){return g.ld(this.Uc.from,this.Uc.Ac,this.value(),b)};e.prototype.rr=function(b,c){return g.ld(this.Uc.from,this.Uc.Ac,b,c)};e.prototype.gw=function(){null!==this.Lh&&(this.Lh.stop(),this.Lh.Eb(),this.Lh=null)};e.prototype.ej=function(b){return h.hasOwnProperty(b)?
h[b]:b};c.Kc=e},{"./utils":8,VG:1}],6:[function(b,c){var e=b("./path"),g=b("./utils"),d=function k(b,c){if(!(this instanceof k))throw Error("Constructor was called without new keyword");if(0!==arguments.length){this.Uc=g.extend({color:"#555",zc:1,Dm:null,eg:null,fill:null,text:{xw:!0,color:null,value:"",className:"progressbar-text"}},c,!0);var d,r=this.Yv(this.Uc);if(d=g.Ps(b)?document.querySelector(b):b,!d)throw Error("Container does not exist: "+b);this.Nb=d;this.Nb.appendChild(r.Vp);this.text=
null;this.Uc.text.value&&(this.text=this.Zv(this.Uc,this.Nb),this.Nb.appendChild(this.text));this.Vp=r.Vp;this.path=r.path;this.wu=r.wu;d=g.extend({Rr:void 0,shape:this},this.Uc);this.ye=new e(r.path,d)}};d.prototype.Bd=function(b,c,d){if(null===this.ye)throw Error("Object is destroyed");this.ye.Bd(b,c,d)};d.prototype.stop=function(){if(null===this.ye)throw Error("Object is destroyed");void 0!==this.ye&&this.ye.stop()};d.prototype.set=function(b){if(null===this.ye)throw Error("Object is destroyed");
this.ye.set(b)};d.prototype.value=function(){if(null===this.ye)throw Error("Object is destroyed");return void 0===this.ye?0:this.ye.value()};d.prototype.Yv=function(b){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");this.wr(c,b);var d=null;(b.Dm||b.eg)&&(d=this.$v(b),c.appendChild(d));b=this.Xv(b);return c.appendChild(b),{Vp:c,path:b,wu:d}};d.prototype.wr=function(b){b.setAttribute("viewBox","0 0 100 100")};d.prototype.Xv=function(b){var c=this.Kh(b);return this.vr(c,b)};d.prototype.$v=
function(b){var c=this.bl(b);b=g.extend({},b);return b.Dm||(b.Dm="#eee"),b.eg||(b.eg=b.zc),b.color=b.Dm,b.zc=b.eg,b.fill=null,this.vr(c,b)};d.prototype.vr=function(b,c){var d=document.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",b),d.setAttribute("stroke",c.color),d.setAttribute("stroke-width",c.zc),c.fill?d.setAttribute("fill",c.fill):d.setAttribute("fill-opacity","0"),d};d.prototype.Zv=function(b,c){var d=document.createElement("p");return d.appendChild(document.createTextNode(b.text.value)),
b.text.xw&&(c.style.position="relative",d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.padding=0,d.style.margin=0,g.Lp(d,"transform","translate(-50%, -50%)"),d.style.color=b.text.color?b.text.color:b.color),d.className=b.text.className,d};d.prototype.Kh=function(){throw Error("Override this function for each progress bar");};d.prototype.bl=function(){throw Error("Override this function for each progress bar");};c.Kc=d},{"./path":5,"./utils":8}],7:[function(b,c){function e(){this.gj=
"M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}";this.hw="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}";g.apply(this,arguments)}var g=b("./shape"),d=b("./utils");e.prototype=new g;e.prototype.constructor=e;e.prototype.Kh=function(b){return d.L(this.gj,{width:100-b.zc/2,zc:b.zc,Ox:b.zc/2})};e.prototype.bl=
function(b){return d.L(this.hw,{width:100-b.zc/2,zc:b.zc,Ox:b.zc/2,mH:b.zc/2-b.eg/2})};c.Kc=e},{"./shape":6,"./utils":8}],8:[function(b,c){function e(b,c,g){b=b||{};c=c||{};g=g||!1;for(var h in c)if(c.hasOwnProperty(h)){var r=b[h],p=c[h];b[h]=g&&d(r)&&d(p)?e(r,p,g):p}return b}function g(b){return b.charAt(0).toUpperCase()+b.slice(1)}function d(b){return"[object Array]"===Object.prototype.toString.call(b)?!1:"object"===typeof b&&!!b}var h=["Webkit","Moz","O","ms"];c.Kc={extend:e,L:function(b,c){var d=
b,e;for(e in c)c.hasOwnProperty(e)&&(d=d.replace(new RegExp("\\{"+e+"\\}","g"),c[e]));return d},Lp:function(b,c,d){for(var e=0;e<h.length;++e)b.style[h[e]+g(c)]=d;b.style[c]=d},RB:g,Ps:function(b){return"string"==typeof b||b instanceof String},wa:function(b){return"function"==typeof b},jE:d}},{}]},{},[4])(4)});var Df=!Zc||9<=Number(md);!ad&&!Zc||Zc&&9<=Number(md)||ad&&kd("1.9.1");Zc&&kd("9");function Ef(a){var b=document;return hb(a)?b.getElementById(a):a}function Ff(a,b){Oc(b,function(b,e){"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:Gf.hasOwnProperty(e)?a.setAttribute(Gf[e],b):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,b):a[e]=b})}
var Gf={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Hf(a,b,c){var e=arguments,g=document,d=e[0],h=e[1];if(!Df&&h&&(h.name||h.type)){d=["<",d];h.name&&d.push(' name="',Wb(h.name),'"');if(h.type){d.push(' type="',Wb(h.type),'"');var k={};Xc(k,h);delete k.type;h=k}d.push(">");d=d.join("")}d=g.createElement(d);h&&(hb(h)?d.className=h:"array"==Va(h)?d.className=h.join(" "):Ff(d,h));2<e.length&&If(g,d,e);return d}
function If(a,b,c){function e(c){c&&b.appendChild(hb(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var d=c[g];if(!gb(d)||mb(d)&&0<d.nodeType)e(d);else{var h;a:{if(d&&"number"==typeof d.length){if(mb(d)){h="function"==typeof d.item||"string"==typeof d.item;break a}if("function"==Va(d)){h="function"==typeof d.item;break a}}h=!1}Dc(h?Ec(d):d,e)}}};function Jf(){te.call(this);this.Pi="parser";this.gf=null;this.m=0;this.Qa=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.J=!0}Ib(Jf,ve);Jf.prototype.parse=function(){throw Error("The function parse() should be overloaded.");};function Kf(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);for(var e="",g=0,g=b;g<c;++g)e+=String.fromCharCode(a[g]);return e}
function Lf(a,b,c){null!=c||(c=1);var e=1,g=Uint8Array;switch(b){case "schar":g=Int8Array;break;case "ushort":g=Uint16Array;e=2;break;case "sshort":g=Int16Array;e=2;break;case "uint":g=Uint32Array;e=4;break;case "sint":g=Int32Array;e=4;break;case "float":g=Float32Array;e=4;break;case "complex":g=Float64Array;e=8;break;case "double":g=Float64Array,e=8}b=new g(a.gf.slice(a.m,a.m+=c*e));if(a.Qa!=a.J){a=b;b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);for(g=0;g<a.byteLength;g+=e)for(var d=g+e-1,
h=g;d>h;d--,h++){var k=b[h];b[h]=b[d];b[d]=k}b=a}return 1==c?b[0]:b};function Mf(){Jf.call(this)}Ib(Mf,Jf);
Mf.prototype.parse=function(a,b){this.gf=b;var c=new f.N;if("solid"==Kf(Lf(this,"uchar",5))){var e=Lf(this,"uchar",b.byteLength-5),g=e.length,d=!1,h=!1,k=0,l;for(l=0;l<g;l++)if(10==e[l]){if(d||h){var m=Kf(e,k,l).split(" "),h=parseFloat(m[0]),q=parseFloat(m[1]),m=parseFloat(m[2]);d||c.j.push(new f.g(h,q,m));h=d=!1}}else 32==e[l-1]&&(102==e[l]?(k=l+=13,d=!0):118==e[l]&&(k=l+=7,h=!0))}else for(this.m=80,e=Lf(this,"uint"),g=g=0;g<e;g++)d=Lf(this,"float",12),c.j.push(new f.g(d[3],d[4],d[5])),c.j.push(new f.g(d[6],
d[7],d[8])),c.j.push(new f.g(d[9],d[10],d[11])),this.m+=2;c.Ob();a.Jf=new f.za(c,new f.yd({color:15745952,ua:!0}));a.Jf.visible=a.yr;a.Jn=!0;a.Xk=!1;a.dispatchEvent({type:"PROCESSED",target:a})};Ab("DVT.parserSTL",Mf);Ab("DVT.parserSTL.prototype.parse",Mf.prototype.parse);function Nf(){Jf.call(this)}Ib(Nf,Jf);
Nf.prototype.parse=function(a,b,c){this.gf=b;Lf(this,"uchar",6);Lf(this,"ushort",3);var e=Lf(this,"float",3);Lf(this,"float",3);var g=Lf(this,"ushort");Lf(this,"uchar",200);Lf(this,"ushort");Lf(this,"uchar",200);var d=Lf(this,"float",16);Lf(this,"uchar",444);Lf(this,"uchar",4);Lf(this,"uchar",4);Lf(this,"float",6);Lf(this,"uchar",2);Lf(this,"uchar");Lf(this,"uchar");Lf(this,"uchar");Lf(this,"uchar");Lf(this,"uchar");Lf(this,"uchar");var h=Lf(this,"uint");Lf(this,"uint");b=Lf(this,"uint");var k=0===
h?Infinity:h,l=new f.Ea,m=Infinity,q=Infinity,r=Infinity,p=-Infinity,u=-Infinity,v=-Infinity;l.set(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]);var t=Lf(this,"uint",(this.gf.byteLength-1E3)/4);this.m=b;var w=Lf(this,"float",(this.gf.byteLength-1E3)/4),z=0,x=0,x=Infinity===k?1E5:Math.ceil(k/20),d=new f.N,D=new f.N;b=[];for(var B=0,h=0;h<k;h++){0===h%x&&c.Yk.Bd(h/k);if("undefined"===typeof t[z])break;for(var E=t[z],A=0,F=[],G=new f.N,y=0;y<E;y++){var G=w[z+
3*y+y*g+1],C=w[z+3*y+y*g+2],I=w[z+3*y+y*g+3],G=G/e[0],C=C/e[1],I=-I/e[2],C=new f.g(G,C,I);Be(C,l);C.x-=-0;C.y-=0;C.z-=-0;C.x*=1;C.y*=1;C.z*=1;C.x<m&&(m=C.x);C.x>p&&(p=C.x);C.y<q&&(q=C.y);C.y>u&&(u=C.y);C.z<r&&(r=C.z);C.z>v&&(v=C.z);d.j.push(C);F.push(C);0<y&&(A=[Math.abs(C.x-A.x),Math.abs(C.y-A.y),Math.abs(C.z-A.z)],I=Math.sqrt(A[0]*A[0]+A[1]*A[1]+A[2]*A[2]),1==y&&d.ja.push(new f.Z(A[0]/I,A[1]/I,A[2]/I)),d.ja.push(new f.Z(A[0]/I,A[1]/I,A[2]/I)),y<E-1&&(d.ja.push(new f.Z(A[0]/I,A[1]/I,A[2]/I)),d.j.push(C)));
A=C}y=new f.zv(F);F=y.di();G=new f.N;F=y.Nj(F/40*60);A=F[0];for(y=1;y<F.length;y++)C=F[y],A=[Math.abs(C.x-A.x),Math.abs(C.y-A.y),Math.abs(C.z-A.z)],I=Math.sqrt(A[0]*A[0]+A[1]*A[1]+A[2]*A[2]),1==y&&G.ja.push(new f.Z(A[0]/I,A[1]/I,A[2]/I)),G.ja.push(new f.Z(A[0]/I,A[1]/I,A[2]/I)),A=C;G.j=F;z+=3*E+E*g+1;for(y=0;y<F.length;y++)0==y%80&&(b.push(F[y].x),b.push(F[y].y),b.push(F[y].z),b.push(y+B));G.j.push(new f.g(999,999,999));G.j.push(new f.g(G.j.length-1,G.j.length-1,G.j.length-1));G.ja.push(new f.Z(0,
0,0));G.ja.push(new f.Z(0,0,0));B+=G.j.length;D.Hb(G);for(E=0;E<G.ja.length;E++)D.ja.push(G.ja[E])}a.m=Math.pow(2,Math.ceil(Math.log(Math.sqrt(b.length/4))/Math.LN2));console.log(a.m);c=new Float32Array(a.m*a.m*4);for(y=0;y<b.length;y+=4)c[4*(a.m*(a.m-Math.floor(y/a.m/4)-1)+y/4%a.m)+0]=b[y+0],c[4*(a.m*(a.m-Math.floor(y/a.m/4)-1)+y/4%a.m)+1]=b[y+1],c[4*(a.m*(a.m-Math.floor(y/a.m/4)-1)+y/4%a.m)+2]=b[y+2],c[4*(a.m*(a.m-Math.floor(y/a.m/4)-1)+y/4%a.m)+3]=b[y+3];console.log("mapArray",b);console.log(c);
c=new f.wd(c,a.m,a.m,f.$e,f.Mi);c.bb=f.Kd;c.Tb=f.Kd;c.V=!0;a.Zc=c;a.J=Math.pow(2,Math.ceil(Math.log(Math.sqrt(B))/Math.LN2));c=new Float32Array(a.J*a.J*3);for(y=0;y<B;y++)c[3*(a.J*(a.J-Math.floor(y/a.J)-1)+y%a.J)+0]=D.j[y].x,c[3*(a.J*(a.J-Math.floor(y/a.J)-1)+y%a.J)+1]=D.j[y].y,c[3*(a.J*(a.J-Math.floor(y/a.J)-1)+y%a.J)+2]=D.j[y].z;console.log(c);console.log(D.j);c=new f.wd(c,a.J,a.J,f.Zi,f.Mi);c.bb=f.Kd;c.Tb=f.Kd;c.V=!0;a.rc=c;d.Pg();d.Ob();d.Ph();console.log(d.ja.length,d.j.length);c=new f.zb({O:f.Fh});
a.ab=new f.ia(d,c,f.Jd);d=new f.N;h=0;for(c=b.length/4;h<c;h++)e=new f.g,e.x=h%a.m/a.m,e.y=Math.floor(h/a.m)/a.m,d.j.push(e);a.me=b.length;b=new f.hc({xa:{map:{type:"t",value:a.Zc},bigMap:{type:"t",value:a.rc},width:{type:"f",value:a.m},bigWidth:{type:"f",value:a.J}},ya:"uniform sampler2D map;\nuniform float width;\nvarying vec2 vUv;\nvoid main() {\nvec2 uv = position.xy + vec2( 0.5 / width, 0.5 / width );\nvUv = uv;\nvec4 pos = vec4(texture2D( map, uv ).rgb,1.0) ;\nvec4 mvPosition =modelViewMatrix * pos;\ngl_PointSize = 1.0 * ( 1000.0 / length( mvPosition.xyz ) );\ngl_Position = projectionMatrix * mvPosition;\n}",
va:"uniform sampler2D map;\nuniform sampler2D bigMap;\nuniform float width;\nuniform float bigWidth;\nvarying vec2 vUv;\nvoid main() {\nfloat prevIndex = texture2D( map, vUv).w;\nprevIndex -= 1.0;\nvec3 prevCoord = abs( texture2D( map, vUv).xyz - texture2D(bigMap, vec2(mod(prevIndex, bigWidth)/ bigWidth, floor(prevIndex/bigWidth)/bigWidth)).xyz);\nprevCoord/= length(prevCoord);\nvec3 nextCord = abs( texture2D( map, vUv).xyz - texture2D(bigMap, vec2(mod(prevIndex - 1.0, bigWidth)/ bigWidth, floor((prevIndex-1.0)/bigWidth)/bigWidth)).xyz);\nnextCord /= length(nextCord);\nprevCoord -= nextCord;\ngl_FragColor = vec4(prevCoord/length(prevCoord), length(prevCoord)*3.55);\n}",
qf:!1,pf:!1,Jb:!0});a.wg=b;a.Qa=new f.Ec(d,b);a.Jf=new f.P;a.Jf.add(a.ab);a.Jf.add(a.Qa);a.ab.visible=a.ke;a.Qa.visible=a.Pi;a.Jn=!0;a.Xk=!1;a.dispatchEvent({type:"PROCESSED",target:a})};Ab("DVT.parserTRK",Nf);Ab("DVT.parserTRK.prototype.parse",Nf.prototype.parse);function Of(){Jf.call(this);this.J=!1}Ib(Of,Jf);
Of.prototype.parse=function(a,b,c){this.gf=b;b=0;var e;do e=Lf(this,"uchar"),b++;while(200>b&&10!=e);Lf(this,"uchar");b=Lf(this,"uint");var g=Lf(this,"uint"),d=Lf(this,"float",3*b),h=Lf(this,"uint",3*g);b=new f.N;var k=Math.ceil(g/20),l;for(l=0;l<g;l++){0===l%k&&c.Yk.Bd(l/g);e=3*l;var m=h[e],q=h[e+1];e=h[e+2];b.F.push(new f.sa(m,q,e));b.j[m]||(b.j[m]=new f.g(d[3*m],d[3*m+1],d[3*m+2]));b.j[q]||(b.j[q]=new f.g(d[3*q],d[3*q+1],d[3*q+2]));b.j[e]||(b.j[e]=new f.g(d[3*e],d[3*e+1],d[3*e+2]))}c=Lf(this,"uchar",
this.gf.byteLength-this.m);g=null;for(e=0;e<c.length;e++)if(99==c[e]&&114==c[e+1]&&97==c[e+2]&&115==c[e+3]){for(d=g=e+9;10!=c[e]&&e<c.length;)d++,e++;g=Kf(c.subarray(g,d)).split(" ");break}if(g)for(c=new f.g(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])),e=0;e<b.j.length;e++)b.j[e]&&b.j[e].add(c);b.Ob();a.Jf=new f.za(b,new f.qe({color:15745952,ua:!1}));a.Jf.visible=a.yr;a.Jn=!0;a.Xk=!1;a.dispatchEvent({type:"PROCESSED",target:a})};Ab("DVT.parserFSM",Of);Ab("DVT.parserFSM.prototype.parse",Of.prototype.parse);function Pf(){Jf.call(this);this.J=!1}Ib(Pf,Jf);Pf.prototype.parse=function(a,b){this.wg=a;this.gf=b;Af(zf(b),this.ab.bind(this))};
Pf.prototype.ab=function(a,b){for(var c=new f.qg(.02,.02,.4),e=new f.Ui(.5,2),g=a.Pa(),d=0;d<b.j.length;d++)b.j[d].x+=g.x,b.j[d].y+=g.y,b.j[d].z+=g.z;g=new f.P;for(d=0;d<a.j.length;d++){var h=a.j[d],k=new f.Cc({color:a.ja[d]}),k=new f.za(e,k);k.position.A(h);g.add(k)}for(d=0;d<b.j.length;d+=2)e=b.j[d],h=b.j[d+1],k=new f.za(c,new f.qe(16777215)),k.position.A(e),k.position.wf(h,.5),k.scale.set(5,5,e.sf(h)),k.wc(h),g.add(k);c=this.wg;c.Jf=g;c.Jf.visible=c.yr;c.Jn=!0;c.Xk=!1;c.dispatchEvent({type:"PROCESSED",
target:c})};Ab("DVT.parserPDB",Pf);Ab("DVT.parserPDB.prototype.parse",Pf.prototype.parse);function Qf(a,b,c,e){te.call(this);this.Qa=a;this.ke=/(?:\.([^.]+))?$/.exec(b)[1];this.m=b;this.Nb=e;this.ab="loadBar"+this.Qa;this.rc="parseBar"+this.Qa;this.me="renderBar"+this.Qa;this.Zc=c;Rf(this,this.ab,"Loading "+this.m);Rf(this,this.rc,"Parsing "+this.m);Rf(this,this.me,"Rendering "+this.m);this.Nb.xr=this;this.Yk=new Cf.ia("#"+this.rc,{color:"#FC5B3F",from:{color:"#FC5B3F"},Ac:{color:"#6FD57F"},step:function(a,b){b.path.setAttribute("stroke",a.color)}});new Cf.ia("#"+this.me,{color:"#FC5B3F",
from:{color:"#FC5B3F"},Ac:{color:"#6FD57F"},step:function(a,b){b.path.setAttribute("stroke",a.color)}});this.J=new Cf.ia("#"+this.ab,{color:"#FC5B3F",from:{color:"#FC5B3F"},Ac:{color:"#6FD57F"},step:function(a,b){b.path.setAttribute("stroke",a.color)}})}Ib(Qf,ve);na=Qf.prototype;
na.load=function(){Ub("#"+this.Zc).ki("show");var a=new XMLHttpRequest;a.addEventListener("progress",this.dA.bind(this),!1);Rd(a,"load",this.qx.bind(this,a));Rd(a,"abort",this.Xs.bind(this));Rd(a,"error",this.Xs.bind(this));a.open("GET",this.m,!0);var b;a:switch(this.ke){case "trk":case "smoothwm":case "sphere":case "pial":case "inflated":case "orig":case "fsm":case "stl":b=!0;break a;default:b=!1}b&&(a.responseType="arraybuffer");a.send()};na.Xs=function(){console.log("LOAD FAILED");alert("load failed")};
na.dA=function(a){a.lengthComputable?this.J.Bd(a.loaded/a.total):this.J.Bd(.5)};
na.qx=function(a){if(404===a.status)alert("error: file not found");else switch(this.J.Bd(1,this.Er.bind(this,this.ab,this.J)),ne(this.Nb,"PROCESSED",this.rx,!1,this),a=a.response,this.ke){case "trk":var b=new Nf;b.parse(this.Nb,a,this);break;case "smoothwm":case "sphere":case "pial":case "inflated":case "orig":case "fsm":b=new Of;b.parse(this.Nb,a,this);break;case "stl":b=new Mf;b.parse(this.Nb,a,this);break;case "pdb":b=new Pf;b.parse(this.Nb,a,this);break;default:alert("Parser not found")}};
na.rx=function(){this.Yk.Bd(1,this.Er.bind(this,this.rc,this.Yk))};function Rf(a,b,c){Ub("#"+a.Zc+" .modal-body").append("<div id = holder"+b+"><span>"+c+"</span><span id="+b+"></span></div><br>")}na.Er=function(a){window.setTimeout(this.dispatchEvent.bind(this,{type:"PROGRESS",target:this}),1E3);Ub("#holder"+a).px(700,function(){Ub("#holder"+a).ea({visibility:"hidden",display:"block"}).Oz()})};function Sf(){this.m=this.J=0}Sf.prototype.vc=function(){Ub("body").append('<div class="modal fade" id="DVTloadbox" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><buttontype="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">Modal title</h4></div><div class="modal-body">BODY</div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Save changes</button></div></div></div></div>')};
Sf.prototype.load=function(a){a.Xk=!0;var b=a.file;this.J+=3;a=new Qf(this.m,b,"DVTloadbox",a);Rd(a,"PROGRESS",function(){--this.J;0===this.J&&Ub("#DVTloadbox").ki("hide")},!1,this);a.load();this.m+=1;return this.m-1};Ub(function(){Pb=function(){var a=new Sf;a.vc();return function(){return a}}()});function Tf(){te.call(this);this.Nb=window.document.body;this.ab=this.m=null;this.Qa=this.Nb.clientWidth;this.J=this.Nb.clientHeight;this.wg=[];this.Ik=[];this.xr=null}Ib(Tf,ve);Tf.prototype.resize=function(){var a=Ef(this.Nb),b=Ef(this.m);this.Qa=a.clientWidth;this.J=a.clientHeight;b.width=this.Qa;b.height=this.J;"renderer3D"===this.Pi&&(this.ab.viewport(0,0,this.Qa,this.J),this.tr.oB=Je(Ob.By,Ob.By.Il(),this.tr.nB,this.m.width/this.m.height,1))};Tf.prototype.__defineGetter__("camera",function(){return this.tr});
Tf.prototype.__defineGetter__("container",function(){return this.Nb});Tf.prototype.__defineSetter__("container",function(a){if(null==a)throw Error("An ID to a valid container (<div>..) is required.");var b=a;hb(b)&&(b=Ef(a));if(!mb(b)||1!=b.nodeType)throw Error("Could not find the given container.");this.Nb=b});
Tf.prototype.vc=function(a){var b=Hf("canvas");this.Nb.appendChild(b);this.Qa=this.Nb.clientWidth;this.J=this.Nb.clientHeight;b.width=this.Qa;b.height=this.J;this.m=b;this.xr=Pb();this.ab=this.m.getContext(a)};Tf.prototype.add=function(a){this.Ik.push(a);Rd(a,"PROCESSED",function(a){Uf(this,a.target)},!1,this);Uf(this,a)};function Uf(a,b){if(!a.m||!a.ab)throw Error("The renderer was not initialized properly.");if(null==b)throw Error("Illegal object.");}
Tf.prototype.get=function(a){if(null==a)throw Error("Invalid object");for(var b=this.wg,c=b.length,e=0,e=0;e<c;e++)if(b[e]==a)return b[e];return null};Tf.prototype.L=function(){if(!this.m||!this.ab)throw Error("The renderer was not initialized properly.");eval("this.onRender()");eval("this.afterRender()")};
}).call(this)
